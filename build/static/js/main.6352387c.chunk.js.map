{"version":3,"sources":["kadena_r_rev_3_whi_lor.png","Pact.SigBuilder.js","Markdown.js","util.js","PactTxStatus.js","PactWallet.js","NavDrawer.js","ScrollableTabs.js","HFT/HftConfig.js","HFT/HftEvents.js","HFT/HftState.js","HFT/HftTransactions.js","HFT/Manifest.js","HFT/Hft.js","App.js","serviceWorker.js","index.js","kadena-config.js"],"names":["enforceType","val","type","msg","TypeError","JSON","stringify","enforceArray","Array","isArray","debugMode","debug","args","length","console","mkCap","name","gasCap","mkSignerGas","publicKey","mkSignerCList","caps","clist","pubKey","autoCreationTime","Math","round","Date","getTime","autoNonce","toISOString","mkCmdTemplate","signers","networkId","meta","nonce","corePayload","mkExecPayload","pactCode","data","cmdJSON","exec","code","mkContPayload","pactId","step","proof","rollback","cont","pubKeysFromSigners","map","v","mkSigData","unsignedSigs","cmdJSONasString","sigDataExec","hash","Pact","crypto","cmd","sigs","SigData","mkMeta","sender","chainId","gasPrice","gasLimit","creationTime","ttl","mkSignerUnrestricted","util","addGasCap","push","mergeSigners","arrayOfSigners","flat","ex","execCmdExample1","user","signingPubKey","ms","lang","cs","foo","contCmdExample1","toggleDebug","log","useStyles","makeStyles","theme","root","width","cmdTag","icon","Chip","size","variant","color","label","style","marginTop","execute","opts","textApi","replaceSelection","MDEditor","props","value","onChange","useState","selectedTab","setSelectedTab","classes","saveImage","a","alert","newCmds","getDefaultCommandMap","newCmdBar","getDefaultToolbarCommands","commands","toolbarCommands","onTabChange","generateMarkdownPreview","markdown","getTagsFromMdBody","chips","tags","getTagsFromMd","strippedOfTags","_","clone","replaceAll","tagRegex","res","Promise","resolve","remarkPlugins","gfm","children","className","childProps","writeButton","tabIndex","paste","md","m","uniq","toLocaleLowerCase","ChipsFromTags","tag","backgroundColor","regexMatchTags","body","match","dashStyleNames2Text","display","flexWrap","margin","spacing","withoutLabel","textField","formControl","minWidth","selectEmpty","str","split","k","replace","RegExp","toUpperCase","join","isRootPactValue","renderPactValue","toLocaleString","toString","FlatPaper","rest","Paper","elevation","useTableStyles","isNested","height","table","borderBottom","PactSingleJsonAsTable","json","header","keyFormatter","valFormatter","internals","Fragment","TableHead","TableRow","TableCell","TableBody","Object","entries","Table","TableContainer","component","PactJsonListAsTable","keyOrder","keys","kvFunc","obj","has","FixedGroupedMultiSelector","getVal","setVal","options","Autocomplete","multiple","id","freeSolo","groupBy","option","getOptionLabel","sx","event","newValue","renderInput","params","TextField","MakeInputField","inputField","placeholder","select","required","fullWidth","e","target","MenuItem","multiline","rows","Checkbox","checked","allOpts","MakeForm","inputFields","onSubmit","pactTxStatus","refresh","txStatus","usePactWallet","current","walletName","signingKey","globalConfig","host","hostFromNetworkId","wasSubmitted","setWasSubmitted","useEffect","autoComplete","f","CardActions","Button","disabled","substring","LinearProgress","MakeLocalForm","signNewPactTx","sigData","setTx","setTxRes","setTxStatus","trackSigDataResult","txReqKey","retries","fetch","poll","requestKeys","result","status","r","setTimeout","PactTxStatus","tx","txRes","open","setOpen","modalOpen","setModalOpen","severity","Collapse","in","Alert","action","IconButton","onClick","fontSize","AlertTitle","Grid","container","direction","justify","alignItems","item","Divider","orientation","flexItem","href","hftAPI","explorerURL","Modal","onClose","Container","maxWidth","Box","txSignerStyles","appBar","position","title","marginLeft","flex","TxSignerTransition","React","forwardRef","ref","Slide","TxSigner","handleClose","Dialog","fullScreen","TransitionComponent","AppBar","Toolbar","edge","Typography","autoFocus","List","ListItem","ListItemText","primary","secondary","inline","pactWalletContextDefault","otherWallets","allKeys","contractConfigs","pastPactTxs","PactWalletContext","createContext","pactWalletReducer","state","Error","prevWallet","cloneDeep","newWallet","allKeys1","filter","concat","allKeys2","newKeys","configs","configName","config","newPactTxs","newTx","PactWallet","createPersistedState","usePersistedWallet","persistedPactWallet","setPersistedPactWallet","useReducer","wallet","walletDispatch","isEqual","mapKeys","Provider","useContext","walletDrawerEntries","subList","to","app","ui","WalletApp","appRoute","setAppRoute","Card","CardHeader","CardContent","createFilterOptions","EntrySelector","localOptions","inputValue","filterOptions","filtered","selectOnFocus","clearOnBlur","handleHomeEndKeys","defaultValue","renderOption","KeySelector","limitTags","CurrentWallet","OtherWallets","WalletConfig","saved","setSaved","setWalletName","accountName","setAccountName","setSigningKey","setNetworkId","setGasPrice","setGasLimit","setHost","loadingWallet","evt","preventDefault","Number","parseFloat","n","handleSubmit","drawer","breakpoints","up","flexShrink","zIndex","menuButton","marginRight","toolbar","mixins","drawerPaper","content","flexGrow","padding","nested","paddingLeft","logo","logoDiv","ListItemLink","hasSubList","useQueryParams","withDefault","StringParam","button","ListItemIcon","timeout","unmountOnExit","disablePadding","dense","entry","NavDrawer","withStyles","palette","warning","main","common","white","window","entriesList","useTheme","mobileOpen","setMobileOpen","anchorEl","setAnchorEl","openWalletMenu","Boolean","handleWalletMenuClose","handleDrawerToggle","undefined","document","src","alt","currentTarget","startIcon","Menu","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","Hidden","smUp","implementation","Drawer","anchor","paper","ModalProps","xsDown","TabPanel","index","other","role","hidden","p","background","ScrollableTabs","tabEntries","tabIdx","useQueryParam","NumberParam","setValue","Tabs","indicatorColor","textColor","scrollButtons","idx","Tab","HftConfig","convertPactRep","ks","convertMarmaladeParams","ps","namespace","contractName","zipObject","fqpAPI","fqrpAPI","parseEventParams","convertParams","eventHost","getCWDataEvents","offset","limit","raw","rawRes","ok","resJSON","text","resTEXT","sortEvents","ev1","ev2","newestToOldest","syncEventsFromCWData","threads","moduleHashBlacklist","promisedResults","completedResults","continueSync","i","all","every","flatten","moduleHash","includes","stateObj","ev","sort","b","orderBookRE","String","contractAddress","saleEvRE","quoteEvRE","acctGrdEvRE","tokenEvRE","getSaleForQuote","orderBook","saleId","find","test","requestKey","pactTxRe","RenderHftLedger","hftLedger","pretty","ledgerKey","contents","collapsed","enableClipboard","displayDataTypes","displayObjectSize","RenderHftTokens","hftTokens","RenderHftQuotes","quotes","recipient","sale","blockTime","slice","price","quote","signExecHftCommand","envData","capsWithGas","execSigData","signContHftCommand","CreateGuardPolicyToken","mfCache","setId","manifest","setManifest","precision","setPrecision","mintGrd","setMintGrd","burnGrd","setBurnGrd","saleGrd","setSaleGrd","transferGrd","setTransferGrd","gtpAPI","parse","CreateFixedQuotePolicyToken","maxSupply","setMaxSupply","minAmount","setMinAmount","CreateFixedQuoteRoyaltyPolicyToken","fungible","setFungible","creator","setCreator","creatorGrd","setCreatorGrd","royaltyRate","setRoyaltyRate","Mint","token","setToken","account","setAccount","newKs","setNewKs","amount","setAmount","g","parseInt","TransferCreate","setSender","receiver","setReceiver","sortedUniq","Transfer","CreateAccount","grdKeys","setGrdKeys","grdPred","setGrdPred","pred","SaleFixedQuotePolicy","seller","setSeller","possibleSellers","setPossibleSellers","timeLimit","setTimeLimit","setPrice","setRecipient","recipientGrd","setRecipientGrd","possibleTokens","setPossibleTokens","int","BuyFixedQuotePolicy","setSaleId","buyer","setBuyer","buyerGrd","setBuyerGrd","spec","tokenId","transfer","WithdrawFixedQuotePolicy","LedgerForms","getHftLedger","getHftTokens","TokenForms","OrderForms","getHftEvents","createUri","scheme","local","manifestAPI","createDatum","uri","datum","createManifest","RenderUri","RenderManifest","RenderDatum","CreateUri","setMfCache","setScheme","setData","CreateDatum","setUri","setDatum","uriObj","datumObj","CreateManifest","dataObjList","ManifestForms","hftDrawerEntries","HftApp","hftEvents","App","setHftLedger","setHftTokens","setHftEvents","setOrderBook","setQuotes","newEventHeight","oldHftEvents","dropWhile","marmEvents","newHftEvents","takeWhile","mergedEvents","jankyStreaming","getHftLedgerFromEvents","evs","existingEntries","Set","newEntries","acctEvs","onlyAcctGrdEvents","acct","acctLedgerKey","add","newHftLedger","getHftTokensFromEvents","tokenEvs","onlyTokenEvents","supply","policy","newHftTokens","onlyQuoteEvents","location","hostname","Main","useMemo","createMuiTheme","light","dark","contrastText","StrictMode","ThemeProvider","NoSsr","CssBaseline","basename","process","ReactRouterRoute","Route","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message","node","hftNamespace","hftContractName","manifestNamespace","manifestContractName","gtpNamespace","gtpContractName","fqpNamespace","fqpContractName","fqrpNamespace","fqrpContractName","gasStationName","apiHost","dataHost","gasStationAddress","constants","module","exports"],"mappings":"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","file":"static/js/main.6352387c.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/kadena_r_rev_3_whi_lor.7da4e7c0.png\";","import Pact from 'pact-lang-api';\n\n// DELTE ME BEFORE MERGE TO pact-lang-api\nvar enforceType = function(val, type, msg) {\n    if (typeof val !== type) {\n      throw new TypeError(\n        msg + \" must be a \" + type + \": \" + JSON.stringify(val)\n      );\n    }\n  };\n\n// DELTE ME BEFORE MERGE TO pact-lang-api\nvar enforceArray = function(val, msg) {\n    if (!Array.isArray(val)) {\n        throw new TypeError(msg + \" must be an array: \" + JSON.stringify(val));\n    }\n};\n\n/**\n * @typedef {object} MetaData - optional arguments for SigData construction\n * @property {string} sender gas account\n * @property {string} chainId chain identifier\n * @property {number} gasPrice desired gas price\n * @property {number} gasLimit desired gas limit\n * @property {number} creationTime desired tx's time created in UNIX epoch time as seconds\n * @property {number} ttl desired tx's time to live as seconds\n */\n\n/**\n * Prepare a chainweb-style public meta payload.\n * @param {string} sender gas account\n * @param {string} chainId chain identifier\n * @param {number} gasPrice desired gas price\n * @param {number} gasLimit desired gas limit\n * @param {number} creationTime desired tx's time created in UNIX epoch time as seconds\n * @param {number} ttl desired tx's time to live as seconds\n * @returns {MetaData} of arguments, type-checked and properly named.\n */\n var mkMeta = function(sender, chainId, gasPrice, gasLimit, creationTime, ttl) {\n    enforceType(sender, \"string\", \"sender\");\n    enforceType(chainId, \"string\", \"chainId\");\n    enforceType(gasPrice, \"number\", \"gasPrice\");\n    enforceType(gasLimit, \"number\", \"gasLimit\");\n    enforceType(creationTime, \"number\", \"creationTime\");\n    enforceType(ttl,  \"number\", \"ttl\");\n    return {\n      creationTime: creationTime,\n      ttl: ttl,\n      gasLimit: gasLimit,\n      chainId: chainId,\n      gasPrice: gasPrice,\n      sender: sender\n    };\n  };\n\nvar debugMode = false;\n\nconst debug = (...args) => {\n  if (debugMode && args.length) {\n    console.debug(\"[Pact.SigBuilder]\", ...args);\n  };\n};\n\nconst toggleDebug = () => {\n  debugMode = !debugMode;\n  console.log(\"[Pact.SigBuilder] debugMode set to\", debugMode);\n};\n\n/**\n * @typedef {object} Cap - A capability\n * @property {string} name of pact capability to be signed\n * @property {array} args - array of arguments used in pact capability, default to empty array.\n */\n\n/**\n * @typedef {string} PubKeyEd25519 - a ED25519 public key for the caps argument\n */\n\n/**\n * @typedef {Array.<Cap>} CList - a list of `Cap`s\n */\n\n/**\n * Prepares a capability object for use in mkSignerCList.\n * @param {string} name of pact capability to be signed\n * @param {array} args - array of arguments used in pact capability, default to empty array.\n * @returns {Cap} A properly formatted cap object required in SigBuilder\n */\nconst mkCap = (name, args=[]) => {\n  enforceType(name,\"string\",\"mkCap's name\");\n  enforceArray(args,\"mkCap's args\");\n  return {\n      name: name,\n      args: args\n  };\n};\n\n/**\n * Standard gas cap, created by mkCap, for use in mkGasSigner or mkSignerCList\n * @type {Cap} A properly formatted element for the `signers` array field in SigBuilder\n */\nconst gasCap = mkCap(\"coin.GAS\", []);\n\n/**\n * @typedef {object} Signer a list of caps for a signature to sign for\n * @property {PubKeyEd25519} publicKey a ED25519 public key for the caps argument\n * @property {CList} caps an array of caps created with SigBuilder.mkCap\n */\n\n/**\n * @typedef {Array.<Signer>} Signers a list of `Signer`\n */\n\n/**\n * Convinence function to make the gas cap \"signer\" element\n * @param {PubKeyEd25519} publicKey a ED25519 public key for the caps argument\n * @returns {Signers} A properly formatted element for the `signers` array field in SigBuilder\n */\nconst mkSignerGas = (publicKey) => {\n    enforceType(publicKey,\"string\",\"mkSignerGas' publicKey\");\n    return mkSignerCList(publicKey, [gasCap]);\n};\n\n/**\n * Convinence function to add a gasCap to a list of caps\n * @param {CList} caps a ED25519 public key for the caps argument\n * @returns {CList} A properly formatted element for the `signers` array field in SigBuilder\n */\nconst addGasCap = (caps) => {\n  enforceArray(caps,\"addGasCap's caps\");\n  caps.push(gasCap);\n  return caps;\n};\n\n/**\n * Make a Capabilites \"signer\" array for inclusion in a SigBuilder.\n * @param {PubKeyEd25519} publicKey a ED25519 public key for the caps argument\n * @param {CList} caps an array of caps created with SigBuilder.mkCap\n * @returns {Signers} A properly formatted element for the `signers` array field in SigBuilder\n */\nconst mkSignerCList = (publicKey, caps) => {\n    enforceType(publicKey,\"string\",\"mkSignerCList's publicKey\");\n    enforceArray(caps,\"mkSignerCList's caps\");\n    return [{\n      clist: caps,\n      pubKey: publicKey\n    }]\n};\n\n/**\n * Make an ED25519 (aka unrestricted) \"signer\" array for inclusion in SigBuilder.\n * @param {PubKeyEd25519} publicKey a ED25519 public key for the caps argument\n * @returns {Signers} FYI Unrestricted Signers do not have CList field (TODO: Figure out TS notation here)\n */\nconst mkSignerUnrestricted = (publicKey) => {\n    enforceType(publicKey,\"string\",\"mkSignerUnrestricted's publicKey\");\n    return [{\n      pubKey: publicKey\n    }]\n};\n\n/**\n * Combine multiple signer arrays created by mkSigner* functions\n * @param  {Array.<Signers>} arrayOfSigners of pact capability to be signed\n * @returns {Signers} A properly formatted cap object required in SigBuilder\n */\nconst mergeSigners = (arrayOfSigners) => {\n    enforceArray(arrayOfSigners, \"mergeSigners's arrayOfSigners\");\n    return arrayOfSigners.flat();\n};\n\n/**\n * Convinence function to get a creation time set to system's local time\n * @returns {number} seconds since epoch\n */\nconst autoCreationTime = () => Math.round(new Date().getTime() / 1000) - 15;\n\n/**\n * Convinence function to get a nonce for use in Payload\n * @returns {string} the string \"SigBuilder:\".concat(Date.toISOString)\n */\nconst autoNonce = () => JSON.stringify(new Date().toISOString());\n\n/**\n * @typedef {object} SigDataOptArgs - optional arguments for SigData construction\n * @property {string} [nonce] for the tx (default: `autoNonce()`)\n * @property {object} [data={}] environmental data of the executing pact cont (defaults: `{}`)\n * @property {string} [proof] for use in `verify`\n * @property {boolean} [rollback=false] is the pact cont rolling back (`false` if empty)\n */\n\n/**\n * @typedef {object} CmdTemplate - All cmd fields sans `payload`\n * @property {Signers} signers\n * @property {string} networkId\n * @property {MetaData} meta\n * @property {string} nonce\n */\n\n\n/**\n * Generates a correctly formatted `cmd` core for use in mk[Exec|Cont]Payload\n * FYI SigData is compatible with:\n *  - `pact -u` on the command line\n *  - SigBuilder in Chainweaver\n * @param {Signers} signers the output of mkSigner-class functions\n * @param {string} networkId\n * @param {MetaData} meta output of mkMeta\n * @param {SigDataOptArgs} [optArgs] only `{nonce}` applicable\n * @returns {CmdTemplate} cmdJSON object for an exec tx\n */\n const mkCmdTemplate = (\n  signers,\n  networkId,\n  meta,\n  {nonce}\n) => {\n  enforceArray(signers, \"mkCmdTemplate's signers\");\n  enforceType(networkId, \"string\", \"mkCmdTemplate's networkId\");\n  enforceType(meta, \"object\", \"mkCmdTemplate's\");\n  if (nonce) {enforceType(nonce, \"string\", \"mkCmdTemplate's nonce\");}\n\n  const corePayload = {\n    networkId: networkId,\n    signers: signers,\n    meta,\n    nonce: nonce || autoNonce()\n  };\n  debug('corePayload', corePayload);\n  return corePayload;\n};\n\n/**\n * @typedef {object} CmdJSON - fully populated `cmd:<CmdJSON>`\n * @property {Signers} signers\n * @property {string} networkId\n * @property {MetaData} meta\n * @property {string} nonce\n * @property {object} payload\n */\n\n/**\n * Generates a correctly formatted exec `cmd` field for use in the SigData type\n * FYI SigData is compatible with:\n *  - `pact -u` on the command line\n *  - SigBuilder in Chainweaver\n * @param {string} pactCode the pact code of the command\n * @param {Signers} signers the output of mkSigner-class functions\n * @param {string} networkId\n * @param {MetaData} meta output of mkMeta\n * @param {SigDataOptArgs} [optArgs] only `{data, nonce}` apply\n * @returns {CmdJSON} cmdJSON object for an exec tx\n */\nconst mkExecPayload = (\n  pactCode,\n  signers,\n  networkId,\n  meta,\n  {data,nonce}\n) => {\n  enforceType(pactCode, \"string\", \"mkExecPayload's pactCode\");\n  enforceArray(signers, \"mkExecPayload's signers\");\n  enforceType(networkId, \"string\", \"mkExecPayload's networkId\");\n  enforceType(meta, \"object\", \"mkExecPayload's\");\n  if (data) {enforceType(data, \"object\", \"mkExecPayload's envData\");}\n  if (nonce) {enforceType(nonce, \"string\", \"mkExecPayload's nonce\");}\n\n  var cmdJSON = mkCmdTemplate(signers,networkId,meta,{nonce});\n  cmdJSON[\"payload\"] = {\n      exec: {\n        data: data || {},\n        code: pactCode\n      }\n  };\n  debug('execPayload', cmdJSON);\n  return cmdJSON;\n};\n\n/**\n * Generates a correctly formatted cont `cmd` field for use in the SigData type\n * FYI SigData is compatible with:\n *  - `pact -u` on the command line\n *  - SigBuilder in Chainweaver\n * @param {string} pactId of the cont\n * @param {integer} step of the pact to be continued\n * @param {Signers} signers the output of mkSigner-class functions\n * @param {string} networkId\n * @param {MetaData} meta output of mkMeta\n * @param {SigDataOptArgs} [optArgs] `{nonce,data,proof,rollback}`\n * @returns {CmdJSON} cmdJSON object for a cont tx\n */\nconst mkContPayload = (\n  pactId,\n  step,\n  signers,\n  networkId,\n  meta,\n  {nonce,data,proof,rollback}\n) => {\n  enforceType(pactId, \"string\", \"mkContPayload's pactId\");\n  enforceType(step, \"number\", \"mkContPayload's pactId\");\n  enforceArray(signers, \"mkContPayload's signers\");\n  enforceType(networkId, \"string\", \"mkContPayload's networkId\");\n  enforceType(meta, \"object\", \"mkContPayload's meta\");\n  if (nonce) {enforceType(nonce, \"string\", \"mkContPayload's nonce\");};\n  if (proof) {enforceType(proof, \"string\", \"mkContPayload's proof\");} else {proof = null;};\n  if (data) {enforceType(data, \"object\", \"mkContPayload's data\");} else {data = null;};\n  if (rollback) {enforceType(rollback, \"boolean\", \"mkContPayload's rollback\");} else {rollback = false;};\n\n  var cmdJSON = mkCmdTemplate(signers,networkId,meta,{nonce});\n  cmdJSON[\"payload\"] = {\n      cont: {\n        pactId,\n        step,\n        rollback,\n        data,\n        proof\n      }\n  };\n  debug('contPayload', cmdJSON);\n  return cmdJSON;\n};\n\n/**\n * Get the pubKeys from a signers field\n * @param {Signers} signers the signers field from cmdJSON\n * @returns {Array.<PubKeyEd25519>} signer keys used in tx\n */\nconst pubKeysFromSigners = (signers) => {\n  enforceArray(signers, \"pubKeysFromSigners' signers must be an array\");\n  return signers.map(v=>v.pubKey);\n};\n\n/**\n * @typedef {string} CmdJSONasString\n *\n * @typedef {string} SigDataHash\n *\n * @typedef {string | null} SignatureEd25519\n *\n * @typedef {Object.<PubKeyEd25519, SignatureEd25519>} Sigs\n *\n * @typedef {object} SigData\n * @property {SigDataHash} hash - hash of stringified `CmdJSON`\n * @property {CmdJSONasString} cmd - stringified `CmdJSON`\n * @property {Sigs} sigs - Required Sigs of `CmdJSON`\n */\n\n/**\n * Create the SigData Object for txs\n * @param {CmdJSON} cmdJSON returned from mkExecPayload or mkContPayload\n * @param {Signers} [signers=[]] is an optional array of pubKeys, overrides those found in signers's caps\n * @returns {SigData} the SigData object for use in SigBuilder\n */\nconst mkSigData = (cmdJSON, signers=[]) => {\n  var unsignedSigs = {};\n  if (signers.length) {\n    signers.map(pubKey => {\n        unsignedSigs[pubKey] = null;\n        return null;\n    });\n  } else {\n    pubKeysFromSigners(cmdJSON.signers).map(pubKey => {\n        unsignedSigs[pubKey] = null;\n        return null;\n    });\n  };\n\n  const cmdJSONasString = JSON.stringify(cmdJSON);\n  const sigDataExec = {hash: Pact.crypto.hash(cmdJSONasString), cmd: cmdJSONasString, sigs: unsignedSigs};\n  debug(\"mkSigData\", sigDataExec);\n  return sigDataExec;\n};\n\nconst execCmdExample1 = ({\n  user,\n  signingPubKey,\n  networkId,\n  gasPrice,\n  gasLimit\n}) => {\n  //creates transaction to send to wallet\n  const caps = mkSignerGas(signingPubKey);\n\n  const ms = {\n      sender: user,\n      chainId: \"1\",\n      gasPrice: gasPrice,\n      gasLimit: gasLimit,\n      creationTime: autoCreationTime(),\n      ttl: 28800};\n  const meta = Pact.lang.mkMeta(ms.sender, ms.chainId, ms.gasPrice, ms.gasLimit, ms.creationTime, ms.ttl);\n\n  debug(\"caps\", caps);\n  const cs = {\n      pactCode: \"(+ 1 1)\",\n      data: {foo: \"bar\"},\n      signers: caps,\n      networkId: networkId,\n      meta: meta\n  };\n  const cmdJSON = mkExecPayload(\n    cs.pactCode,\n    cs.signers,\n    cs.networkId,\n    cs.meta,\n    {data: cs.data}\n    );\n  const execSigData = mkSigData(cmdJSON);\n  return execSigData;\n};\n\nconst contCmdExample1 = ({\n  user,\n  signingPubKey,\n  networkId,\n  gasPrice,\n  gasLimit\n}) => {\n  //creates transaction to send to wallet\n  const caps = mkSignerGas(signingPubKey);\n  const ms = {\n      sender: user,\n      chainId: \"4\",\n      gasPrice: gasPrice,\n      gasLimit: gasLimit,\n      creationTime: autoCreationTime(),\n      ttl: 28800};\n  const meta = Pact.lang.mkMeta(ms.sender, ms.chainId, ms.gasPrice, ms.gasLimit, ms.creationTime, ms.ttl);\n\n  debug(\"caps\", caps);\n  const cs = {\n      \"proof\": \"eyJjaGFpbiI6NCwib2JqZWN0IjoiQUFBQUVBQUFBQUFBQUFBQkFOQ1lzbnNjV2VWcHRtNWd6eXl2YzZxRTAxX195QzV3LUx5R3p4SWNOc0ZOQUxLY19UeVd6YlphVjA1TjBtMFdVQjVxTFVoY2FSUDd2NHpEbkJhY21ORExBZWhPUk94V0FyQmJ1emV2dktNR1BlMHVGVV9QTzJ6MzdULS1jS2F0NnV3ekFWWU5Fdzk1S1prckdRMF93ZXZFVkdsaFkyTEwycUxHZXF2NnJ4UFBMMHFrQUFlVmRSanRvYU4xSHNhSF9xek1LUjRnZ29acGZoSVVVMEJSSG0yWmh0emVBY0pjV0w1ejlzZlU4ZFdVUlFTMF9rUmR3ajZaeGFRQ2FicTdYcl9aeEQ1UUFBWUdoZHBWX3V1b3FxOXVaYkdON1N0LVNqYXp3cTFRLTdxdWIzSHhHV0tkQU1iX3E5T2k5YXRjVXYydERaQUpCVHJiV1pZM2s4VTc4YTlMX1pWc0pXRDVBY212eUJvTFViNHhKY1FiWldoRG85eDZGQ19uaU5mOXFkMVVZRWtySFZXN0FOU3pwNm5pNHJvZUprSGxZal9vVnZuN1lxdXRGZE41TlVzc09jd1ZyMmRUQU11dnQ1aWVVdGVFc3hRQ1VOeEp5SXN3WUFDUGxTUzdMWkZPUy1HM2NGOThBTVhlRnJ4NFFLVUludVVfYlFyclR0UEdCc2dKWGxib0hrMHlCamNaRWNhT0FBNHVRcDhYbENBYnFGclFCTWRISFJic3dtT05RcEtUN210SnZEQUpCNzZqQVdFb0E5V1paVG9UWHZKcGlESDcySFFTdFRwNTdrRDZlUEFoTXkzUFA0NFZBQ1I5MEFHdVVWeHlwd3VCMEVHM1NOOGJLSG9QUW9ab1pVRDNScDkzX05DdEFNRktXb3FZZFRITXpGcHJSM2R1Q2d3bzhVbnpRZ29Ta1dnc2U2UEU5S3FxIiwic3ViamVjdCI6eyJpbnB1dCI6IkFCUjdJbWRoY3lJNk5qQXdMQ0p5WlhOMWJIUWlPbnNpYzNSaGRIVnpJam9pWm1GcGJIVnlaU0lzSW1WeWNtOXlJanA3SW1OaGJHeFRkR0ZqYXlJNlcxMHNJblI1Y0dVaU9pSkZkbUZzUlhKeWIzSWlMQ0p0WlhOellXZGxJam9pVkhsd1pTQmxjbkp2Y2pvZ1pYaHdaV04wWldRZ1pHVmphVzFoYkN3Z1ptOTFibVFnYVc1MFpXZGxjaUlzSW1sdVptOGlPaUk4YVc1MFpYSmhZM1JwZG1VLU9qQTZNVFF4TlRRaWZYMHNJbkpsY1V0bGVTSTZJblJ4TVVoNFVtMVplRkZHYXkwdFpHNUVRbEJXYzBod1RteGpRbXhQUlhKT05FOTNSVmhTYVdOR1FXY2lMQ0pzYjJkeklqb2laSEJEVEZGblVtTnVZbTlZYjBNNVpVaExObU5OYzBWNU1HUXpVRUZ1TTFGTmNFOXFNMUUyVkZCSFNTSXNJbVYyWlc1MGN5STZXM3NpY0dGeVlXMXpJanBiSW1KbE1qSTVaalJoT1RjMVpUUTBNV1JqTmprMFpHVmtNR1U1TWpZd1pEazVNekkzTURFeU9EY3dNbVptTldFMVlXWTNZbVZrTW1VME1tTTVOV05sTURraUxDSmtZamMzTmpjNU0ySmxNR1pqWmpobE56WmpOelZpWkdJek5XRXpObVUyTjJZeU9UZ3hNVEZrWXpZeE5EVmpOalkyT1ROaU1ERXpNekU1TW1VeU5qRTJJaXcyTGpCbExUWmRMQ0p1WVcxbElqb2lWRkpCVGxOR1JWSWlMQ0p0YjJSMWJHVWlPbnNpYm1GdFpYTndZV05sSWpwdWRXeHNMQ0p1WVcxbElqb2lZMjlwYmlKOUxDSnRiMlIxYkdWSVlYTm9Jam9pTVc5elgzTk1RVlZaZGtKNmMzQnVOV3BxWVhkMFVuQktWMmxJTVZkUVptaDVUbkpoWlZaMlUwbDNWU0o5WFN3aWJXVjBZVVJoZEdFaU9tNTFiR3dzSW1OdmJuUnBiblZoZEdsdmJpSTZiblZzYkN3aWRIaEpaQ0k2Ym5Wc2JIMCJ9LCJhbGdvcml0aG0iOiJTSEE1MTJ0XzI1NiJ9\",\n      \"pactId\": \"tq1HxRmYxQFk--dnDBPVsHpNlcBlOErN4OwEXRicFAg\",\n      \"step\": 1,\n      signers: caps,\n      networkId: networkId,\n      meta: meta\n  };\n  const cmdJSON = mkContPayload(\n    cs.pactId,\n    cs.step,\n    cs.signers,\n    cs.networkId,\n    cs.meta,\n    {proof: cs.proof}\n    );\n  const execSigData = mkSigData(cmdJSON);\n  return execSigData;\n};\n\nexport const SigData = {\n                mkMeta,\n                mkCap,\n                mkSignerGas,\n                mkSignerCList,\n                mkSignerUnrestricted,\n                mkExecPayload,\n                mkContPayload,\n                mkSigData,\n                util: {\n                  gasCap,\n                  addGasCap,\n                  mergeSigners,\n                  autoCreationTime,\n                  autoNonce,\n                  pubKeysFromSigners\n                },\n                ex: {\n                  execCmdExample1,\n                  contCmdExample1\n                },\n                debug: {\n                  toggleDebug\n                }\n\n    };\n","import React, { useState } from \"react\";\nimport _ from \"lodash\";\nimport ReactMde, {Command, getDefaultCommandMap, getDefaultToolbarCommands} from \"react-mde\";\nimport ReactMarkdown from \"react-markdown\";\nimport gfm from 'remark-gfm';\nimport \"react-mde/lib/styles/css/react-mde-all.css\";\n\nimport {\n  Chip,\n  Container, makeStyles,\n} from '@material-ui/core';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n      '& p img': {width: \"100%\"},\n  }\n}));\n\nconst cmdTag = {\n  name: \"add tag\",\n  icon: () => <Chip size=\"small\" variant=\"outline\" color=\"default\" label=\"Tag\" style={{marginTop: \"-5px\"}}/>,\n  execute: opts => {\n    opts.textApi.replaceSelection(\"[](tag)\");\n  }\n};\n\nexport const MDEditor = (props) => {\n  const {value, onChange} = props;\n  const [selectedTab, setSelectedTab] = useState(\"write\");\n  const classes = useStyles();\n\n  const saveImage = async function (data) {\n    // Promise that waits for \"time\" milliseconds\n    alert(\"No attachments!\");\n    // returns true meaning that the save was successful\n    return \"No Attachments\";\n  };\n  const newCmds = getDefaultCommandMap();\n  newCmds[\"cmdTag\"] = cmdTag;\n  const newCmdBar = getDefaultToolbarCommands();\n  newCmdBar.push([\"cmdTag\"])\n  return (\n      <ReactMde\n        value={value}\n        onChange={onChange}\n        commands={newCmds}\n        toolbarCommands={newCmdBar}\n        selectedTab={selectedTab}\n        onTabChange={setSelectedTab}\n        generateMarkdownPreview={(markdown) => {\n          console.log(getTagsFromMdBody(markdown));\n          const chips = <ChipsFromTags tags={getTagsFromMd(markdown)}/>\n          const strippedOfTags = _.clone(markdown).replaceAll(tagRegex,'');\n          const res = Promise.resolve(\n          <div>\n            {chips}\n            <ReactMarkdown remarkPlugins={[gfm]} children={strippedOfTags} className={classes.root}/>\n          </div>\n            );\n          \n          console.debug(`react-mde-preview=${res}`, res);\n          return res\n        }}\n        childProps={{\n          writeButton: {\n            tabIndex: -1\n          }\n        }}\n        paste={{\n          saveImage: saveImage\n        }}\n      />\n  );\n}\n\nexport const RenderMD = ({mdText}) => {\n  const classes = useStyles();\n  const chips = <ChipsFromTags tags={getTagsFromMd(mdText)}/>\n  const strippedOfTags = _.clone(mdText).replaceAll(tagRegex,'');\n  return  <Container>\n            {chips}\n            <ReactMarkdown remarkPlugins={[gfm]} children={strippedOfTags} className={classes.root}/>\n          </Container>\n}\n\nconst tagRegex = /\\[([^\\[]+)\\](\\(tag\\))/gim;\nexport const getTagsFromMd = (md) => {\n    var m;\n    var res = [];\n    do {\n        m = tagRegex.exec(md);\n        if (m) {\n            res.push(m[1]);\n        }\n    } while (m);\n  return _.uniq(res.map(v=>v.toLocaleLowerCase()));\n};\n\nexport const ChipsFromTags = ({tags}) => tags.map(tag=>{\n  console.log(tag);\n  switch (tag) {\n    case \"bug hunt\":\n      return <Chip size=\"small\" color=\"primary\" label=\"Bug Hunt\" style={{backgroundColor:\"red\"}}/>;\n    case \"dao\":\n      return <Chip size=\"small\" color=\"primary\" label=\"DAO\"/>;\n    case \"frontend\":\n      return <Chip variant=\"outlined\" size=\"small\" color=\"primary\" label=\"Frontend\"/>;\n    case \"cold coffee\":\n      return <Chip size=\"small\" color=\"default\" label=\"Cold Coffee\"/>;\n    default:\n      return null;\n\n  }\n});\n  \n\nconst regexMatchTags = /\\[(.*[^\\[]+)\\](\\(tag\\))/gim;\n\nconst getTagsFromMdBody = (body) => body.match(regexMatchTags).map(v=>v[1]);\nconst removeTagsFromMdBody = body => _.clone(body).replace(regexMatchTags,'');\n","// For util functions\nimport React, {useState, useEffect, useMemo} from \"react\";\n//make JS less terrible\nimport _ from \"lodash\";\nimport { makeStyles } from '@material-ui/core/styles';\n//Table Stuff\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Paper,\n  Checkbox,\n  FormControl,\n} from '@material-ui/core';\nimport Autocomplete, { createFilterOptions } from '@material-ui/lab/Autocomplete';\nimport {\n  Button,\n  LinearProgress,\n  TextField,\n  MenuItem,\n  CardActions,\n} from '@material-ui/core';\n//pact-lang-api for blockchain calls\n//config file for blockchain calls\nimport { PactTxStatus } from \"./PactTxStatus.js\";\nimport { MDEditor } from \"./Markdown\";\nimport { KeySelector, usePactWallet, hostFromNetworkId } from \"./PactWallet.js\";\n\nexport const useInputStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    '& .MuiTextField-root': {\n      margin: theme.spacing(1),\n      width: '25ch',\n    },\n  },\n  margin: {\n    margin: theme.spacing(1),\n  },\n  withoutLabel: {\n    marginTop: theme.spacing(3),\n  },\n  textField: {\n    width: '25ch',\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n  },\n  selectEmpty: {\n    marginTop: theme.spacing(2),\n  },\n}));\n\n//config file for blockchain calls\n\nexport const dashStyleNames2Text = str => str.split(\"-\").map(k=>k.replace(new RegExp(\"^.\",\"gm\"),a=>a.toUpperCase())).join(' ');\n\nconst isRootPactValue = (val) => {\n  if (val && typeof val === 'object' ) {\n    if ('timep' in val || 'int' in val || 'decimal' in val || 'time' in val ) {\n      return true;\n    } else {\n      return false;\n    }\n  } else {\n    return true;\n  }\n};\n\nexport const isPactKeyset = (val) => {\n  if (val && typeof val === 'object' ) {\n    if (Object.keys(val).length === 2 &&'pred' in val && 'keys' in val) {\n      return true;\n    } else {\n      return false;\n    }\n  } else {\n    return false;\n  }\n};\n\n\nexport const renderPactValue = (val) => {\n  if (val && typeof val === 'object') {\n    if ('time' in val) {\n      return val['time'];\n    } else if ('timep' in val) {\n      return val['timep'];\n    } else if ('int' in val) {\n      return typeof val['int'] === 'string' ? val['int'] : val['int'].toLocaleString();\n    } else if ('decimal' in val) {\n      return typeof val['decimal'] === 'string' ? val['decimal'] : val['decimal'].toLocaleString();\n    } else if ('pred' in val && 'keys' in val) {\n      return JSON.stringify(val);\n    } else {\n      return JSON.stringify(val);\n    }\n  } else if (typeof val === 'boolean') {\n    return val.toString();\n  } else if (typeof val === 'string') {\n    return val;\n  } else if (typeof val === 'number'){\n    return val.toLocaleString()\n  } else {\n    return JSON.stringify(val);\n  }\n};\n\nexport const FlatPaper = ({...rest}) => <Paper elevation={0} {...rest}/>;\n\nconst useTableStyles = (isNested,height=false) => {\n  var styles;\n  if (isNested) {\n    styles = makeStyles({\n      table: {\n        minWidth: 650,\n      },\n      root: {\n        '& > *': {\n          borderBottom: 'unset',\n        },\n      },\n    });\n  } else {\n    if (height === false) {\n      styles = makeStyles({\n          table: {\n            minWidth: 650,\n          },});\n    } else {\n      styles = makeStyles({\n          table: {\n            height: height,\n            minWidth: 650,\n          },});\n        }\n  }\n  return styles\n};\n\nexport const PactSingleJsonAsTable = (props) => {\n  const json = props.json || {};\n  const isNested = props.isNested || false;\n  const classes = useTableStyles(isNested)();\n  const header = props.header || [];\n  const keyFormatter = props.keyFormatter ? props.keyFormatter : (k) => {return (k)};\n  const valFormatter = props.valFormatter ? props.valFormatter : (str) => <code>{renderPactValue(str)}</code>;\n  const internals = () =>\n    <React.Fragment>\n      <TableHead>\n        <TableRow>\n        {header.map((val) => {\n          return <TableCell>{val}</TableCell>;\n        })}\n        </TableRow>\n      </TableHead>\n\n      <TableBody>\n        {Object.entries(json).map(([k,v]) => {\n          return (\n          <TableRow key={k}>\n            { Array.isArray(json) === false ? (\n              <TableCell>{keyFormatter(k)}</TableCell>\n            ) : (\n              <React.Fragment></React.Fragment>\n            )}\n            { isRootPactValue(v) ? (\n              <TableCell>{valFormatter(v)}</TableCell>\n            ) : typeof v === \"object\" ? (\n              <PactSingleJsonAsTable\n                json={v}\n                keyFormatter={keyFormatter}\n                valFormatter={valFormatter}\n                isNested={true}/>\n            ) : typeof v === \"function\" ? (\n              <TableCell>{valFormatter(v.toString())}</TableCell>\n            ) : (\n              <TableCell>{valFormatter(v)}</TableCell>\n            )}\n          </TableRow>\n          )\n        })}\n      </TableBody>\n    </React.Fragment>;\n\n  return (\n    isNested ? (\n      <Table className={classes.table} size='small' aria-label=\"simple table\">\n        {internals()}\n      </Table>\n    ) : (\n    <TableContainer component={FlatPaper}>\n      <Table className={classes.table} size='small' aria-label=\"simple table\">\n        {internals()}\n      </Table>\n    </TableContainer>\n    )\n)};\n\nexport const PactJsonListAsTable = (props) => {\n  const height = props.isNested ? false : (props.height ? props.height : '500px');\n  const json = _.isArray(props.json) ? props.json : [];\n  const isNested = props.isNested || false;\n  const classes = useTableStyles(isNested, height)();\n  // console.log({classes, height, isNested});\n  const header = props.header || [];\n  let keyOrder = [];\n  if (props.keyOrder) {\n    keyOrder = props.keyOrder;\n  } else if (Array.isArray(props.json)) {\n    if ( json.length > 0 ) {\n      keyOrder = Object.keys(json[0]);\n    }\n  }\n  const keyFormatter = props.keyFormatter ? props.keyFormatter : (k) => {return (k)};\n  const valFormatter = props.valFormatter ? props.valFormatter : (str) => <code>{renderPactValue(str)}</code>;\n  const kvFunc = props.kvFunc || {};\n\n  const internals = () =>\n    <React.Fragment>\n        <TableHead>\n          <TableRow>\n          {header.map((val) => (\n            <TableCell key={val}>{val}</TableCell>\n          ))}\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {json.map(obj => (\n            <TableRow key={obj[keyOrder[0]]}>\n              { keyOrder.map(k => {\n                  const v = obj[k];\n                  return (\n                    <TableCell key={k}>\n                      { _.has(kvFunc,k) ? (\n                          kvFunc[k](obj)\n                      ) : isRootPactValue(v) ? (\n                          valFormatter(v)\n                      ) : Array.isArray(v) ? (\n                          <PactJsonListAsTable\n                            json={v}\n                            keyFormatter={keyFormatter}\n                            valFormatter={valFormatter}\n                            isNested={true}/>\n                      ) : typeof v === \"object\" ? (\n                          <PactSingleJsonAsTable\n                            json={v}\n                            keyFormatter={keyFormatter}\n                            valFormatter={valFormatter}\n                            isNested={true}/>\n                      ) : typeof v === \"function\" ? (\n                          valFormatter(v.toString())\n                      ) : (\n                          valFormatter(v)\n                      )}\n                    </TableCell>\n                  )\n                }\n            )}\n            </TableRow>\n          ))}\n      </TableBody>\n    </React.Fragment>;\n\n  return (\n    isNested ? (\n      <Table className={classes.table} size='small' aria-label=\"simple table\">\n        {internals()}\n      </Table>\n    ) : (\n    <TableContainer component={FlatPaper} className={classes.table}>\n      <Table className={classes.table} size='small' aria-label=\"pact read table toplevel\">\n        {internals()}\n      </Table>\n    </TableContainer>\n    )\n)};\n\nexport const FixedGroupedMultiSelector = ({getVal,setVal,options,label}) => {\n  console.debug(\"fixed multi selector\", {options})\n  return (\n    <Autocomplete\n      multiple\n      id=\"grouped-demo\"\n      freeSolo\n      options={options}\n      groupBy={(option) => option.type}\n      getOptionLabel={(option) => JSON.stringify(option.value)}\n      sx={{ width: 300 }}\n      value={getVal}\n      onChange={(event, newValue) => setVal(newValue)}\n      renderInput={(params) => <TextField {...params} label={label} />}\n    />\n  );\n}\n\nexport const MakeInputField = (props) => {\n  const {\n    type,\n    label,\n    options,\n    placeholder,\n    className,\n    onChange,\n    value\n  } = props.inputField;\n\n  const field = ( type === 'select'\n    ? <TextField\n        id=\"outlined-multiline-static\"\n        select\n        required\n        fullWidth\n        className={className}\n        variant=\"outlined\"\n        label={label}\n        value={value}\n        onChange={e => {\n          // console.log(`Selected ${e.target.value}`,e);\n          onChange(e.target.value)}\n          }\n        >\n\n        { options.map(k =>\n            <MenuItem key={k} value={k}>\n              {k}\n            </MenuItem>\n          )\n        }\n      </TextField>\n    : type === 'textFieldSingle' ?\n      <TextField\n        required\n        fullWidth\n        value={value}\n        className={className}\n        placeholder={placeholder}\n        variant='outlined'\n        label={label}\n        onChange={e => onChange(e.target.value)}\n      />\n    : type === 'textFieldMulti' ?\n      <TextField\n        required\n        fullWidth\n        label={label}\n        className={className}\n        multiline\n        rows={4}\n        variant=\"outlined\"\n        placeholder={placeholder}\n        onChange={e => onChange(e.target.value)}\n      />\n    : type === 'checkbox' ?\n        <Checkbox\n          checked={value}\n          onChange={e=>onChange(e.target.value)}\n          color=\"primary\"\n          label={label}\n        />\n    : type === 'markdown' ?\n        <MDEditor\n          value={value}\n          onChange={onChange}/>\n    : type === 'keySelector' ?\n        <KeySelector\n          label={label}\n          getVal={value}\n          setVal={onChange}\n          allOpts={options}\n          />\n    : type === 'fixedGroupMultiSelector' ?\n        <FixedGroupedMultiSelector\n          label={label}\n          getVal={value}\n          setVal={onChange}\n          options={options}\n          />\n    : null\n  );\n\n  return field;\n\n};\n\nexport const MakeForm = ({\n  inputFields,\n  onSubmit,\n  pactTxStatus,\n  refresh\n}) => {\n  const { txStatus } = pactTxStatus;\n  const {current: {walletName, signingKey, networkId}, globalConfig: {chainId}} = usePactWallet();\n  const host = hostFromNetworkId(networkId, chainId);\n  const [wasSubmitted,setWasSubmitted] = useState(false);\n  useEffect(()=>setWasSubmitted(false),[inputFields]);\n  useEffect(()=>txStatus !== \"\" ? setWasSubmitted(true) : setWasSubmitted(wasSubmitted), [txStatus])\n\n  return (\n    <div>\n      <form\n        autoComplete=\"off\"\n        onSubmit={e => onSubmit(e)}>\n        {inputFields.map(f =>\n          <MakeInputField inputField={f}/>\n        )}\n        <CardActions>\n          {txStatus === 'pending'\n            ? null\n            : <Button variant=\"outlined\" color=\"default\" type=\"submit\" disabled={wasSubmitted}>\n                {walletName ?\n                  (wasSubmitted ? \"Complete Signing in Wallet\": `Sign with ${walletName} using key ${signingKey.substring(0,4)}...${signingKey.substring(signingKey.length - 4)}`)\n                  : \"Configure and select a wallet before proceeding\"}\n              </Button>\n          }\n        </CardActions>\n      </form>\n      { txStatus === 'pending' ? <LinearProgress /> : null }\n      <PactTxStatus pactTxStatus={pactTxStatus} host={host} refresh={refresh}/>\n    </div>\n  )\n};\n\nexport const MakeLocalForm = (props) => {\n  const {\n    inputFields,\n    onSubmit\n  } = props;\n  const [wasSubmitted,setWasSubmitted] = useState(false);\n  useEffect(()=>setWasSubmitted(false),[inputFields]);\n\n  return (\n    <div>\n      <form\n        autoComplete=\"off\"\n        onSubmit={e => onSubmit(e)}>\n        {inputFields.map(f =>\n          <MakeInputField inputField={f}/>\n        )}\n        <CardActions>\n          {wasSubmitted\n            ? null\n            : <Button variant=\"outlined\" color=\"default\" type=\"submit\" disabled={wasSubmitted}>\n                {\"Execute Local Command\"}\n              </Button>\n          }\n        </CardActions>\n      </form>\n    </div>\n  )\n};\n","//basic React api imports\nimport React, {useState, useEffect} from \"react\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Alert, AlertTitle } from '@material-ui/lab';\nimport CloseIcon from '@material-ui/icons/Close';\nimport {\n  Container,\n  Paper,\n  Box,\n  Grid,\n  Divider,\n  List,\n  ListItem,\n  ListItemText,\n  Typography,\n  Dialog,\n  AppBar,\n  Toolbar,\n  Slide,\n} from '@material-ui/core';\nimport { Modal, Button } from '@material-ui/core';\nimport Collapse from '@material-ui/core/Collapse';\nimport IconButton from '@material-ui/core/IconButton';\n\nimport { hftAPI } from \"./kadena-config.js\";\nimport {dashStyleNames2Text, PactSingleJsonAsTable} from \"./util.js\";\nimport Pact from \"pact-lang-api\";\n\nvar debugMode = false;\n\nconst debug = (...args) => {\n  if (debugMode && args.length) {\n    console.debug(\"[PactTxStatus]\", ...args);\n  };\n};\n\nexport const toggleDebug = () => {\n  debugMode = !debugMode;\n  console.log(\"[PactTxStatus] debugMode set to\", debugMode);\n};\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    '& > * + *': {\n      marginTop: theme.spacing(2),\n    },\n  },\n}));\n\nexport const signNewPactTx = (\n  sigData, \n  {setTx, setTxRes, setTxStatus}\n) => {\n  setTx(sigData);\n  setTxRes({});\n  setTxStatus('do-signing');\n};\n\nconst trackSigDataResult = async (\n  sigData,\n  setTxStatus,\n  setTxRes,\n  host,\n  refresh=(()=>{})\n) => {\n    debug(\"trackSigDataResults start\", {sigData, host});\n    try {\n      //sends signed transaction to blockchain\n      const txReqKey = sigData.hash \n      //set html to wait for transaction response\n      //set state to wait for transaction response\n      setTxStatus('pending')\n      try {\n        //listens to response to transaction sent\n        //  note method will timeout in two minutes\n        //    for lower level implementations checkout out Pact.fetch.poll() in pact-lang-api\n        let retries = 8;\n        let res = {};\n        while (retries > 0) {\n          //sleep the polling\n          res = await Pact.fetch.poll({requestKeys:[txReqKey]}, host);\n          debug(\"trackSigDataResult\", {res});\n          try {\n            if (res[txReqKey].result.status) {\n              retries = -1;\n            } else {\n              retries = retries - 1;\n            }\n          } catch(e) {\n              retries = retries - 1;\n          }\n          await new Promise(r => setTimeout(r, 15000));\n        };\n        //keep transaction response in local state\n        setTxRes(res)\n        if (res[txReqKey].result.status === \"success\"){\n          debug(\"tx status set to success\");\n          //set state for transaction success\n          setTxStatus('success');\n          refresh();\n        } else if (retries === 0) {\n          debug(\"tx status set to timeout\");\n          setTxStatus('timeout');\n          refresh();\n        } else {\n          debug(\"tx status set to failure\");\n          //set state for transaction failure\n          setTxStatus('failure');\n        }\n      } catch(e) {\n        // TODO: use break in the while loop to capture if timeout occured\n        debug(\"tx api failure\",e);\n        setTxRes(e);\n        setTxStatus('failure');\n      }\n    } catch(e) {\n      setTxRes(e.toString());\n      debug(\"tx status set to validation error\",e);\n      //set state for transaction construction error\n      setTxStatus('validation-error');\n    }\n};\n\nexport const PactTxStatus = ({\n  pactTxStatus, \n  host, \n  refresh=(()=>{})\n}) => {\n  const {tx, txRes, setTxRes, txStatus, setTxStatus} = pactTxStatus;\n  const [open,setOpen] = useState(true);\n  const [modalOpen,setModalOpen] = useState(false);\n  const classes = useStyles();\n  const severity = txStatus === \"pending\" ? 'info'\n                   : txStatus === \"success\" ? 'success'\n                   : txStatus === \"timeout\" ? 'warning'\n                   : 'error' ;\n  useEffect(()=>\n    setOpen(true)\n  ,[txStatus]);\n\n  useEffect(()=>{\n    if (txStatus === \"submitted\") {\n      console.log(\"[PactTxStatus] trackSigDataResults\", {tx, host});\n      trackSigDataResult(tx,setTxStatus,setTxRes,host,refresh);\n    }\n  }, [txStatus])\n\n  return (\n    (\n      txStatus === \"do-signing\" ?\n        <TxSigner pactTxStatus={pactTxStatus}/> \n    : txStatus === \"\" || txStatus === \"submitted\" ? \n        <React.Fragment/> \n    : <div className={classes.root}>\n        <Collapse in={open}>\n          <Alert\n            severity={severity}\n            action={\n              <IconButton\n                aria-label=\"close\"\n                color=\"inherit\"\n                size=\"small\"\n                onClick={() => setOpen(false)}>\n                <CloseIcon fontSize=\"inherit\" />\n              </IconButton>\n\n            }\n          >\n\n          <AlertTitle>\n            <Grid\n              container\n              direction=\"row\"\n              justify=\"flex-start\"\n              alignItems=\"center\"\n            >\n              <Grid item>\n                {dashStyleNames2Text(txStatus)}\n              </Grid>\n              {txStatus === 'validation-error' || txStatus === 'failure'\n                ?\n                  <Grid item>\n                    <Divider orientation=\"vertical\" flexItem />\n                    <Button size='small' onClick={()=>setModalOpen(true)}>\n                      View Error\n                    </Button>\n                  </Grid>\n                : <React.Fragment/>}\n            </Grid>\n\n          </AlertTitle>\n            { txStatus === \"pending\" ? (\n              <React.Fragment>\n                <p>Awaiting Confirmation</p>\n                <a href={`${hftAPI.explorerURL}/tx/${tx.hash}`}>\n                  Eventual Block Explorer Link\n                </a>\n              </React.Fragment>\n            ) : txStatus === \"success\" ? (\n              <React.Fragment>\n                <a href={`${hftAPI.explorerURL}/tx/${tx.hash}`}>\n                  View transaction in Block Explorer\n                </a>\n              </React.Fragment>\n            ) : txStatus === \"failure\" ? (\n              <React.Fragment>\n                <a href={`${hftAPI.explorerURL}/tx/${tx.hash}`}>\n                  View transaction in Block Explorer\n                </a>\n                <div>\n                  <Modal\n                    open={modalOpen}\n                    onClose={() => setModalOpen(false)}\n                  >\n                    <Container maxWidth=\"lg\">\n                      <PactSingleJsonAsTable json={txRes}/>\n                    </Container>\n                  </Modal>\n                </div>\n              </React.Fragment>\n            ) : txStatus === \"timeout\" ? (\n              <React.Fragment>\n                <p>...but your tx was sent.</p>\n                <a href={`${hftAPI.explorerURL}/tx/${tx.hash}`}>\n                  View transaction in Block Explorer\n                </a>\n              </React.Fragment>\n            ) : txStatus === \"validation-error\" ? (\n              <React.Fragment>\n                <Box>\n                  Transaction was not sent to Blockchain. Check your keys or metadata.\n                </Box>\n                <div>\n                  <Modal\n                    open={modalOpen}\n                    onClose={() => setModalOpen(false)}\n                  >\n                    <Container maxWidth=\"md\">\n                        <Paper>{JSON.stringify(txRes)}</Paper>\n                    </Container>\n                  </Modal>\n                </div>\n              </React.Fragment>\n            ) : (\n              <React.Fragment/>\n            )}\n          </Alert>\n        </Collapse>\n      </div>\n    )\n  );\n};\n\nconst txSignerStyles = makeStyles((theme) => ({\n  appBar: {\n    position: 'relative',\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n}));\n\nconst TxSignerTransition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport const TxSigner = ({\n  pactTxStatus: {tx, setTxStatus}\n}) => {\n  const [open,setOpen] = useState(true);\n\n  const handleClose = () => {\n    setTxStatus(\"\");\n    setOpen(false);\n  };\n\n  const handleTxSubmit = () => {\n    setTxStatus(\"submitted\");\n    setOpen(false);\n  };\n\n  const classes = txSignerStyles();\n\n  return (\n      <Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={TxSignerTransition}>\n        <AppBar className={classes.appBar}>\n          <Toolbar>\n            <IconButton edge=\"start\" color=\"inherit\" onClick={handleClose} aria-label=\"close\">\n              <CloseIcon />\n            </IconButton>\n            <Typography variant=\"h6\" className={classes.title}>\n              New Transaction\n            </Typography>\n            <Button autoFocus variant=\"outlined\" color=\"default\" onClick={handleTxSubmit}>\n              I Submitted the Transaction \n            </Button>\n          </Toolbar>\n        </AppBar>\n        <List>\n          <ListItem>\n            <ListItemText primary=\"Read Me\" secondary=\"Until WalletConnect integration is completed, only the latest versions of Chaineweaver w/ SigBuilder UI is supported in Marmalade (see https://chainweaver.kadena.network for the latest). Please copy the SigData blob below, paste it into the SigBuilder UI in Chainweaver, and then review+sign+submit the transaction through Chainweaver. Once completed, come back to this page and click the 'I have submitted the transaction' button.\" />\n          </ListItem>\n          <ListItem>\n            <ListItemText primary=\"Copy The Transaction's SigData To Clipboard\" secondary={JSON.stringify(tx)} />\n          </ListItem>\n          <Divider />\n          <ListItem>\n            <ListItemText primary=\"Transaction Hash\" secondary={tx.hash} />\n          </ListItem>\n        </List>\n      </Dialog>\n  );\n}","import React, { useState, useEffect, createContext, useContext, useCallback, useReducer } from \"react\";\nimport createPersistedState from 'use-persisted-state';\nimport _ from 'lodash';\n\nimport {\n  Button,\n  ButtonGroup,\n  Box,\n  Card,\n  CardActions,\n  CardContent,\n  CardHeader,\n  Checkbox,\n  Container,\n  ClickAwayListener,\n  Collapse,\n  Divider,\n  Grid,\n  Grow,\n  IconButton,\n  LinearProgress,\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  ListSubheader,\n  MenuItem,\n  MenuList,\n  Paper,\n  Popper,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  TextField,\n  Tooltip,\n  Typography,\n  Modal,\n  Dialog,\n  AppBar,\n  Toolbar,\n  Slide,\n} from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport {\n  makeStyles,\n} from '@material-ui/styles';\nimport Autocomplete, { createFilterOptions } from '@material-ui/lab/Autocomplete';\nimport GavelIcon from '@material-ui/icons/Gavel';\nimport ExpandLess from '@material-ui/icons/ExpandLess';\nimport ExpandMore from '@material-ui/icons/ExpandMore';\n//pact-lang-api for blockchain calls\nimport Pact from \"pact-lang-api\";\nimport {SigData} from './Pact.SigBuilder';\n//config file for blockchain calls\nimport { PactTxStatus, signNewPactTx } from \"./PactTxStatus.js\";\nimport {\n  PactJsonListAsTable,\n  PactSingleJsonAsTable,\n  MakeInputField,\n  updateParams,\n  renderPactValue,\n } from \"./util.js\";\nimport { chainId, keyFormatter } from \"./kadena-config.js\";\n\nconst useStyles = makeStyles(() => ({\n  formControl: {\n    margin: \"5px auto\",\n    minWidth: 120,\n  },\n  selectEmpty: {\n    marginTop: \"10px auto\",\n  },\n  inline: {\n    display: \"inline\",\n  },\n}));\n\nconst pactWalletContextDefault = {\n  current: {},\n  otherWallets: {},\n  allKeys: [],\n  globalConfig: {},\n  contractConfigs: {},\n  pastPactTxs: [],\n};\n\nexport const PactWalletContext = createContext();\n\nconst pactWalletReducer = (state, action) => {\n  switch (action.type) {\n    case 'updateWallet':\n      if (! _.has(action, \"newWallet\")) {throw new Error(\"updateWallet requires newWallet:{walletName,gasPrice,networkId,signingKey} key\")};\n      const prevWallet = _.cloneDeep(state.current);\n      const otherWallets = _.cloneDeep(state.otherWallets);\n      if (prevWallet.walletName) {\n        // stops a bug on initial load where \"undefined\" is added as a wallet\n        otherWallets[prevWallet.walletName] = prevWallet;}\n      if (action.newWallet.walletName) {\n        otherWallets[action.newWallet.walletName] = action.newWallet;\n      } else {\n        throw new Error(\"updateWallet requires newWallet:{walletName,gasPrice,networkId,signingKey} key\")};\n      const allKeys1 = _.filter(_.uniq(_.concat(_.cloneDeep(state.allKeys),action.newWallet.signingKey)),v=>v?true:false);\n      return {...state, current: action.newWallet, otherWallets: otherWallets, allKeys: allKeys1};\n    case 'addKeys':\n      if (! _.has(action, \"newKeys\")) {throw new Error(\"addKeys requires newKeys:[] key\")};\n      const allKeys2 = _.filter(_.uniq(_.concat(_.cloneDeep(state.allKeys), action.newKeys)),v=>v?true:false);\n      return {...state, allKeys: allKeys2};\n    case 'setContractConfig':\n      if (! _.has(action, \"configName\")) {throw new Error(\"addConfig requires configName:'' key\")};\n      if (! _.has(action, \"config\")) {throw new Error(\"addConfig requires config:'' key\")};\n      const configs = _.cloneDeep(state.contractConfigs);\n      configs[action.configName] = action.config;\n      return {...state, contractConfigs:configs};\n    case 'setGlobalConfig':\n      if (! _.has(action, \"globalConfig\")) {throw new Error(\"addConfig requires globalConfig:<object> key\")};\n      return {...state, globalConfig:action.globalConfig};\n    case 'tractPactTx':\n      if (! _.has(action, \"newTx\")) {throw new Error(\"trackPactTx requires newTx:'' key\")};\n      const newPactTxs = _.concat(_.cloneDeep(state.pastPactTxs),action.newTx);\n      return {...state, pastPactTxs: newPactTxs};\n    default:\n      throw new Error(JSON.stringify(action));\n  }\n}\n\nexport const PactWallet = ({globalConfig, contractConfigs, children}) => {\n  //PactWallet State\n  const usePersistedWallet = createPersistedState(\"pactWallet7\");\n  const [persistedPactWallet,setPersistedPactWallet] = usePersistedWallet({});\n  const [wallet,walletDispatch] = useReducer(pactWalletReducer, _.size(persistedPactWallet) ? _.cloneDeep(persistedPactWallet) : pactWalletContextDefault);\n  // Experimental wrapper for \"emit\" bug found in https://github.com/donavon/use-persisted-state/issues/56\n  useEffect(()=>{\n    if (_.size(wallet) && ! _.isEqual(pactWalletContextDefault, wallet)) {\n      console.debug(\"PactWallet.useEffect[persistedPactWallet,walletProvider,setPersistedPactWallet]\", persistedPactWallet, \" =to=> \", wallet);\n      setPersistedPactWallet(wallet);}}\n  ,[persistedPactWallet,wallet,setPersistedPactWallet]);\n\n  useEffect(()=>{\n    console.debug(\"PactWallet.useEffect[] fired, contratConfigs added: \", _.keys(contractConfigs));\n    _.mapKeys(contractConfigs,(k)=>walletDispatch({type:\"setContractConfig\", configName:k, config:contractConfigs[k]}))\n    walletDispatch({type:\"setGlobalConfig\", globalConfig})\n  }\n  ,[])\n\n  return <PactWalletContext.Provider value={{wallet,walletDispatch}}>\n          {children}\n         </PactWalletContext.Provider>\n}\n\nexport const usePactWallet = () => {\n  // grab the entire wallet state, with no reducer\n  const {wallet} = useContext(PactWalletContext);\n  return wallet;\n};\n\nexport const usePactWalletContext = () => useContext(PactWalletContext);\n\nexport const useContractConfig = (configName) => {\n  // get a specific contract config\n  const {wallet: {contractConfigs}} = useContext(PactWalletContext);\n  if (! _.has(contractConfigs, configName))\n    {throw new Error(`usePactConfig attempted to get ${configName} but it was not present in ${JSON.stringify(contractConfigs)}`)};\n  return contractConfigs[configName];\n};\n\nexport const walletDrawerEntries = {\n  primary:\"Wallet\",\n  subList:\n    [{\n      primary:\"Config\",\n      to:{app:\"wallet\", ui: \"config\"}\n    }\n  ]\n};\n\nexport const WalletApp = ({\n  appRoute,\n  setAppRoute,\n}) => {\n\n  return (\n    appRoute.ui === \"config\" ?\n    <Card>\n      <CardHeader title=\"Wallet Configuration\"/>\n      <CardContent>\n        <WalletConfig/>\n        <CurrentWallet/>\n        <OtherWallets/>\n      </CardContent>\n    </Card>\n  : <React.Fragment>\n      {setAppRoute({app:\"wallet\", ui:\"config\"})}\n  </React.Fragment>\n  )\n};\n\nconst filter = createFilterOptions();\n\nconst EntrySelector = ({\n  label,\n  getVal,\n  setVal,\n  allOpts\n}) => {\n  const classes = useStyles();\n  let localOptions = allOpts ? _.cloneDeep(allOpts) : [\"\"];\n\n  return (\n    <Autocomplete\n      className={classes.formControl}\n      value={getVal}\n      onChange={(event, newValue) => {\n        if (typeof newValue === 'string') {\n          setVal(newValue);\n        } else if (newValue && newValue.inputValue) {\n          // Create a new value from the user input\n          setVal(newValue.inputValue)\n        } else {\n          setVal(newValue);\n        }\n      }}\n      filterOptions={(options, params) => {\n        const filtered = filter(options, params);\n\n        // Suggest the creation of a new value\n        if (params.inputValue !== '') {\n          filtered.push({\n            inputValue: params.inputValue,\n            title: `Add \"${params.inputValue}\"`,\n          });\n        }\n\n        return filtered;\n      }}\n      selectOnFocus\n      fullWidth\n      clearOnBlur\n      handleHomeEndKeys\n      defaultValue={getVal ? getVal : null}\n      options={localOptions}\n      getOptionLabel={(option) => {\n        // Value selected with enter, right from the input\n        // Add \"xxx\" option created dynamically\n        if (option.inputValue) {\n          return option.inputValue;\n        } else {\n          // Regular option\n          return option;\n        }\n      }}\n      renderOption={(option) => option.title ? option.title : option}\n      freeSolo\n      renderInput={(params) => (\n        <TextField {...params} label={label} variant=\"outlined\" fullWidth className={classes.formControl} />\n      )}\n    />\n  );\n}\n\n\nexport const KeySelector = ({\n  label,\n  getVal,\n  setVal,\n  allOpts\n}) => {\n  const classes = useStyles();\n  let localOptions = allOpts ? _.cloneDeep(allOpts) : [\"\"];\n\n  return (\n    <Autocomplete\n      multiple\n      limitTags={3}\n      className={classes.formControl}\n      value={getVal}\n      onChange={(event, newValue) => {\n        if (typeof newValue === 'string') {\n          setVal(newValue);\n        } else if (newValue && newValue.inputValue) {\n          // Create a new value from the user input\n          setVal(newValue.inputValue)\n        } else {\n          setVal(newValue);\n        }\n      }}\n      filterOptions={(options, params) => {\n        const filtered = filter(options, params);\n\n        // Suggest the creation of a new value\n        if (params.inputValue !== '') {\n          filtered.push({\n            inputValue: params.inputValue,\n            title: `Add \"${params.inputValue}\"`,\n          });\n        }\n\n        return filtered;\n      }}\n      selectOnFocus\n      fullWidth\n      clearOnBlur\n      handleHomeEndKeys\n      defaultValue={getVal ? getVal : null}\n      options={localOptions}\n      getOptionLabel={(option) => {\n        // Value selected with enter, right from the input\n        // Add \"xxx\" option created dynamically\n        if (option.inputValue) {\n          return option.inputValue;\n        } else {\n          // Regular option\n          return option;\n        }\n      }}\n      renderOption={(option) => option.title ? option.title : option}\n      freeSolo\n      renderInput={(params) => (\n        <TextField {...params} label={label} variant=\"outlined\" fullWidth className={classes.formControl} />\n      )}\n    />\n  );\n}\n\n\nexport const CurrentWallet = () => {\n  const {current} = usePactWallet();\n\n  return <Container style={{\"paddingTop\":\"2em\"}}>\n    <Typography component=\"h2\">Active Wallet</Typography>\n    <PactSingleJsonAsTable\n      json={current}\n      keyFormatter={keyFormatter}\n      />\n  </Container>\n};\n\nexport const OtherWallets = () => {\n  const {otherWallets} = usePactWallet();\n\n  return <Container style={{\"paddingTop\":\"2em\"}}>\n    <Typography component=\"h2\">All Saved PactWallets</Typography>\n    <PactSingleJsonAsTable\n      json={otherWallets}\n      keyFormatter={keyFormatter}\n      />\n  </Container>\n};\n\nexport const WalletConfig = () => {\n  const {wallet, walletDispatch} = useContext(PactWalletContext);\n  const [saved,setSaved] = useState(false);\n  const [walletName,setWalletName] = useState(\"\");\n  const [accountName, setAccountName] = useState(\"\");\n  const [signingKey, setSigningKey] = useState(\"\");\n  const [networkId, setNetworkId] = useState(\"testnet04\");\n  const [gasPrice, setGasPrice] = useState(\"0.000001\");\n  const [gasLimit, setGasLimit] = useState(\"10000\");\n  const classes = useStyles();\n\n  const [txStatus, setTxStatus] = useState(\"\");\n  const [tx, setTx] = useState({});\n  const [txRes, setTxRes] = useState({});\n  const [host, setHost] = useState(\"\");\n  const pactTxStatus = {\n    tx:tx,setTx:setTx,\n    txStatus:txStatus,setTxStatus:setTxStatus,\n    txRes:txRes,setTxRes:setTxRes,\n  };\n  const chainId = wallet.globalConfig.chainId;\n\n  const [wasSubmitted,setWasSubmitted] = useState(false);\n\n  useEffect(()=> {\n    console.debug(\"WalletConfig useEffect on load fired with\", wallet)\n    if (_.size(wallet.current)) {\n        if (wallet.current.walletName) {setWalletName(wallet.current.walletName)}\n        if (wallet.current.signingKey) {setSigningKey(wallet.current.signingKey)}\n        if (wallet.current.accountName) {setAccountName(wallet.current.accountName)}\n        if (wallet.current.gasPrice) {setGasPrice(wallet.current.gasPrice)}\n        if (wallet.current.gasLimit) {setGasLimit(wallet.current.gasLimit)}\n        if (wallet.current.networkId) {setNetworkId(wallet.current.networkId)}\n    }\n  }\n  ,[]);\n\n  useEffect(()=>{\n    if (_.size(wallet.otherWallets[walletName])) {\n      const loadingWallet = wallet.otherWallets[walletName];\n      console.debug(\"PactWalletConfig updating entries\", loadingWallet)\n        if (loadingWallet.walletName && loadingWallet.signingKey &&\n            loadingWallet.gasPrice && loadingWallet.gasLimit &&\n            loadingWallet.networkId && loadingWallet.accountName) {\n          setGasPrice(loadingWallet.gasPrice);\n          setGasLimit(loadingWallet.gasLimit);\n          setSigningKey(loadingWallet.signingKey);\n          setAccountName(loadingWallet.accountName);\n          setNetworkId(loadingWallet.networkId);\n          setWalletName(loadingWallet.walletName);\n        }\n    }\n  },[walletName])\n\n  useEffect(()=>{\n    setSaved(false);\n    setWasSubmitted(false);\n  },[walletName,signingKey,gasPrice,gasLimit,networkId,accountName]);\n\n  const handleSubmit = (evt) => {\n      evt.preventDefault();\n      if (saved) {\n        setHost(hostFromNetworkId(networkId, chainId));\n        SigData.debug.toggleDebug();\n        const sigData = SigData.ex.execCmdExample1({\n          chainId:chainId,\n          user: accountName,\n          signingPubKey: signingKey,\n          networkId,\n          gasPrice: Number.parseFloat(gasPrice),\n          gasLimit: Number.parseFloat(gasLimit)\n        });\n        // SigData.ex.contCmdExample1({\n        //   user: signingKey,\n        //   signingPubKey: signingKey,\n        //   networkId,\n        //   gasPrice: Number.parseFloat(gasPrice),\n        //   gasLimit: 10000\n        // });\n        signNewPactTx(sigData, pactTxStatus);\n      } else {\n        const n = {walletName:walletName, signingKey:signingKey,\n          gasPrice:gasPrice, gasLimit:gasLimit,\n          networkId:networkId, accountName:accountName};\n        walletDispatch({type: 'updateWallet', newWallet: n});\n        setSaved(true);\n        console.debug(\"WalletConfig set. locale: \", n, \" while context is: \", wallet.current);\n      }\n  };\n\n  const inputFields = [\n    {\n      type:'textFieldSingle',\n      label:'Gas Price',\n      className:classes.formControl,\n      value:gasPrice,\n      onChange:setGasPrice,\n    },{\n      type:'textFieldSingle',\n      label:'Gas Limit',\n      className:classes.formControl,\n      value:gasLimit,\n      onChange:setGasLimit,\n    }\n  ];\n\n  return <Container style={{\"paddingTop\":\"1em\"}}>\n    <Typography component=\"h2\">Add or Update Wallet</Typography>\n      <form\n        autoComplete=\"off\"\n        onSubmit={(evt) => handleSubmit(evt)}>\n        <EntrySelector label=\"Wallet Name\" getVal={walletName} setVal={setWalletName} allOpts={_.keys(wallet.otherWallets)}/>\n        <EntrySelector label=\"Network ID\" getVal={networkId} setVal={setNetworkId} allOpts={_.uniq(_.concat(_.map(wallet.otherWallets, 'networkId'), \"mainnet01\", \"testnet04\"))}/>\n        {inputFields.map(f =>\n          <MakeInputField inputField={f}/>\n        )}\n        <EntrySelector label=\"Account Name\" getVal={accountName} setVal={setAccountName} allOpts={_.map(wallet.otherWallets, 'accountName')}/>\n        <EntrySelector label=\"Select Signing Key\" getVal={signingKey} setVal={setSigningKey} allOpts={wallet.allKeys}/>\n        <CardActions>\n          {saved ?\n            (wasSubmitted ? <React.Fragment/>\n            : <React.Fragment>\n              <Button variant=\"outlined\" color=\"default\" type=\"submit\">\n                Test Current Settings\n              </Button>\n            </React.Fragment>)\n          :\n            <Button variant=\"outlined\" color=\"default\" type=\"submit\">\n              Save Current Settings\n            </Button>\n          }\n        </CardActions>\n      </form>\n      { txStatus === 'pending' ? <LinearProgress /> : null }\n      <PactTxStatus pactTxStatus={pactTxStatus} host={host}/>\n  </Container>\n};\n\nexport const hostFromNetworkId = (networkId, chainId) => {\n  if (networkId === \"testnet04\") {\n    return `https://api.testnet.chainweb.com/chainweb/0.0/${networkId}/chain/${chainId}/pact`;\n  } else {\n    return `https://api.chainweb.com/chainweb/0.0/${networkId}/chain/${chainId}/pact`\n  }\n};\n","import React from 'react';\nimport { \n  useQueryParams,\n  StringParam,\n  withDefault\n } from 'use-query-params';\nimport _ from 'lodash';\nimport {\n  AppBar,\n  Collapse,\n  Divider,\n  Drawer,\n  Button,\n  Hidden,\n  IconButton,\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  Menu,\n  MenuItem,\n  Toolbar,\n} from '@material-ui/core';\nimport { makeStyles, useTheme, withStyles } from '@material-ui/core/styles';\n\nimport AccountBalanceWalletIcon from '@material-ui/icons/AccountBalanceWallet';\nimport ExpandLess from '@material-ui/icons/ExpandLess';\nimport ExpandMore from '@material-ui/icons/ExpandMore';\nimport MenuIcon from '@material-ui/icons/Menu';\n\nimport logo from \"./kadena_r_rev_3_whi_lor.png\";\n\nimport { usePactWalletContext } from './PactWallet.js';\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n  },\n  drawer: {\n    [theme.breakpoints.up('sm')]: {\n      width: drawerWidth,\n      flexShrink: 0,\n    },\n  },\n  appBar: {\n    [theme.breakpoints.up('sm')]: {\n      zIndex: theme.zIndex.drawer + 1,\n    },\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n    [theme.breakpoints.up('sm')]: {\n      display: 'none',\n    },\n  },\n  // necessary for content to be below app bar\n  toolbar: theme.mixins.toolbar,\n  drawerPaper: {\n    width: drawerWidth,\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3),\n  },\n  nested: {\n    paddingLeft: theme.spacing(4),\n  },\n  logo: {\n    height: \"60px\",\n  },\n  logoDiv: {\n    flexGrow: 1,\n  }\n}));\n\nconst ListItemLink = (props) => {\n  const { icon, primary, to, subList } = props;\n  const hasSubList = subList && Array.isArray(subList) ;\n  const [open, setOpen] = React.useState(true);\n  const classes = useStyles();\n  //Top level UI Routing Params\n  const [,setAppRoute] = useQueryParams({\n    \"app\": withDefault(StringParam,\"init\"),\n    \"ui\": withDefault(StringParam,\"guardians\")\n  });\n\n\n  return (\n    <React.Fragment>\n      <li>\n        <ListItem button onClick={()=> {return (to ? setAppRoute(to) : setOpen(!open))}}>\n          {icon ? <ListItemIcon>{icon}</ListItemIcon> : null}\n          <ListItemText primary={primary} />\n          {hasSubList ? (\n            open ? <ExpandLess onClick={()=>setOpen(!open)} />\n                 : <ExpandMore onClick={()=>setOpen(!open)} />\n            ) : null}\n        </ListItem>\n      </li>\n        {hasSubList ?\n          <Collapse in={open} timeout=\"auto\" unmountOnExit>\n            <List component=\"div\" disablePadding className={classes.nested} dense>\n              {subList.map(entry =>\n                <ListItemLink\n                  icon={entry.icon}\n                  primary={entry.primary}\n                  to={entry.to}\n                  subList={entry.subList}\n                  />\n              )}\n            </List>\n          </Collapse>\n        : null }\n    </React.Fragment>\n  );\n};\n\nconst StyledMenuItem = withStyles((theme) => ({\n  root: {\n    '&:focus': {\n      backgroundColor: theme.palette.warning.main,\n      '& .MuiListItemIcon-root, & .MuiListItemText-primary': {\n        color: theme.palette.common.white,\n      },\n    },\n  },\n}))(MenuItem);\n\nexport const NavDrawer = (props) => {\n  const { window, entriesList } = props;\n  const {wallet: {current, otherWallets}, walletDispatch} = usePactWalletContext();\n  const classes = useStyles();\n  const theme = useTheme();\n  const [mobileOpen, setMobileOpen] = React.useState(false);\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const openWalletMenu = Boolean(anchorEl);\n\n  const handleWalletMenu = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleWalletMenuClose = (newWallet) => {\n    setAnchorEl(null);\n    if (typeof newWallet === 'string') {\n      walletDispatch({type:'updateWallet',newWallet:otherWallets[newWallet]})\n    }\n  };\n\n  const handleDrawerToggle = () => {\n    setMobileOpen(!mobileOpen);\n  };\n\n  const drawer = (\n    <div>\n      <div className={classes.toolbar} />\n      {entriesList.map(entries =>\n        <React.Fragment>\n          <Divider />\n          { entries !== null && <List>\n            {entries.map(entry =>\n              <>\n              { entry && \n                <ListItemLink\n                icon={entry.icon}\n                primary={entry.primary}\n                to={entry.to}\n                subList={entry.subList}\n                /> \n                }\n              </>\n            )}\n          </List>}\n        </React.Fragment>\n       )}\n    </div>\n  );\n\n  const container = window !== undefined ? () => window().document.body : undefined;\n\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"fixed\" className={classes.appBar}>\n        <Toolbar>\n          <IconButton\n            color=\"inherit\"\n            aria-label=\"open drawer\"\n            edge=\"start\"\n            onClick={handleDrawerToggle}\n            className={classes.menuButton}\n          >\n            <MenuIcon />\n          </IconButton>\n          <div className={classes.logoDiv}>\n            <img src={logo} alt=\"logo\" className={classes.logo}/>\n          </div>\n          <div className={classes.logoDiv}>\n            <h1>Marmalade BETA</h1>\n          </div>\n          {current.walletName && (\n            <div>\n              <Button\n                variant=\"outlined\"\n                color=\"secondary\"\n                onClick={handleWalletMenu}\n                startIcon={<AccountBalanceWalletIcon edge=\"end\" />}\n              >\n                {current.walletName}\n              </Button>\n              <Menu\n                id=\"menu-appbar\"\n                anchorEl={anchorEl}\n                anchorOrigin={{\n                  vertical: 'top',\n                  horizontal: 'right',\n                }}\n                keepMounted\n                transformOrigin={{\n                  vertical: 'top',\n                  horizontal: 'right',\n                }}\n                open={openWalletMenu}\n                onClose={handleWalletMenuClose}\n              >\n                {_.keys(otherWallets).map((name)=><MenuItem onClick={()=>handleWalletMenuClose(name)}>{name}</MenuItem>)}\n              </Menu>\n            </div>\n          )}\n        </Toolbar>\n      </AppBar>\n      <nav className={classes.drawer} aria-label=\"mailbox folders\">\n        {/* The implementation can be swapped with js to avoid SEO duplication of links. */}\n        <Hidden smUp implementation=\"css\">\n          <Drawer\n            container={container}\n            variant=\"temporary\"\n            anchor={theme.direction === 'rtl' ? 'right' : 'left'}\n            open={mobileOpen}\n            onClose={handleDrawerToggle}\n            classes={{\n              paper: classes.drawerPaper,\n            }}\n            ModalProps={{\n              keepMounted: true, // Better open performance on mobile.\n            }}\n          >\n            {drawer}\n          </Drawer>\n        </Hidden>\n        <Hidden xsDown implementation=\"css\">\n          <Drawer\n            classes={{\n              paper: classes.drawerPaper,\n            }}\n            variant=\"permanent\"\n            open\n          >\n            {drawer}\n          </Drawer>\n        </Hidden>\n      </nav>\n      <main className={classes.content}>\n        <div className={classes.toolbar} />\n        {props.children}\n      </main>\n    </div>\n  );\n}\n","import React from 'react';\nimport { \n  useQueryParam,\n  NumberParam,\n  withDefault\n } from 'use-query-params';\nimport _ from \"lodash\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n  AppBar,\n  Tab,\n  Tabs,\n  Typography,\n  Box,\n} from '@material-ui/core';\n\nconst TabPanel = (props) => {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`scrollable-auto-tabpanel-${index}`}\n      aria-labelledby={`scrollable-auto-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box p={3}>\n          <Typography>{children}</Typography>\n        </Box>\n      )}\n    </div>\n  );\n}\n\nfunction a11yProps(index) {\n  return {\n    id: `scrollable-auto-tab-${index}`,\n    'aria-controls': `scrollable-auto-tabpanel-${index}`,\n  };\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    width: '100%',\n    backgroundColor: theme.palette.background.paper,\n    marginTop: theme.spacing(4),\n  },\n}));\n\nexport const ScrollableTabs = (props) => {\n  const { tabEntries, tabIdx } = props;\n  const classes = useStyles();\n  const [value, setValue] = useQueryParam(tabIdx,withDefault(NumberParam,0));\n  \n  if (value >= _.size(tabEntries)) {setValue(0)}\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"static\" color=\"default\">\n        <Tabs\n          value={value}\n          onChange={handleChange}\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          variant=\"scrollable\"\n          scrollButtons=\"auto\"\n          aria-label=\"scrollable auto tabs example\"\n        >\n          {tabEntries.map((entry,idx)=>\n            <Tab label={entry.label} {...a11yProps(idx)}/>\n          )}\n        </Tabs>\n      </AppBar>\n      {tabEntries.map((entry,idx)=>\n        <TabPanel value={value} index={idx}>\n          {entry.component}\n        </TabPanel>\n      )}\n    </div>\n  );\n}\n","//basic React api imports\nimport React from \"react\";\nimport { hftAPI, keyFormatter } from \"../kadena-config.js\";\nimport { PactSingleJsonAsTable } from \"../util.js\";\n\nexport const HftConfig = () => {\n  return (\n    <PactSingleJsonAsTable\n      json={hftAPI}\n      keyFormatter={keyFormatter}\n      />\n  )\n};\n","import React from \"react\";\nimport _ from 'lodash';\nimport ReactJson from 'react-json-view'\n//config file for blockchain calls\nimport Pact from \"pact-lang-api\";\nimport Chainweb from \"chainweb\";\nimport { hftAPI, fqpAPI, fqrpAPI, globalConfig, chainId } from \"../kadena-config.js\";\nimport { PactJsonListAsTable, dashStyleNames2Text } from \"../util.js\";\n\n/** takes a pactRep and makes it more friendly */\nconst convertPactRep = (val) => {\n  if (typeof val === 'object' && val !== null) {\n    const ks = Object.keys(val);\n    if (ks.length > 1) {\n      return val;\n    } else if (ks[0] === \"int\" || ks[0] === \"decimal\") {\n      if (typeof val[ks[0]] === 'number') { return val[ks[0]].toString(); }\n      else { return val[ks[0]]}\n    } else if (ks[0] === \"time\" || ks[0] === \"timep\") {\n      return val[ks[0]];\n    } else {\n      throw new Error(`Pact base type converstion match failed: ${val}`);\n    }\n  } else { return val; }\n}\n\nconst convertMarmaladeParams = (name, params) => {\n  const ps = _.map(params, convertPactRep);\n  switch (name) {\n    case `${hftAPI.namespace}.${hftAPI.contractName}.TRANSFER`:\n      return _.zipObject([\"id\", \"sender\", \"receiver\", \"amount\"], ps);\n    case `${hftAPI.namespace}.${hftAPI.contractName}.SUPPLY`:\n      return _.zipObject([\"id\", \"supply\"], ps);\n    case `${hftAPI.namespace}.${hftAPI.contractName}.ACCOUNT_GUARD`:\n      return _.zipObject([\"id\", \"account\", \"guard\"], ps);\n    case `${hftAPI.namespace}.${hftAPI.contractName}.TOKEN`:\n      return _.zipObject([\"id\", \"precision\", \"supply\", \"policy\"], ps);\n    case `${hftAPI.namespace}.${hftAPI.contractName}.ROTATE`:\n      return _.zipObject([\"id\", \"account\"], ps);\n    case `${hftAPI.namespace}.${hftAPI.contractName}.MINT`:\n      return _.zipObject([\"id\", \"account\", \"amount\"], ps);\n    case `${hftAPI.namespace}.${hftAPI.contractName}.BURN`:\n      return _.zipObject([\"id\", \"account\", \"amount\"], ps);\n    case `${hftAPI.namespace}.${hftAPI.contractName}.SALE`:\n      return _.zipObject([\"id\", \"seller\", \"amount\", \"timeout\", \"sale-id\"], ps);\n    case `${hftAPI.namespace}.${hftAPI.contractName}.OFFER`:\n      return _.zipObject([\"id\", \"seller\", \"amount\", \"timeout\"], ps);\n    case `${hftAPI.namespace}.${hftAPI.contractName}.WITHDRAW`:\n      return _.zipObject([\"id\", \"seller\", \"amount\", \"timeout\", \"sale-id\"], ps);\n    case `${hftAPI.namespace}.${hftAPI.contractName}.BUY`:\n      return _.zipObject([\"id\", \"buyer\", \"seller\", \"amount\", \"timeout\", \"sale-id\"], ps);\n    case `${hftAPI.namespace}.${hftAPI.contractName}.RECONCILE`:\n      return _.zipObject([\"id\", \"amount\", \"seller-balance-change\", \"buyer-balance-change\"], ps);\n    case `${fqpAPI.namespace}.${fqpAPI.contractName}.QUOTE`:\n      return _.zipObject([\"sale-id\", \"token-id\", \"amount\", \"price\", \"sale-price\", \"spec\"], ps);\n    case `${fqrpAPI.namespace}.${fqrpAPI.contractName}.QUOTE`:\n      return _.zipObject([\"sale-id\", \"token-id\", \"amount\", \"price\", \"sale-price\", \"royalty-payout\", \"creator\", \"spec\"], ps);\n    default:\n      throw new Error(`Event converstion match failed: ${name} -- ${JSON.stringify(ps)}`);\n  }\n};\n\nconst parseEventParams = (convertParams, {name, params, ...rest}) => {\n  return {\n    name,\n    params: convertParams(name, params),\n    ...rest\n  }\n};\n\nconst eventHost = \"testnetqueries.kadena.network\";\n\nconst getCWDataEvents = async (name, offset, limit=50) => {\n  console.debug('fetching marm events', {limit, offset})\n  const raw = fetch(`https://${eventHost}/txs/events\\?name\\=${name}\\&limit\\=${limit}\\&offset\\=${offset}`);\n  //const raw = fetch(`http://${globalConfig.dataHost}/txs/events\\?name\\=${name}\\&limit\\=${limit}\\&offset\\=${offset}`);\n  const rawRes = await raw;\n  const res = await rawRes;\n  if (res.ok){\n     const resJSON = await rawRes.json();\n     return resJSON;\n   } else {\n     const resTEXT = await rawRes.text();\n     return resTEXT;\n   }\n};\n\nconst sortEvents = (ev1, ev2, newestToOldest=false) => {\n  return newestToOldest ? ev2.height-ev1.height : ev1.height-ev2.height;\n};\n\nexport const syncEventsFromCWData = async (name, limit=50, threads=4, newestToOldest=false, moduleHashBlacklist=[]) => {\n  console.debug(`starting to get ${name} events`)\n  var offset = 0;\n  var promisedResults = [];\n  var completedResults = [];\n  var continueSync = true;\n  while (continueSync) {\n    console.debug(`${name} events, doing batch`, {offset, limit, threads});\n    for (var i = 0; i < threads; i++) {\n      promisedResults.push(getCWDataEvents(name, offset, limit));\n      offset = (offset + limit);\n    };\n    completedResults = await Promise.all(promisedResults);\n    // once a batch comes back empty, we're caught up\n    continueSync = _.every(_.map(completedResults, (v) => v.length >= limit));\n  };\n  // console.debug(`${name} raw events`, _.flatten(completedResults));\n  completedResults = _.filter(_.flatten(completedResults), ({moduleHash}) => {return !moduleHashBlacklist.includes(moduleHash);});\n  const stateObj = _.map(completedResults, (ev) => parseEventParams(convertMarmaladeParams, ev)).sort((a,b)=>sortEvents(a,b,newestToOldest));\n  console.debug(`${name}'s events`, stateObj);\n  return stateObj;\n};\n\nconst orderBookRE = new RegExp(String.raw`${hftAPI.contractAddress}.(SALE|WITHDRAW|BUY)`);\nexport const onlyOrderBookEvents = (evs) => evs.filter(({name})=>orderBookRE.test(name));\n\nconst saleEvRE = new RegExp(String.raw`${hftAPI.contractAddress}.SALE`);\nexport const onlySaleEvents = (evs) => evs.filter(({name})=>saleEvRE.test(name));\n\nconst quoteEvRE = new RegExp(String.raw`(${fqpAPI.contractAddress}|${fqrpAPI.contractAddress}).QUOTE`);\nexport const onlyQuoteEvents = (evs) => evs.filter(({name})=>quoteEvRE.test(name));\n\nconst transferEvRE = new RegExp(String.raw`${hftAPI.contractAddress}.TRANSFER`);\nexport const onlyTransferEvents = (evs) => evs.filter(({name})=>transferEvRE.test(name));\n\nconst reconcileEvRE = new RegExp(String.raw`${hftAPI.contractAddress}.RECONCILE`);\nexport const onlyReconcileEvents = (evs) => evs.filter(({name})=>reconcileEvRE.test(name));\n\nconst acctGrdEvRE = new RegExp(String.raw`${hftAPI.contractAddress}.ACCOUNT_GUARD`);\nexport const onlyAcctGrdEvents = (evs) => evs.filter(({name})=>acctGrdEvRE.test(name));\n\nconst mintEvRE = new RegExp(String.raw`${hftAPI.contractAddress}.MINT`);\nexport const onlyMintEvents = (evs) => evs.filter(({name})=>mintEvRE.test(name));\n\nconst tokenEvRE = new RegExp(String.raw`${hftAPI.contractAddress}.TOKEN`);\nexport const onlyTokenEvents = (evs) => evs.filter(({name})=>tokenEvRE.test(name));\n\nexport const getSaleForQuote = (orderBook, saleId) => _.find(onlySaleEvents(orderBook), {requestKey: saleId});\n\nconst pactTxRe = new RegExp('sale-.*')\nexport const isPactContinuation = (ledgerKey) => pactTxRe.test(ledgerKey);\n\n// TODO: finish this, blocked on bug in Chainweb.js that defaults host back to mainnet. This is for id-ing orphaned events\n// export const getQuotesForSaleEvents = async (evs) => {\n//   let p = {};\n//   for (const {name, requestKey, blockHash} of evs) {\n//     console.debug([hftAPI.meta.chainId, blockHash, hftAPI.meta.networkId, hftAPI.meta.apiHost]);\n//     debugger;\n//     p[requestKey] = await Chainweb.transaction.blockHash(hftAPI.meta.chainId, blockHash, hftAPI.meta.networkId, hftAPI.meta.apiHost);\n//   };\n//   // await Promise.allSettled(p);\n//   console.debug(\"getQuotesForSaleEvents\", p);\n//   return p;\n// }\n","//basic React api imports\nimport React from \"react\";\nimport _ from 'lodash';\nimport ReactJson from 'react-json-view'\n//config file for blockchain calls\nimport Pact from \"pact-lang-api\";\nimport { hftAPI, fqpAPI } from \"../kadena-config.js\";\nimport { PactJsonListAsTable, dashStyleNames2Text } from \"../util.js\";\nimport { getSaleForQuote } from \"./HftEvents.js\";\n\nexport const getHftState = async (cmd) => {\n  //calling get-all() function from smart contract\n  try {\n    const res = await Pact.fetch.local(\n      {\n        pactCode: `(${hftAPI.contractAddress}.${cmd})`,\n        //pact-lang-api function to construct transaction meta data\n        meta: Pact.lang.mkMeta(\n          hftAPI.meta.sender,\n          hftAPI.meta.chainId,\n          hftAPI.meta.gasPrice,\n          hftAPI.meta.gasLimit,\n          hftAPI.meta.creationTime(),\n          hftAPI.meta.ttl\n        ),\n      },\n      hftAPI.meta.host\n    );\n    const all = res.result.data;\n    //sorts memories by least recent\n    // console.debug(`local query data: (${hftAPI.contractAddress}.${cmd})`,all);\n    return(all);\n  } catch (e) {\n    console.debug(`(${hftAPI.contractAddress}.${cmd}) FAILED with error`,{error: e});\n    return [];\n  }\n};\n\nexport const RenderHftLedger = ({hftLedger}) => {\n  const pretty = _.map(hftLedger,v=> {return {id: v.ledgerKey, contents: v};});\n  console.debug(\"renderHFTLedger\", {hftLedger,pretty});\n  return (\n   <PactJsonListAsTable\n    json={pretty}\n    header={[\"Ledger Key\", \"Contents\"]}\n    keyOrder={[\"id\",\"contents\"]}\n    kvFunc={\n      {'contents': v => {\n        return <ReactJson\n          src={v.contents}\n          name={false}\n          collapsed={1}\n          enableClipboard={false}\n          displayDataTypes={false}\n          displayObjectSize={false}\n        />}\n      }\n    }\n    keyFormatter={dashStyleNames2Text}\n    />\n  )\n};\n\nexport const RenderHftTokens = ({hftTokens}) => {\n  const pretty = _.map(hftTokens,v=> {return {id: v.id, contents: v};});\n  console.debug(\"renderHFTLedger\", {hftTokens,pretty});\n  return (\n   <PactJsonListAsTable\n    json={pretty}\n    header={[\"ID\", \"Contents\"]}\n    keyOrder={[\"id\",\"contents\"]}\n    kvFunc={\n      {'contents': v => {\n        return <ReactJson\n          src={v.contents}\n          name={false}\n          collapsed={1}\n          enableClipboard={false}\n          displayDataTypes={false}\n          displayObjectSize={false}\n        />}\n      }\n    }\n    keyFormatter={dashStyleNames2Text}\n    />\n  )\n};\n\nexport const RenderHftOrderBook = ({orderBook}) => {\n  const pretty = _.map(orderBook,v=> {\n    return {\"blockTime\":v.blockTime,\n            \"token-id\": v[\"params\"][\"id\"],\n            type:v.name.substring(\"marmalade.ledger.\".length),\n            amount:v[\"params\"][\"amount\"].toString(),\n            contents: v};});\n  console.debug(\"renderHftOrderBook\", {orderBook,pretty});\n  return (\n   <PactJsonListAsTable\n    json={pretty}\n    header={[\"Block Time\", \"Token ID\", \"Type\", \"Amount\", \"Details\"]}\n    keyOrder={[\"blockTime\", \"token-id\", \"type\", \"amount\", \"contents\"]}\n    kvFunc={\n      {'contents': v => {\n        return <ReactJson\n          src={v.contents}\n          name={false}\n          collapsed={0}\n          enableClipboard={false}\n          displayDataTypes={false}\n          displayObjectSize={false}\n        />}\n      }\n    }\n    keyFormatter={dashStyleNames2Text}\n    />\n  )\n};\n\nexport const RenderHftQuotes = ({orderBook, quotes}) => {\n  const pretty = _.map(quotes,v=> {\n    const saleId = v[\"params\"][\"sale-id\"];\n    const recipient = v[\"params\"][\"spec\"][\"recipient\"];\n    const sale = getSaleForQuote(orderBook,saleId);\n    const type = v.name === `${fqpAPI.contractAddress}.QUOTE` ? \"FQP\" : \"FQRP\";\n    return {\"blockTime\":v.blockTime,\n            \"token-id\": v[\"params\"][\"token-id\"],\n            type,\n            \"sale-id\": \"\".concat(saleId.slice(0,4), \"...\", saleId.slice(-4)),\n            \"seller\": recipient.length>10 ? \"\".concat(recipient.slice(0,6), \"...\", recipient.slice(-4)) : recipient,\n            \"timeout\": sale.params.timeout.toString(),\n            price:v[\"params\"][\"sale-price\"].toString(),\n            contents: {\n              sale: sale,\n              quote: v}\n            };});\n  console.debug(\"renderHftQuotes\", {quotes,pretty});\n  return (\n   <PactJsonListAsTable\n    json={pretty}\n    header={[\"Block Time\", \"\"     , \"Token\", \"buyer\", \"Sale Id\", \"Price\", \"Timeout\", \"Details\"]}\n    keyOrder={[\"blockTime\", \"type\", \"token-id\", \"buyer\", \"sale-id\", \"price\", \"timeout\", \"contents\"]}\n    kvFunc={\n      {'contents': v => {\n        return <ReactJson\n          src={v.contents}\n          name={false}\n          collapsed={0}\n          enableClipboard={false}\n          displayDataTypes={false}\n          displayObjectSize={false}\n        />}\n      }\n    }\n    keyFormatter={dashStyleNames2Text}\n    />\n  )\n};\n","//basic React api imports\nimport React, { useState, useEffect } from \"react\";\nimport {\n  useQueryParams,\n  StringParam,\n } from 'use-query-params';\n//make JS less terrible\nimport _ from \"lodash\";\n//Material Stuff\nimport {\n  makeStyles,\n} from '@material-ui/styles';\n//pact-lang-api for blockchain calls\nimport Pact from \"pact-lang-api\";\n//config file for blockchain calls\nimport { hftAPI, gtpAPI, fqpAPI, fqrpAPI } from \"../kadena-config.js\";\nimport {\n  PactJsonListAsTable,\n  MakeForm,\n } from \"../util.js\";\nimport { ScrollableTabs } from \"../ScrollableTabs.js\";\nimport { usePactWallet } from \"../PactWallet.js\";\nimport { SigData } from '../Pact.SigBuilder.js';\nimport { signNewPactTx } from '../PactTxStatus.js';\nimport { getSaleForQuote } from \"./HftEvents.js\";\n\nconst useStyles = makeStyles(() => ({\n  formControl: {\n    margin: \"5px auto\",\n    minWidth: 120,\n  },\n  selectEmpty: {\n    marginTop: \"10px auto\",\n  },\n}));\n\nexport const signExecHftCommand = (\n  sender,\n  signingKey,\n  pactTxStatus,\n  networkId,\n  gasPrice,\n  gasLimit,\n  cmd, envData={}, caps=[]\n) => {\n  const meta = Pact.lang.mkMeta(sender, hftAPI.meta.chainId, Number.parseFloat(gasPrice), Number.parseFloat(gasLimit), SigData.util.autoCreationTime(), hftAPI.meta.ttl);\n  const capsWithGas = SigData.util.addGasCap(caps);\n  console.log(\"signExecHftCommand\", capsWithGas);\n  const signers = SigData.mkSignerCList(signingKey, capsWithGas);\n  const cmdJSON = SigData.mkExecPayload(\n    cmd,\n    signers,\n    networkId,\n    meta,\n    {data: envData}\n  );\n  const execSigData = SigData.mkSigData(cmdJSON);\n  signNewPactTx(execSigData, pactTxStatus);\n};\n\nexport const signContHftCommand = (\n  pactId,\n  step,\n  rollback,\n  sender,\n  signingKey,\n  pactTxStatus,\n  networkId,\n  gasPrice,\n  gasLimit,\n  envData={}, caps=[]\n) => {\n  const meta = Pact.lang.mkMeta(sender, hftAPI.meta.chainId, Number.parseFloat(gasPrice), Number.parseFloat(gasLimit), SigData.util.autoCreationTime(), hftAPI.meta.ttl);\n  const capsWithGas = SigData.util.addGasCap(caps);\n  console.log(\"signContHftCommand\", capsWithGas);\n  const signers = SigData.mkSignerCList(signingKey, capsWithGas);\n  const cmdJSON = SigData.mkContPayload(\n    pactId,\n    step,\n    signers,\n    networkId,\n    meta,\n    { data: envData,\n      rollback: rollback}\n  );\n  const execSigData = SigData.mkSigData(cmdJSON);\n  signNewPactTx(execSigData, pactTxStatus);\n};\n\nconst CreateGuardPolicyToken = ({\n  refresh,\n  mfCache,\n  pactTxStatus\n}) => {\n  const {setTxRes, setTxStatus} = pactTxStatus;\n  const {current: {signingKey, networkId, gasPrice, gasLimit, accountName}} = usePactWallet();\n  const [id,setId] = useState(\"\");\n  const [manifest,setManifest] = useState(\"\");\n  const [precision,setPrecision] = useState(12);\n  const [mintGrd,setMintGrd] = useState(\"\");\n  const [burnGrd,setBurnGrd] = useState(\"\");\n  const [saleGrd,setSaleGrd] = useState(\"\");\n  const [transferGrd,setTransferGrd] = useState(\"\");\n  const classes = useStyles();\n\n  const handleSubmit = (evt) => {\n      evt.preventDefault();\n      try {\n        console.log(mintGrd)\n        signExecHftCommand(accountName, signingKey, pactTxStatus, networkId, gasPrice, gasLimit,\n          `(${hftAPI.contractAddress}.create-token \"${id}\" ${precision} (read-msg 'manifest) ${gtpAPI.contractAddress})`,\n          {\"manifest\": JSON.parse(manifest),\n            \"mint-guard\": JSON.parse(mintGrd),\n            \"burn-guard\": JSON.parse(burnGrd),\n            \"sale-guard\": JSON.parse(saleGrd),\n            \"transfer-guard\": JSON.parse(transferGrd)}\n          );\n      } catch (e) {\n        console.log(\"create-token Submit Error\",typeof e, e, {id, manifest: JSON.parse(manifest), precision,mintGrd,saleGrd,burnGrd,transferGrd});\n        setTxRes(e);\n        setTxStatus(\"validation-error\");\n      }\n      };\n  const inputFields = [\n    {\n      type:'textFieldSingle',\n      label:'Token Name',\n      className:classes.formControl,\n      value:id,\n      onChange:setId\n    },\n    {\n      type:'textFieldSingle',\n      label:'Precision',\n      className:classes.formControl,\n      value:precision,\n      onChange:setPrecision\n    },\n    {\n      type:'select',\n      label:'Manifest',\n      className:classes.formControl,\n      options:_.map(_.filter(mfCache,{type:'manifest'}),v=> JSON.stringify(v.value)),\n      value:manifest,\n      onChange:setManifest\n    },{\n      type:'textFieldMulti',\n      label:'Mint Keyset',\n      className:classes.formControl,\n      placeholder:\"\",\n      value:mintGrd,\n      onChange:setMintGrd,\n    },{\n      type:'textFieldMulti',\n      label:'Burn Keyset',\n      className:classes.formControl,\n      placeholder:\"\",\n      value:burnGrd,\n      onChange:setBurnGrd,\n    },{\n      type:'textFieldMulti',\n      label:'Sale Keyset',\n      className:classes.formControl,\n      placeholder:\"\",\n      value:saleGrd,\n      onChange:setSaleGrd,\n    },{\n      type:'textFieldMulti',\n      label:'Transfer Keyset',\n      className:classes.formControl,\n      placeholder:\"\",\n      value:transferGrd,\n      onChange:setTransferGrd,\n    }\n  ];\n\n  return (\n    <MakeForm\n      inputFields={inputFields}\n      onSubmit={handleSubmit}\n      pactTxStatus={pactTxStatus}\n      refresh={refresh}\n      />\n  );\n};\n\nconst CreateFixedQuotePolicyToken = ({\n  refresh,\n  mfCache,\n  pactTxStatus\n}) => {\n  const {setTxStatus, setTxRes} = pactTxStatus;\n  const {current: {signingKey, networkId, gasPrice, gasLimit, accountName}} = usePactWallet();\n  const [id,setId] = useState(\"\");\n  const [manifest,setManifest] = useState(\"\");\n  const [precision,setPrecision] = useState(12);\n  const [mintGrd,setMintGrd] = useState(\"\");\n  const [maxSupply,setMaxSupply] = useState(\"1.0\");\n  const [minAmount,setMinAmount] = useState(\"0.0\");\n  const classes = useStyles();\n\n  const handleSubmit = (evt) => {\n      evt.preventDefault();\n      try {\n        signExecHftCommand(accountName, signingKey, pactTxStatus, networkId, gasPrice, gasLimit,\n          `(${hftAPI.contractAddress}.create-token \"${id}\" ${precision} (read-msg 'manifest) ${fqpAPI.contractAddress})`,\n          {\"manifest\": JSON.parse(manifest),\n            \"mint-guard\": JSON.parse(mintGrd),\n            \"max-supply\": Number.parseFloat(maxSupply),\n            \"min-amount\": Number.parseFloat(minAmount),\n          }\n          );\n      } catch (e) {\n        console.log(\"create-token Submit Error\",typeof e, e, {id, manifest: JSON.parse(manifest), precision,mintGrd,maxSupply,minAmount});\n        setTxRes(e);\n        setTxStatus(\"validation-error\");\n      }\n      };\n  const inputFields = [\n    {\n      type:'textFieldSingle',\n      label:'Token Name',\n      className:classes.formControl,\n      value:id,\n      onChange:setId\n    },{\n      type:'textFieldSingle',\n      label:'Precision',\n      className:classes.formControl,\n      value:precision,\n      onChange:setPrecision\n    },{\n      type:'select',\n      label:'Manifest',\n      className:classes.formControl,\n      options:_.map(_.filter(mfCache,{type:'manifest'}),v=> JSON.stringify(v.value)),\n      value:manifest,\n      onChange:setManifest\n    },{\n      type:'textFieldMulti',\n      label:'Mint Keyset',\n      className:classes.formControl,\n      placeholder:\"\",\n      value:mintGrd,\n      onChange:setMintGrd,\n    },{\n      type:'textFieldSingle',\n      label:'Max Supply',\n      className:classes.formControl,\n      value:maxSupply,\n      onChange:setMaxSupply\n    },{\n      type:'textFieldSingle',\n      label:'Min Amount',\n      className:classes.formControl,\n      value:minAmount,\n      onChange:setMinAmount\n    }\n  ];\n\n  return (\n    <MakeForm\n      inputFields={inputFields}\n      onSubmit={handleSubmit}\n      pactTxStatus={pactTxStatus}\n      refresh={refresh}\n    />\n  );\n};\n\nconst CreateFixedQuoteRoyaltyPolicyToken = ({\n  refresh,\n  mfCache,\n  pactTxStatus\n}) => {\n  const {setTxStatus, setTxRes} = pactTxStatus;\n  const {current: {signingKey, networkId, gasPrice, gasLimit, accountName}} = usePactWallet();\n  const [id,setId] = useState(\"\");\n  const [manifest,setManifest] = useState(\"\");\n  const [precision,setPrecision] = useState(12);\n  const [fungible, setFungible] = useState(\"\");\n  const [mintGrd,setMintGrd] = useState(\"\");\n  const [creator, setCreator] = useState(\"\");\n  const [creatorGrd,setCreatorGrd] = useState(\"\");\n  const [maxSupply,setMaxSupply] = useState(\"1.0\");\n  const [minAmount,setMinAmount] = useState(\"0.0\");\n  const [royaltyRate,setRoyaltyRate] = useState(\"0.0\");\n  const classes = useStyles();\n\n  const handleSubmit = (evt) => {\n      evt.preventDefault();\n      try {\n        signExecHftCommand(accountName, signingKey, pactTxStatus, networkId, gasPrice, gasLimit,\n          `(${hftAPI.contractAddress}.create-token \"${id}\" ${precision} (read-msg 'manifest) ${fqrpAPI.contractAddress})`,\n          {\"manifest\": JSON.parse(manifest),\n            \"token_spec\": {\n              \"fungible\": {\n                \"refName\": {\n                  \"namespace\":null,\n                  \"name\":fungible\n                },\n                \"refSpec\": [\n                  {\n                  \"namespace\":null,\n                  \"name\":\"fungible-v2\"\n                }]\n              },\n              \"creator\": creator,\n              \"creator-guard\": JSON.parse(creatorGrd),\n              \"mint-guard\": JSON.parse(mintGrd),\n              \"max-supply\": Number.parseFloat(maxSupply),\n              \"min-amount\": Number.parseFloat(minAmount),\n              \"royalty-rate\": Number.parseFloat(royaltyRate)\n          }}\n          );\n      } catch (e) {\n        console.log(\"create-token Submit Error\",typeof e, e, {id, manifest: JSON.parse(manifest), precision,mintGrd,maxSupply,minAmount});\n        setTxRes(e);\n        setTxStatus(\"validation-error\");\n      }\n      };\n  const inputFields = [\n    {\n      type:'textFieldSingle',\n      label:'Token Name',\n      className:classes.formControl,\n      value:id,\n      onChange:setId\n    },{\n      type:'textFieldSingle',\n      label:'Precision',\n      className:classes.formControl,\n      value:precision,\n      onChange:setPrecision\n    },{\n      type:'select',\n      label:'Manifest',\n      className:classes.formControl,\n      options:_.map(_.filter(mfCache,{type:'manifest'}),v=> JSON.stringify(v.value)),\n      value:manifest,\n      onChange:setManifest\n    },{\n      type:'textFieldMulti',\n      label:'Mint Keyset',\n      className:classes.formControl,\n      placeholder:\"\",\n      value:mintGrd,\n      onChange:setMintGrd,\n    },\n    {\n      type:'textFieldSingle',\n      label:'Creator',\n      className:classes.formControl,\n      value:creator,\n      onChange:setCreator\n    },\n    {\n      type:'textFieldMulti',\n      label:'Creator Keyset',\n      className:classes.formControl,\n      placeholder:\"\",\n      value:creatorGrd,\n      onChange:setCreatorGrd,\n    },\n    {\n      type:'textFieldSingle',\n      label:'Fungible',\n      className:classes.formControl,\n      value:fungible,\n      onChange:setFungible\n    },\n    {\n      type:'textFieldSingle',\n      label:'Max Supply',\n      className:classes.formControl,\n      value:maxSupply,\n      onChange:setMaxSupply\n    },{\n      type:'textFieldSingle',\n      label:'Min Amount',\n      className:classes.formControl,\n      value:minAmount,\n      onChange:setMinAmount\n    },{\n      type:'textFieldSingle',\n      label:'Royalty Rate',\n      className:classes.formControl,\n      value:royaltyRate,\n      onChange:setRoyaltyRate\n    }\n  ];\n\n  return (\n    <MakeForm\n      inputFields={inputFields}\n      onSubmit={handleSubmit}\n      pactTxStatus={pactTxStatus}\n      refresh={refresh}\n    />\n  );\n};\n\nconst Mint = ({\n  hftTokens,\n  refresh,\n  pactTxStatus\n  }) => {\n  const {setTxStatus, setTxRes} = pactTxStatus;\n  const {current: {signingKey, networkId, gasPrice, gasLimit, accountName}} = usePactWallet();\n  const [token,setToken] = useState(\"\");\n  const [account,setAccount] = useState(\"\");\n  const [newKs,setNewKs] = useState({});\n  const [amount,setAmount] = useState(100.0);\n  const classes = useStyles();\n\n  const handleSubmit = (evt) => {\n      evt.preventDefault();\n      console.log(Pact.lang.mkCap(\"MINT Cap\"\n              , \"Authenticates that you can mint\"\n              , `${hftAPI.contractAddress}.MINT`\n              , [token, account, Number.parseInt(amount)]));\n      try {\n        signExecHftCommand(accountName, signingKey, pactTxStatus, networkId, gasPrice, gasLimit,\n          `(${hftAPI.contractAddress}.mint \"${token}\" \"${account}\" (read-keyset 'ks) (read-decimal 'amount))`,\n          {ks: JSON.parse(newKs), amount},\n          [SigData.mkCap(`${hftAPI.contractAddress}.MINT`,[token, account, Number.parseFloat(amount)])]\n        );\n      } catch (e) {\n        console.log(\"mint Submit Error\",typeof e, e, token, account, newKs, amount);\n        setTxRes(e);\n        setTxStatus(\"validation-error\");\n      }\n      };\n  const inputFields = [\n    {\n      type:'select',\n      label:'Select Token',\n      className:classes.formControl,\n      onChange:setToken,\n      options:hftTokens.map((g)=>g['id']),\n    },\n    {\n      type:'textFieldSingle',\n      label:'Account Name',\n      className:classes.formControl,\n      value:account,\n      onChange:setAccount\n    },\n    {\n      type:'textFieldMulti',\n      label:'Keyset',\n      className:classes.formControl,\n      placeholder:JSON.stringify({\"pred\":\"keys-all\",\"keys\":[\"8c59a322800b3650f9fc5b6742aa845bc1c35c2625dabfe5a9e9a4cada32c543\"]},undefined,2),\n      value:newKs,\n      onChange:setNewKs,\n    },\n    {\n      type:'textFieldSingle',\n      label:'Amount',\n      className:classes.formControl,\n      value:amount,\n      onChange:setAmount\n    },\n  ];\n\n  return (\n    <MakeForm\n      inputFields={inputFields}\n      onSubmit={handleSubmit}\n      pactTxStatus={pactTxStatus}\n      refresh={refresh}\n    />\n  );\n};\n\n\n\nconst TransferCreate = ({\n  hftTokens,\n  hftLedger,\n  refresh,\n  pactTxStatus\n}) => {\n  const {setTxStatus, setTxRes} = pactTxStatus;\n  const {current: {signingKey, networkId, gasPrice, gasLimit, accountName}} = usePactWallet();\n  const [token,setToken] = useState(\"\");\n  const [sender,setSender] = useState(\"\");\n  const [receiver,setReceiver] = useState(\"\");\n  const [newKs,setNewKs] = useState({});\n  const [amount,setAmount] = useState(0.0);\n  const classes = useStyles();\n\n  const handleSubmit = (evt) => {\n      evt.preventDefault();\n      try {\n        signExecHftCommand(accountName, signingKey, pactTxStatus, networkId, gasPrice, gasLimit,\n          `(${hftAPI.contractAddress}.transfer-create \"${token}\" \"${sender}\" \"${receiver}\" (read-keyset 'ks) (read-decimal 'amount))`,\n          {ks: JSON.parse(newKs), amount: amount},\n          [SigData.mkCap(`${hftAPI.contractAddress}.TRANSFER`, [token, sender, receiver, Number.parseFloat(amount)])]\n        );\n      } catch (e) {\n        console.log(\"transfer-create Submit Error\",typeof e, e, token, sender, receiver, newKs, amount);\n        setTxRes(e);\n        setTxStatus(\"validation-error\");\n      }\n      };\n\n  const inputFields = [\n    {\n      type:'select',\n      label:'Select Token',\n      className:classes.formControl,\n      onChange:setToken,\n      options:hftTokens.map((g)=>g['id']),\n    },\n    {\n      type:'select',\n      label:'Sender Account',\n      className:classes.formControl,\n      onChange:setSender,\n      options:_.sortedUniq(hftLedger.map((g)=>g['account']))\n    },\n    {\n      type:'textFieldSingle',\n      label:'Receiver Account',\n      className:classes.formControl,\n      value:receiver,\n      onChange:setReceiver\n    },\n    {\n      type:'textFieldMulti',\n      label:'Receiver Account Keyset',\n      className:classes.formControl,\n      placeholder:JSON.stringify({\"pred\":\"keys-all\",\"keys\":[\"8c59a322800b3650f9fc5b6742aa845bc1c35c2625dabfe5a9e9a4cada32c543\"]},undefined,2),\n      value:newKs,\n      onChange:setNewKs,\n    },\n    {\n      type:'textFieldSingle',\n      label:'Transfer Amount',\n      className:classes.formControl,\n      value:amount,\n      onChange:setAmount\n    },\n  ];\n\n  return (\n    <MakeForm\n      inputFields={inputFields}\n      onSubmit={handleSubmit}\n      pactTxStatus={pactTxStatus}\n      refresh={refresh}\n    />\n  );\n};\n\n\nconst Transfer = ({\n  hftTokens,\n  hftLedger,\n  refresh,\n  pactTxStatus\n}) => {\n  const {setTxStatus, setTxRes} = pactTxStatus;\n  const {current: {signingKey, networkId, gasPrice, gasLimit, accountName}} = usePactWallet();\n  const [token,setToken] = useState(\"\");\n  const [sender,setSender] = useState(\"\");\n  const [receiver,setReceiver] = useState(\"\");\n  const [amount,setAmount] = useState(0.0);\n  const classes = useStyles();\n\n  const handleSubmit = (evt) => {\n      evt.preventDefault();\n      try {\n        signExecHftCommand(accountName, signingKey, pactTxStatus, networkId, gasPrice, gasLimit,\n          `(${hftAPI.contractAddress}.transfer \"${token}\" \"${sender}\" \"${receiver}\" (read-decimal 'amount))`,\n          {amount: amount},\n          [SigData.mkCap(`${hftAPI.contractAddress}.TRANSFER`, [token, sender, receiver, Number.parseFloat(amount)])]\n        );\n      } catch (e) {\n        console.log(\"transfer Submit Error\",typeof e, e, token, sender, receiver, amount);\n        setTxRes(e);\n        setTxStatus(\"validation-error\");\n      }\n      };\n\n  const inputFields = [\n    {\n      type:'select',\n      label:'Select Token',\n      className:classes.formControl,\n      onChange:setToken,\n      options:hftTokens.map((g)=>g['id']),\n    },\n    {\n      type:'select',\n      label:'Sender Account',\n      className:classes.formControl,\n      onChange:setSender,\n      options:_.sortedUniq(hftLedger.map((g)=>g['account']))\n    },\n    {\n      type:'select',\n      label:'Receiver Account',\n      className:classes.formControl,\n      onChange:setReceiver,\n      options:_.sortedUniq(hftLedger.map((g)=>g['account']))\n    },\n    {\n      type:'textFieldSingle',\n      label:'Transfer Amount',\n      className:classes.formControl,\n      value:amount,\n      onChange:setAmount\n    },\n  ];\n\n  return (\n    <MakeForm\n      inputFields={inputFields}\n      onSubmit={handleSubmit}\n      pactTxStatus={pactTxStatus}\n      refresh={refresh}\n    />\n  );\n};\n\n\nconst CreateAccount = ({\n  hftTokens,\n  hftLedger,\n  refresh,\n  pactTxStatus\n}) => {\n  const {setTxStatus, setTxRes} = pactTxStatus;\n  const {current: {signingKey, networkId, gasPrice, gasLimit, accountName}, allKeys} = usePactWallet();\n  const [token,setToken] = useState(\"\");\n  const [account,setAccount] = useState(\"\");\n  const [grdKeys,setGrdKeys] = useState([]);\n  const [grdPred,setGrdPred] = useState(\"keys-all\");\n  const classes = useStyles();\n\n  const handleSubmit = (evt) => {\n      evt.preventDefault();\n      const newKeys = _.map(grdKeys, (k) => k.inputValue ? k.inputValue : k);\n      console.debug(\"create-account\", token, account, grdPred, grdKeys, {ks:{pred:grdPred, keys:newKeys}});\n      try {\n        signExecHftCommand(accountName, signingKey, pactTxStatus, networkId, gasPrice, gasLimit,\n          `(${hftAPI.contractAddress}.create-account \"${token}\" \"${account}\" (read-keyset 'ks))`,\n          {ks:{pred:grdPred, keys:newKeys}}\n        );\n      } catch (e) {\n        console.log(\"create-account Submit Error\",typeof e, e, token, account, grdPred, grdKeys);\n        setTxRes(e);\n        setTxStatus(\"validation-error\");\n      }\n      };\n\n  const inputFields = [\n    {\n      type:'select',\n      label:'Select Token',\n      className:classes.formControl,\n      onChange:setToken,\n      options:hftTokens.map((g)=>g['id']),\n    },\n    {\n      type:'textFieldSingle',\n      label:'Account Name',\n      className:classes.formControl,\n      value:account,\n      onChange:setAccount\n    },\n    {\n      type:'select',\n      label:'Select Keyset Predicate',\n      className:classes.formControl,\n      onChange:setGrdPred,\n      options:[\"keys-any\", \"keys-all\", \"keys-2\"],\n    },\n    {\n      type:'keySelector',\n      label:'Set Guard Keys',\n      className:classes.formControl,\n      onChange:setGrdKeys,\n      value:grdKeys,\n      options:allKeys,\n    }\n  ];\n\n  return (\n    <MakeForm\n      inputFields={inputFields}\n      onSubmit={handleSubmit}\n      pactTxStatus={pactTxStatus}\n      refresh={refresh}\n    />\n  );\n};\n\nconst filterTokensByPolicy = (hftTokens, {namespace, names}) => {\n  return _.filter(hftTokens,\n    ({policy}) => names.includes(policy.refName.name) && namespace === policy.refName.namespace)\n};\n\nconst getPossibleAccounts = (hftLedger, tokenId) => {\n  return _.filter(hftLedger, ({guard, id}) => {\n    if (guard.pred && guard.keys && id === tokenId) {return true} else {return false}\n  });\n};\n\nconst SaleFixedQuotePolicy = ({\n  hftTokens,\n  hftLedger,\n  refresh,\n  pactTxStatus\n}) => {\n  const {setTxStatus, setTxRes} = pactTxStatus;\n  const {current: {signingKey, networkId, gasPrice, gasLimit, accountName}, allKeys} = usePactWallet();\n  const [token,setToken] = useState(\"\");\n  const [seller,setSeller] = useState(\"\");\n  const [possibleSellers,setPossibleSellers] = useState([]);\n  const [amount,setAmount] = useState(\"0.0\");\n  const [timeLimit,setTimeLimit] = useState(\"\");\n  const [fungible, setFungible] = useState(\"coin\")\n  const [price, setPrice] = useState(\"0.0\");\n  // recipient should be the seller\n  const [recipient, setRecipient] = useState(\"\");\n  const [recipientGrd, setRecipientGrd] = useState(\"\");\n  const [possibleTokens, setPossibleTokens] = useState([]);\n  const classes = useStyles();\n\n  useEffect(()=>{\n    setPossibleTokens(hftTokens);\n    // setPossibleTokens(filterTokensByPolicy(hftTokens, {names: [\"fixed-quote-royalty-policy\",\"fixed-quote-policy\"], namespace: \"marmalade\"}));\n  },[hftTokens]);\n\n  useEffect(()=>{\n    setPossibleSellers(hftLedger.map(({account})=>account));\n    // setPossibleSellers(_.filter(getPossibleAccounts(hftLedger,token),({balance})=> {\n    //   return balance > 0;\n    // }).map(({account})=>account));\n  },[token,hftLedger,seller]);\n\n  const handleSubmit = (evt) => {\n      evt.preventDefault();\n      console.debug(\"sale\", token, seller, fungible);\n      try {\n\n        const quote = {\n          \"price\": Number.parseFloat(price),\n          \"recipient\": recipient,\n          \"recipient-guard\": JSON.parse(recipientGrd)\n        };\n        if (_.find(possibleTokens, {id: token})[\"policy\"][\"refName\"][\"name\"] === \"fixed-quote-policy\") {\n          quote[\"fungible\"] = {\n            \"refName\": {\n              \"namespace\":null,\n              \"name\":fungible\n            },\n            \"refSpec\": [\n              {\n              \"namespace\":null,\n              \"name\":\"fungible-v2\"\n            }]\n          };\n        }\n        signExecHftCommand(accountName, signingKey, pactTxStatus, networkId, gasPrice, gasLimit,\n          `(${hftAPI.contractAddress}.sale \"${token}\" \"${seller}\" (read-decimal 'amount) (read-integer 'timeout))`,\n          { amount: amount,\n            timeout: timeLimit,\n            quote\n          },\n          [SigData.mkCap(`${hftAPI.contractAddress}.OFFER`,[token, seller, Number.parseFloat(amount), {int: timeLimit}])]\n        );\n      } catch (e) {\n        console.log(\"Sale Submit Error\",typeof e, e, token, seller, amount, timeLimit);\n        setTxRes(e);\n        setTxStatus(\"validation-error\");\n      }\n      };\n\n  const inputFields = [\n    {\n      type:'select',\n      label:'Select Token',\n      className:classes.formControl,\n      onChange:setToken,\n      options:possibleTokens.map((g)=>g['id']),\n    },\n    {\n      type:'select',\n      label:'Select Seller',\n      className:classes.formControl,\n      onChange:setSeller,\n      options:possibleSellers\n    },\n    {\n      type:'textFieldSingle',\n      label:'Sale Amount',\n      className:classes.formControl,\n      value:amount,\n      onChange:setAmount\n    },\n    {\n      type:'textFieldSingle',\n      label:'Timeout (Block height)',\n      className:classes.formControl,\n      value:timeLimit,\n      onChange:setTimeLimit\n    },\n    {\n      type:'textFieldSingle',\n      label:'fungible',\n      className:classes.formControl,\n      value:fungible,\n      onChange:setFungible\n    },\n    {\n      type:'textFieldSingle',\n      label:'Price',\n      className:classes.formControl,\n      value:price,\n      onChange:setPrice\n    },\n    {\n      type:'textFieldSingle',\n      label:'Recipient',\n      className:classes.formControl,\n      onChange:setRecipient,\n      value:recipient\n    },\n    {\n      type:'textFieldMulti',\n      label:'Recipient Keyset',\n      className:classes.formControl,\n      placeholder:JSON.stringify({\"pred\":\"keys-all\",\"keys\":[\"8c59a322800b3650f9fc5b6742aa845bc1c35c2625dabfe5a9e9a4cada32c543\"]},undefined,2),\n      value:recipientGrd,\n      onChange:setRecipientGrd,\n    }\n  ];\n\n  return (\n    <MakeForm\n      inputFields={inputFields}\n      onSubmit={handleSubmit}\n      pactTxStatus={pactTxStatus}\n      refresh={refresh}\n    />\n  );\n};\n\nconst BuyFixedQuotePolicy = ({\n  hftLedger,\n  hftTokens,\n  orderBook,\n  quotes,\n  refresh,\n  pactTxStatus\n}) => {\n  const {setTxStatus, setTxRes} = pactTxStatus;\n  const {current: {signingKey, networkId, gasPrice, gasLimit, accountName}} = usePactWallet();\n  const [saleId,setSaleId] = useState(\"\");\n  const [buyer,setBuyer] = useState(\"\");\n  const [buyerGrd,setBuyerGrd] = useState(\"\");\n  const classes = useStyles();\n\n  useEffect(()=>{\n    try {\n      const quote = _.find(quotes,{params: {'sale-id': saleId}});\n      const tokenId = quote[\"params\"][\"token-id\"];\n    } catch (e) {\n      console.debug(\"Getting applicable buyers failed with\", e);\n    }\n  },[saleId, hftLedger, quotes]);\n\n  const handleSubmit = (evt) => {\n      evt.preventDefault();\n      const quote = _.find(quotes,{params: {'sale-id': saleId}});\n      const sale = getSaleForQuote(orderBook,saleId);\n      const amount = sale.params.amount;\n      const price = quote.params.spec.price;\n      const seller = sale.params.seller;\n      const recipient = quote.params.spec.recipient;\n      const timeout = sale.params.timeout;\n      const tokenId = quote[\"params\"][\"token-id\"];\n      try {\n        signContHftCommand(saleId, 1, false, accountName, signingKey, pactTxStatus, networkId, gasPrice, gasLimit,\n          { buyer: buyer,\n            \"buyer-guard\": JSON.parse(buyerGrd),\n          },\n          [\n            SigData.mkCap(`${hftAPI.contractAddress}.BUY`,[tokenId, seller, buyer, amount, {\"int\": timeout}, saleId]),\n            SigData.mkCap(`coin.TRANSFER`, [buyer, recipient, amount*price])\n          ]\n        );\n      } catch (e) {\n        console.log(\"Buy Submit Error\",typeof e, e, {quote, sale, amount, price, transfer: (amount*price), seller, timeout});\n        setTxRes(e);\n        setTxStatus(\"validation-error\");\n      }\n    };\n\n  const inputFields = [\n    {\n      type:'select',\n      label:'Select Sale',\n      className:classes.formControl,\n      onChange:setSaleId,\n      options:quotes.map((g)=> g['params']['sale-id'])\n    },\n    {\n      type:'textFieldSingle',\n      label:'Buyer',\n      className:classes.formControl,\n      onChange:setBuyer,\n      value:buyer\n    },\n    {\n      type:'textFieldMulti',\n      label:'Buyer Keyset',\n      className:classes.formControl,\n      placeholder:JSON.stringify({\"pred\":\"keys-all\",\"keys\":[\"8c59a322800b3650f9fc5b6742aa845bc1c35c2625dabfe5a9e9a4cada32c543\"]},undefined,2),\n      value:buyerGrd,\n      onChange:setBuyerGrd,\n    }\n    // {\n    //   type:'textFieldMulti',\n    //   label:'Buyer Keyset',\n    //   className:classes.formControl,\n    //   placeholder:JSON.stringify({\"pred\":\"keys-all\",\"keys\":[\"8c59a322800b3650f9fc5b6742aa845bc1c35c2625dabfe5a9e9a4cada32c543\"]},undefined,2),\n    //   value:buyerGrd,\n    //   onChange:setBuyerGrd,\n    // }\n  ];\n\n  return (\n    <MakeForm\n      inputFields={inputFields}\n      onSubmit={handleSubmit}\n      pactTxStatus={pactTxStatus}\n      refresh={refresh}\n    />\n  );\n};\n\nconst WithdrawFixedQuotePolicy = ({\n  hftLedger,\n  hftTokens,\n  orderBook,\n  quotes,\n  refresh,\n  pactTxStatus\n}) => {\n  const {setTxStatus, setTxRes} = pactTxStatus;\n  const {current: {signingKey, networkId, gasPrice, gasLimit, accountName}, allKeys} = usePactWallet();\n  const [saleId,setSaleId] = useState(\"\");\n  const classes = useStyles();\n\n    useEffect(()=>{\n      try {\n        const quote = _.find(quotes,{params: {'sale-id': saleId}});\n        const tokenId = quote[\"params\"][\"token-id\"];\n      } catch (e) {\n        console.debug(\"Getting applicable buyers failed with\", e);\n      }\n    },[saleId, hftLedger, quotes]);\n\n    const handleSubmit = (evt) => {\n        evt.preventDefault();\n        const quote = _.find(quotes,{params: {'sale-id': saleId}});\n        const sale = getSaleForQuote(orderBook,saleId);\n        const amount = sale.params.amount;\n        const price = quote.params.spec.price;\n        const seller = sale.params.seller;\n        const recipient = quote.params.spec.recipient;\n        const timeout = sale.params.timeout;\n        const tokenId = quote[\"params\"][\"token-id\"];\n        try {\n          signContHftCommand(saleId, 0, true, accountName, signingKey, pactTxStatus, networkId, gasPrice, gasLimit,\n            []\n          );\n        } catch (e) {\n          console.log(\"Withdraw Submit Error\",typeof e, e, {quote, sale, amount, price, transfer: (amount*price), seller, timeout});\n          setTxRes(e);\n          setTxStatus(\"validation-error\");\n        }\n      };\n\n    const inputFields = [\n      {\n        type:'select',\n        label:'Select Sale',\n        className:classes.formControl,\n        onChange:setSaleId,\n        options:orderBook.map((g)=> g['params']['sale-id'])\n      }\n    ];\n\n    return (\n      <MakeForm\n        inputFields={inputFields}\n        onSubmit={handleSubmit}\n        pactTxStatus={pactTxStatus}\n        refresh={refresh}\n      />\n    );\n};\n\nexport const LedgerForms = ({\n  hftLedger,\n  hftTokens,\n  tabIdx,\n  pactTxStatus,\n  refresh: {\n    getHftLedger,\n    getHftTokens,\n  },\n}) => {\n  return (\n    <ScrollableTabs\n      tabIdx={tabIdx}\n      tabEntries={[\n          {\n            label:\"Transfer Create\",\n            component:\n              <TransferCreate\n                pactTxStatus={pactTxStatus}\n                hftTokens={hftTokens}\n                hftLedger={hftLedger}\n                refresh={()=>getHftLedger()}/>\n          },{\n            label:\"Transfer\",\n            component:\n              <Transfer\n                pactTxStatus={pactTxStatus}\n                hftTokens={hftTokens}\n                hftLedger={hftLedger}\n                refresh={()=>getHftLedger()}/>\n          },{\n            label:\"Create Account\",\n            component:\n              <CreateAccount\n                pactTxStatus={pactTxStatus}\n                hftTokens={hftTokens}\n                hftLedger={hftLedger}\n                refresh={()=>getHftLedger()}/>\n          }\n      ]}/>\n  );\n};\n\nexport const TokenForms = ({\n  hftTokens,\n  mfCache,\n  tabIdx,\n  pactTxStatus,\n  refresh: {\n    getHftLedger,\n    getHftTokens,\n  },\n}) => {\n  return (\n    <ScrollableTabs\n      tabIdx={tabIdx}\n      tabEntries={[\n          {\n            label:\"Create Guard Policy HFT\",\n            component:\n              <CreateGuardPolicyToken\n                pactTxStatus={pactTxStatus}\n                mfCache={mfCache}\n                refresh={()=>getHftTokens()}/>\n          },{\n            label:\"Create Fixed Quote Policy HFT\",\n            component:\n              <CreateFixedQuotePolicyToken\n                pactTxStatus={pactTxStatus}\n                mfCache={mfCache}\n                refresh={()=>getHftTokens()}/>\n          },{\n            label:\"Create Fixed Quote Royalty Policy HFT\",\n            component:\n              <CreateFixedQuoteRoyaltyPolicyToken\n                pactTxStatus={pactTxStatus}\n                mfCache={mfCache}\n                refresh={()=>getHftTokens()}/>\n          },{\n            label:\"Mint HFT Token\",\n            component:\n              <Mint\n                pactTxStatus={pactTxStatus}\n                hftTokens={hftTokens}\n                refresh={()=>getHftLedger()}/>\n              }\n      ]}/>\n  );\n};\n\nexport const OrderForms = ({\n  hftTokens,\n  hftLedger,\n  orderBook,\n  quotes,\n  mfCache,\n  tabIdx,\n  pactTxStatus,\n  refresh: {\n    getHftLedger,\n    getHftTokens,\n    getHftEvents,\n  },\n}) => {\n  const refresh = () => {\n    getHftEvents();\n    getHftLedger();\n  };\n  return (\n    <ScrollableTabs\n      tabIdx={tabIdx}\n      tabEntries={[\n          {\n            label:\"Sale Fixed Quote Policy Token\",\n            component:\n              <SaleFixedQuotePolicy\n                pactTxStatus={pactTxStatus}\n                hftTokens={hftTokens}\n                hftLedger={hftLedger}\n                refresh={refresh}/>\n          },\n          {\n            label:\"Buy Fixed Quote Policy Token\",\n            component:\n              <BuyFixedQuotePolicy\n                pactTxStatus={pactTxStatus}\n                orderBook={orderBook.filter((g)=>g['name'] === \"marmalade.ledger.SALE\")}\n                quotes={quotes}\n                hftTokens={hftTokens}\n                hftLedger={hftLedger}\n                refresh={refresh}/>\n          },\n          {\n            label:\"Withdraw Fixed Quote Policy Token\",\n            component:\n              <WithdrawFixedQuotePolicy\n                pactTxStatus={pactTxStatus}\n                orderBook={orderBook.filter((g)=>g['name'] === \"marmalade.ledger.SALE\")}\n                quotes={quotes}\n                hftTokens={hftTokens}\n                hftLedger={hftLedger}\n                refresh={refresh}/>\n          },\n      ]}/>\n  );\n};\n","//basic React api imports\nimport React, { useState, useEffect } from \"react\";\nimport {\n  useQueryParams,\n  StringParam,\n } from 'use-query-params';\nimport _ from 'lodash';\nimport ReactJson from 'react-json-view'\n//config file for blockchain calls\nimport Pact from \"pact-lang-api\";\nimport { manifestAPI } from \"../kadena-config.js\";\nimport { PactJsonListAsTable, dashStyleNames2Text, MakeLocalForm } from \"../util.js\";\nimport { ScrollableTabs } from \"../ScrollableTabs.js\";\nimport { usePactWallet, addGasCap } from \"../PactWallet.js\";\nimport {\n  makeStyles,\n} from '@material-ui/styles';\n\nconst useStyles = makeStyles(() => ({\n  formControl: {\n    margin: \"5px auto\",\n    minWidth: 120,\n  },\n  selectEmpty: {\n    marginTop: \"10px auto\",\n  },\n}));\n\nexport const createUri = async (scheme, data) => {\n  //calling get-all() function from smart contract\n    const res = await Pact.fetch.local(\n      {\n        pactCode: `(${manifestAPI.contractAddress}.uri (read-string 'scheme) (read-string 'data))`,\n        //pact-lang-api function to construct transaction meta data\n        envData: {scheme, data},\n        meta: Pact.lang.mkMeta(\n          manifestAPI.meta.sender,\n          manifestAPI.meta.chainId,\n          manifestAPI.meta.gasPrice,\n          manifestAPI.meta.gasLimit,\n          manifestAPI.meta.creationTime(),\n          manifestAPI.meta.ttl\n        ),\n      },\n      manifestAPI.meta.host\n    );\n    const all = res.result.data;\n    //sorts memories by least recent\n    console.debug(`local query data: (${manifestAPI.contractAddress}.uri)`, {scheme,data}, all);\n    return({'type':'uri', 'value': all});\n};\n\n\nexport const createDatum = async (uri, datum) => {\n  //calling get-all() function from smart contract\n    const res = await Pact.fetch.local(\n      {\n        pactCode: `(${manifestAPI.contractAddress}.create-datum (read-msg 'uri) (read-msg 'datum))`,\n        //pact-lang-api function to construct transaction meta data\n        envData: {uri, datum},\n        meta: Pact.lang.mkMeta(\n          manifestAPI.meta.sender,\n          manifestAPI.meta.chainId,\n          manifestAPI.meta.gasPrice,\n          manifestAPI.meta.gasLimit,\n          manifestAPI.meta.creationTime(),\n          manifestAPI.meta.ttl\n        ),\n      },\n      manifestAPI.meta.host\n    );\n    const all = res.result.data;\n    //sorts memories by least recent\n    console.debug(`local query data: (${manifestAPI.contractAddress}.create-datum)`, {uri,datum}, all);\n    return({'type':'datum', 'value': all});\n};\n\nexport const createManifest = async (uri, data) => {\n  //calling get-all() function from smart contract\n    const res = await Pact.fetch.local(\n      {\n        pactCode: `(${manifestAPI.contractAddress}.create-manifest (read-msg 'uri) (read-msg 'data))`,\n        //pact-lang-api function to construct transaction meta data\n        envData: {uri, data},\n        meta: Pact.lang.mkMeta(\n          manifestAPI.meta.sender,\n          manifestAPI.meta.chainId,\n          manifestAPI.meta.gasPrice,\n          manifestAPI.meta.gasLimit,\n          manifestAPI.meta.creationTime(),\n          manifestAPI.meta.ttl\n        ),\n      },\n      manifestAPI.meta.host\n    );\n    const all = res.result.data;\n    //sorts memories by least recent\n    console.debug(`local query data: (${manifestAPI.contractAddress}.create-manifest)`, {uri,data}, all);\n    return({'type':'manifest', 'value': all});\n};\n\nexport const RenderUri = ({mfCache}) => {\n  console.debug(\"renderUri\", mfCache);\n  return (\n   <PactJsonListAsTable\n    json={_.map(_.filter(mfCache,{type:'uri'}),'value')}\n    header={[\"Scheme\", \"Data\"]}\n    keyOrder={[\"scheme\",\"data\"]}\n    keyFormatter={dashStyleNames2Text}\n    />\n  )\n};\n\nexport const RenderManifest = ({mfCache}) => {\n  const pretty = _.map(_.filter(mfCache,{type:'manifest'}),v=> {return {hash: v.value.hash, contents: v.value};});\n  console.debug(\"renderManifest\", pretty);\n  return (\n   <PactJsonListAsTable\n    json={pretty}\n    header={[\"Hash\", \"Contents\"]}\n    keyOrder={[\"hash\",\"contents\"]}\n    kvFunc={\n      {'contents': v => {\n        return <ReactJson\n          src={v.contents}\n          name={false}\n          collapsed={2}\n          enableClipboard={false}\n          displayDataTypes={false}\n          displayObjectSize={false}\n        />}\n      }\n    }\n    />\n  )\n};\n\nexport const RenderDatum = ({mfCache}) => {\n  const pretty = _.map(_.filter(mfCache,{type:'datum'}),v=> {return {hash: v.value.hash, contents: v.value};});\n  console.debug(\"renderDatum\", pretty);\n  return (\n   <PactJsonListAsTable\n    json={pretty}\n    header={[\"Hash\", \"Contents\"]}\n    keyOrder={[\"hash\",\"contents\"]}\n    kvFunc={\n      {'contents': v => {\n        return <ReactJson\n          src={v.contents}\n          name={false}\n          collapsed={2}\n          enableClipboard={false}\n          displayDataTypes={false}\n          displayObjectSize={false}\n        />}\n      }\n    }\n    keyFormatter={dashStyleNames2Text}\n    />\n  )\n};\n\nconst CreateUri = ({mfCache, setMfCache}) => {\n  const [scheme,setScheme] = useState(\"\");\n  const [data,setData] = useState(\"\");\n  const classes = useStyles();\n\n  const handleSubmit = async (evt) => {\n      evt.preventDefault();\n      try {\n        const res = await createUri(scheme, data);\n        console.debug('create-uri result', res)\n        setMfCache(_.uniq(_.concat([res],mfCache)));\n        console.debug('updated mf', mfCache )\n      } catch (e) {\n        console.log(\"create-uri Submit Error\",typeof e, e, scheme, data);\n      }\n      };\n  const inputFields = [\n    {\n      type:'textFieldSingle',\n      label:'Scheme',\n      className:classes.formControl,\n      value:scheme,\n      onChange:setScheme\n    },\n    {\n      type:'textFieldSingle',\n      label:'Data',\n      className:classes.formControl,\n      value:data,\n      onChange:setData\n    }\n  ];\n\n  return (\n    <MakeLocalForm\n      inputFields={inputFields}\n      onSubmit={handleSubmit}\n      tx={\"stateless tx\"} txStatus={\"stateless tx\"} txRes={\"stateless tx\"}\n      setTxStatus={() => null}/>\n  );\n};\n\nconst CreateDatum = ({mfCache, setMfCache}) => {\n  const [uri,setUri] = useState(\"\");\n  const [datum,setDatum] = useState(\"\");\n  const classes = useStyles();\n\n  const handleSubmit = async (evt) => {\n      evt.preventDefault();\n      const uriObj = JSON.parse(uri);\n      const datumObj = JSON.parse(datum);\n      try {\n        const res = await createDatum(uriObj, datumObj);\n        console.debug('create-datum result', res)\n        setMfCache(_.uniq(_.concat([res],mfCache)));\n        console.debug('updated mf', mfCache )\n      } catch (e) {\n        console.log(\"create-datum Submit Error\",typeof e, e, uriObj, datumObj);\n      }\n      };\n  const inputFields = [\n    {\n      type:'select',\n      label:'URI',\n      className:classes.formControl,\n      options:_.map(_.filter(mfCache,{type:'uri'}),v=> JSON.stringify(v.value)),\n      value:uri,\n      onChange:setUri\n    },\n    {\n      type:'textFieldMulti',\n      label:'Datum',\n      className:classes.formControl,\n      value:datum,\n      onChange:setDatum\n    }\n  ];\n\n  return (\n    <MakeLocalForm\n      inputFields={inputFields}\n      onSubmit={handleSubmit}\n      tx={\"stateless tx\"} txStatus={\"stateless tx\"} txRes={\"stateless tx\"}\n      setTxStatus={() => null}/>\n  );\n};\n\nconst CreateManifest = ({mfCache, setMfCache}) => {\n  const [uri,setUri] = useState(\"\");\n  const [data,setData] = useState([]);\n  const classes = useStyles();\n  console.debug('CreateManifest', {mfCache});\n\n  const handleSubmit = async (evt) => {\n      evt.preventDefault();\n      const uriObj = JSON.parse(uri);\n      const dataObjList = _.map(data,(v)=>v.value);\n      console.debug('create manifest submit', {uriObj,dataObjList});\n      try {\n        const res = await createManifest(uriObj, dataObjList);\n        console.debug('create-manifest result', res)\n        setMfCache(_.uniq(_.concat([res],mfCache)));\n        console.debug('updated mf', mfCache )\n      } catch (e) {\n        console.log(\"create-manifest Submit Error\",typeof e, e, uriObj, dataObjList);\n      }\n      };\n  const inputFields = [\n    {\n      type:'select',\n      label:'URI',\n      className:classes.formControl,\n      options:_.map(_.filter(mfCache,{type:'uri'}),v=> JSON.stringify(v.value)),\n      value:uri,\n      onChange:setUri\n    },\n    {\n      type:'fixedGroupMultiSelector',\n      label:'Data',\n      className:classes.formControl,\n      options:_.filter(mfCache,{type:'datum'}),\n      value:data,\n      onChange:setData\n    }\n  ];\n\n  return (\n    <MakeLocalForm\n      inputFields={inputFields}\n      onSubmit={handleSubmit}\n      tx={\"stateless tx\"} txStatus={\"stateless tx\"} txRes={\"stateless tx\"}\n      setTxStatus={() => null}/>\n  );\n};\n\nexport const ManifestForms = ({\n  mfCache,\n  setMfCache,\n  tabIdx,\n}) => {\n  return (\n    <ScrollableTabs\n      tabIdx={tabIdx}\n      tabEntries={[\n          {\n            label:\"Create URI\",\n            component:\n              <CreateUri mfCache={mfCache} setMfCache={setMfCache}/>\n          },{\n            label:\"Create Datum\",\n            component:\n              <CreateDatum mfCache={mfCache} setMfCache={setMfCache}/>\n          },{\n            label:\"Create Manifest\",\n            component:\n              <CreateManifest mfCache={mfCache} setMfCache={setMfCache}/>\n          }\n        ]}/>\n  );\n};\n","//basic React api imports\nimport React, { useEffect, useState } from \"react\";\n//semantic ui for styling\nimport {\n  Card, CardHeader, CardContent, Button} from '@material-ui/core';\nimport RefreshIcon from '@material-ui/icons/Refresh';\nimport { ScrollableTabs } from \"../ScrollableTabs.js\";\n\nimport { hftAPI } from \"../kadena-config.js\";\nimport { HftConfig } from \"./HftConfig.js\";\nimport { syncEventsFromCWData, onlySaleEvents, getQuotesForSaleEvents } from \"./HftEvents.js\";\nimport { RenderHftLedger, RenderHftTokens, RenderHftOrderBook, RenderHftQuotes } from \"./HftState.js\";\nimport { LedgerForms, TokenForms, OrderForms } from \"./HftTransactions.js\";\nimport { RenderUri, RenderManifest, RenderDatum, ManifestForms } from \"./Manifest.js\";\n\nexport const hftDrawerEntries = {\n  primary:\"Marmalade\",\n  subList:\n    [{\n      primary:\"Config & State\",\n      subList:[{\n        primary:\"Config\",\n        to:{app:\"hft\", ui: \"config\"}\n      },{\n        primary:\"Tokens\",\n        to:{app:\"hft\", ui: \"tokens\"}\n      },{\n        primary:\"Ledger\",\n        to:{app:\"hft\", ui: \"ledger\"}\n      },{\n        primary:\"Order Book\",\n        to:{app:\"hft\", ui: \"orderBook\"}\n      },{\n        primary:\"Manifest\",\n        to:{app:\"hft\", ui: \"manifest\"}\n      }]\n    }\n  ]\n};\n\nexport const HftApp = ({\n  appRoute,\n  setAppRoute,\n  hftLedger,\n  hftTokens,\n  hftEvents,\n  orderBook,\n  quotes,\n  mfCache,\n  setMfCache,\n  pactTxStatus,\n  refresh}) => {\n\n  return (\n    appRoute.ui === \"config\" ?\n    <Card>\n      <CardHeader title=\"Contract and UI Configuration\"/>\n      <CardContent>\n        <HftConfig/>\n      </CardContent>\n    </Card>\n  : appRoute.ui === \"orderBook\" ?\n    <Card>\n      <CardHeader title=\"Order Book\"/>\n      <CardContent>\n        <RenderHftQuotes orderBook={orderBook} quotes={quotes}/>\n        <OrderForms pactTxStatus={pactTxStatus} \n          tabIdx={\"hftTabT\"} \n          hftTokens={hftTokens} \n          hftLedger={hftLedger} \n          orderBook={orderBook} \n          quotes={quotes} \n          mfCache={mfCache} \n          refresh={refresh}/>\n      </CardContent>\n    </Card>\n  : appRoute.ui === \"tokens\" ?\n    <Card>\n      <CardHeader title=\"Tokens State\"/>\n      <CardContent>\n        <RenderHftTokens hftTokens={hftTokens}/>\n        <TokenForms pactTxStatus={pactTxStatus} tabIdx={\"hftTabT\"} hftTokens={hftTokens} mfCache={mfCache} refresh={refresh}/>\n      </CardContent>\n    </Card>\n  : appRoute.ui === \"ledger\" ?\n    <Card>\n      <CardHeader title=\"Ledger State\"/>\n      <CardContent>\n        <RenderHftLedger hftLedger={hftLedger}/>\n        <LedgerForms pactTxStatus={pactTxStatus} tabIdx={\"hftTabL\"} hftTokens={hftTokens} hftLedger={hftLedger} mfCache={mfCache} refresh={refresh}/>\n      </CardContent>\n    </Card>\n  : appRoute.ui === \"manifest\" ?\n    <>\n    <Card>\n      <CardHeader title=\"URI Local Cache\"/>\n      <CardContent>\n        <RenderUri mfCache={mfCache} />\n      </CardContent>\n    </Card>\n    <Card>\n      <CardHeader title=\"Datum Local Cache\"/>\n      <CardContent>\n        <RenderDatum mfCache={mfCache} />\n      </CardContent>\n    </Card>\n    <Card>\n      <CardHeader title=\"Manifest Local Cache\"/>\n      <CardContent>\n        <RenderManifest mfCache={mfCache} />\n      </CardContent>\n    </Card>\n    <Card>\n      <CardContent>\n        <ManifestForms mfCache={mfCache} setMfCache={setMfCache} tabIdx={\"mfCache\"}/>\n      </CardContent>\n    </Card>\n    </>\n  : <React.Fragment>\n      {setAppRoute({app:\"wallet\", ui:\"config\"})}\n  </React.Fragment>\n  )\n};\n","//basic React api imports\nimport React, { useState, useEffect } from \"react\";\nimport {\n  Switch,\n} from 'react-router-dom';\nimport {\n  useQueryParams,\n  StringParam,\n  withDefault\n } from 'use-query-params';\nimport createPersistedState from 'use-persisted-state';\nimport _ from 'lodash';\n//semantic ui for styling\nimport {\n  Container} from '@material-ui/core';\nimport { NavDrawer } from \"./NavDrawer.js\";\n\nimport {\n  walletDrawerEntries,\n  WalletApp,\n } from \"./PactWallet.js\";\n\n// TODO: switch this to use pact wallet\nimport { fqpAPI, fqrpAPI } from \"./kadena-config.js\";\n\nimport {\n  hftDrawerEntries,\n  HftApp\n} from \"./HFT/Hft.js\";\nimport { getHftState } from \"./HFT/HftState.js\";\nimport { syncEventsFromCWData, onlyOrderBookEvents, onlyQuoteEvents, onlyTransferEvents, onlyAcctGrdEvents, isPactContinuation, onlyMintEvents, onlyTokenEvents } from \"./HFT/HftEvents.js\"\nconst App = () => {\n  //Top level UI Routing Params\n  const [appRoute,setAppRoute] = useQueryParams({\n    \"app\": withDefault(StringParam,\"wallet\"),\n    \"ui\": withDefault(StringParam,\"config\")\n  });\n\n  // Tx Status Top Level State\n  const [txStatus, setTxStatus] = useState(\"\");\n  const [tx, setTx] = useState({});\n  const [txRes, setTxRes] = useState({});\n  const pactTxStatus = {\n    tx:tx,setTx:setTx,\n    txStatus:txStatus,setTxStatus:setTxStatus,\n    txRes:txRes,setTxRes:setTxRes,\n  };\n\n  //HFT Top Level States\n  const [hftLedger,setHftLedger] = useState([]);\n  const [hftTokens,setHftTokens] = useState([]);\n  const [mfCache,setMfCache] = useState([]);\n  const [hftEvents, setHftEvents] = useState([]);\n  const [orderBook, setOrderBook] = useState([]);\n  const [quotes, setQuotes] = useState([]);\n\n  const getHftEvents = async () => {\n    const moduleHashBlacklist = [\n        \"LKQj2snGFz7Y8iyYlSm3uIomEAYb0C9zXCkTIPtzkPU\",\n        \"F7tD1QlT8dx8BGyyq-h22OECYS7C3FfcYaRyxt6D1YQ\",\n        \"WSIFGtnAlLCHFcFEHaKGrGeAG4qnTsZRj9BdvzzGa6w\",\n        \"4m9KUKUzbd9hVZoN9uIlJkxYaf1NTz9G7Pc9C9rKTo4\",\n        \"_1rbpI8gnHqflwb-XqHsYEFBCrLNncLplikh9XFG-y8\",\n        \"dhIGiZIWED2Rk6zIrJxG8DeQn8n7WDKg2b5cZD2w4CU\",\n        \"cOJgr8s3j3p5Vk0AAqjdf1TzvWZlFsAiq4pMiOzUo1w\",\n        \"HsePyFCyYUPEPJqG5VymbQkkI3gsPAQn218uWEF_dbs\",\n        \"lWqEvH5U20apKfBn27HOBaW46vQlxhkiDtYHZ5KoYp0\",\n        \"uvtUnp96w2KnxnneYa4kUN1kTvYSa8Ma33UDkQXV0NA\",\n        \"78ngDzxXE8ZyHE-kFm2h7-6Xm8N8uwU_xd1fasO8gWU\"\n    ]\n    // Some hacky \"streaming\" until the streaming api is back in\n    // TODO: hacky orphan detection\n    const forkDepth = 100;\n    const newEventHeight = hftEvents.length ? hftEvents[0][\"blockHeight\"] - forkDepth : 0;\n    const oldHftEvents = _.dropWhile(hftEvents,({height})=>height>newEventHeight);\n    const marmEvents = await syncEventsFromCWData('marmalade.', 100, 4, true, moduleHashBlacklist);\n    const newHftEvents = _.takeWhile(marmEvents,({height})=>height>=newEventHeight);\n    const mergedEvents = [...newHftEvents, ...oldHftEvents];\n    console.debug(\"getHftEvents\", {mergedEvents, newHftEvents, oldHftEvents});\n    setHftEvents(mergedEvents);\n  };\n\n  const jankyStreaming = async () => {\n    // this is just a hack until we get the steaming API online for events\n    while (true) {\n      await new Promise(r => setTimeout(r, 30000));\n      await getHftEvents();\n      console.debug('janky streaming fired...');\n    }\n  };\n\n  const getHftLedgerFromEvents= (evs) => {\n    // this function misses account's made via `create-account`\n    let existingEntries = new Set(hftLedger.map(({ledgerKey})=>ledgerKey));\n    let newEntries = [];\n    const acctEvs = onlyAcctGrdEvents(evs);\n    for (const {params} of acctEvs) {\n      const acct = params.account;\n      const tokenId = params.id;\n      const acctLedgerKey = `${tokenId}:${acct}`;\n      if (!existingEntries.has(acctLedgerKey) && !isPactContinuation(acct)) {\n        existingEntries.add(acctLedgerKey);\n        newEntries.push({\n          id: tokenId,\n          account: acct,\n          ledgerKey: acctLedgerKey,\n        });\n      };\n    };\n\n    if (_.size(newEntries)) {\n      const newHftLedger = [...hftLedger, ...newEntries];\n      console.debug(\"getHftLedger\", {newHftLedger});\n      setHftLedger(newHftLedger);\n    } else {\n      console.debug(\"getHftLedger fired w/o new entries\", {existingEntries, acctEvs, hftLedger});\n    };\n  };\n\n  const getHftTokensFromEvents = (evs) => {\n    let existingEntries = new Set(hftTokens.map(({id})=>id));\n    let newEntries = [];\n    const tokenEvs = onlyTokenEvents(evs);\n    for (const {params} of tokenEvs) {\n      const tokenId = params.id;\n      const precision = params.precision;\n      const supply = params.supply;\n      const policy = params.policy;\n      if (!existingEntries.has(tokenId)) {\n        existingEntries.add(tokenId);\n        newEntries.push({\n          id: tokenId\n         ,precision: precision\n         ,supply: supply\n         ,policy: policy\n        })\n      }\n    };\n    if (_.size(newEntries)) {\n      const newHftTokens = [...hftTokens, ...newEntries];\n      console.debug(\"getHftTokens\", {newHftTokens});\n      setHftTokens(newHftTokens);\n    } else {\n      console.debug(\"getHftTokens fired w/o new entries\", {existingEntries, tokenEvs, hftLedger});\n    }\n  };\n\n  const refresh = {\n    getHftLedger: getHftEvents,\n    getHftTokens: getHftEvents,\n    getHftEvents: getHftEvents\n  };\n\n  useEffect(() => {\n    getHftEvents();\n    jankyStreaming();\n    console.debug('App.useEffect[] fired');\n  }, []);\n\n  useEffect(()=>{\n    setOrderBook(onlyOrderBookEvents(hftEvents));\n    setQuotes(onlyQuoteEvents(hftEvents));\n    getHftTokensFromEvents(hftEvents);\n    getHftLedgerFromEvents(hftEvents);\n    console.debug('App.useEffect[hftEvents,setOrderBook] fired', {quotes, orderBook});\n  },[hftEvents]);\n\n  return (\n          <NavDrawer\n            entriesList={[\n                [ walletDrawerEntries\n                , hftDrawerEntries\n                ]\n          ]}>\n          <Container>\n            <Switch>\n  { appRoute.app === \"wallet\" ?\n    <WalletApp\n      appRoute={appRoute}\n      setAppRoute={setAppRoute}\n    />\n    : appRoute.app === \"hft\" ?\n    <HftApp\n      appRoute={appRoute}\n      setAppRoute={setAppRoute}\n      hftLedger={hftLedger}\n      hftTokens={hftTokens}\n      hftEvents={hftEvents}\n      orderBook={orderBook}\n      quotes={quotes}\n      mfCache={mfCache}\n      setMfCache={setMfCache}\n      pactTxStatus={pactTxStatus}\n      refresh={refresh}\n      />\n    : <React.Fragment>\n        {() => {\n          console.log(\"Redirecting, this didn't match:\", appRoute);\n          setAppRoute({app:\"wallet\",ui:\"config\"})}\n        }\n      </React.Fragment>\n    }\n            </Switch>\n          </Container>\n          </NavDrawer>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {\n  BrowserRouter as Router,\n  Route,\n} from 'react-router-dom';\nimport { \n  QueryParamProvider,\n } from 'use-query-params';\nimport {\n  createMuiTheme,\n  ThemeProvider,\n } from '@material-ui/core/styles';\n//semantic ui for styling\nimport {\n  CssBaseline, NoSsr\n} from '@material-ui/core';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport { hftAPI, manifestAPI, gtpAPI, fqpAPI, globalConfig } from './kadena-config.js';\nimport { PactWallet } from './PactWallet.js';\n\nconst Main = () => {\n  const theme = React.useMemo(\n      () =>\n        createMuiTheme({\n          palette: {\n            primary: {\n              light: '#cb4584',\n              main: '#F78D1E',\n              dark: '#cb4584',\n              contrastText: '#fff',\n            },\n            secondary: {\n              light: '#ffffff',\n              main: '#e3e8ed',\n              dark: '#b1b6bb',\n              contrastText: '#000',\n            },\n          },\n        }),\n      [],\n    );\n  return (\n  <React.StrictMode>\n    <ThemeProvider theme={theme}>\n      <NoSsr>\n        <CssBaseline/>\n        <PactWallet contractConfigs={{hftAPI, manifestAPI, gtpAPI, fqpAPI}} globalConfig={globalConfig}>\n          <Router basename={process.env.PUBLIC_URL}>\n          <QueryParamProvider ReactRouterRoute={Route}>\n            <App />\n          </QueryParamProvider>\n          </Router>\n        </PactWallet>\n      </NoSsr>\n    </ThemeProvider>\n  </React.StrictMode>\n  )\n};\n\nReactDOM.render(<Main/>,document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","/*\n\nBLOCKCHAIN CONFIGURATION FILE\n\n  initalize all data for pact-lang-api kadena blockchain calls\n\n  modify this file to interact with different\n    chains, networks, contracts\n\n  documentation:\n    https://pact-language.readthedocs.io/en/stable/\n\n  pact tutorials:\n    https://pactlang.org/\n\n*/\n\n//chain that contract lives on\nconst chainId = \"1\";\n\n//id of network version\nconst networkId = \"testnet04\";\n\n//network node\nconst node = \"api.testnet.chainweb.com\";\n\n//data host\nconst dataHost = \"data.testnet.chainweb.com:8080\";\n\n//unique contract name\nconst hftNamespace = \"marmalade\";\nconst hftContractName = \"ledger\";\nconst hftConstants = {};\n\n//unique contract name\nconst manifestNamespace = \"kip\";\nconst manifestContractName = \"token-manifest\";\nconst manifestConstants = {};\n\n//unique contract name\nconst gtpNamespace = \"marmalade\";\nconst gtpContractName = \"guard-token-policy\";\nconst gtpConstants = {};\n\n//unique contract name\nconst fqpNamespace = \"marmalade\";\nconst fqpContractName = \"fixed-quote-policy\";\nconst fqpConstants = {};\n\n//unique contract name\nconst fqrpNamespace = \"marmalade\";\nconst fqrpContractName = \"fixed-quote-royalty-policy\";\nconst fqrpConstants = {};\n\n//unique gas station contract name\nconst gasStationName = \"memory-wall-gas-station\";\n\n//chainweb api host\nconst apiHost = `https://${node}`;\n\n//pact api host to send requests\nconst host = `https://${node}/chainweb/0.0/${networkId}/chain/${chainId}/pact`;\n\n//creation time for request\nconst creationTime = () => Math.round(new Date().getTime() / 1000) - 15;\n\nconst globalConfig = {\n  explorerURL: `https://explorer.chainweb.com/${networkId.slice(0, -2)}`,\n  networkId: networkId,\n  dataHost: dataHost,\n  host: host,\n  chainId: chainId,\n  creationTime: creationTime,\n  //gas price at lowest possible denomination\n  gasPrice: 0.000001,\n  //high gas limit for tx\n  gasLimit: 100000,\n  //time a tx lives in mempool since creationTime\n  ttl: 28800,\n  //sender === gas payer of the transaction\n};\n\n//JSON with all necessary blockchain call data\nconst manifestAPI = {\n  contractName: manifestContractName,\n  gasStationName: gasStationName,\n  namespace: manifestNamespace,\n  contractAddress: `${manifestNamespace}.${manifestContractName}`,\n  gasStationAddress: `${manifestNamespace}.${gasStationName}`,\n  explorerURL: `https://explorer.chainweb.com/${networkId.slice(0, -2)}`,\n  constants: manifestConstants,\n  meta: {\n    networkId: networkId,\n    chainId: chainId,\n    host: host,\n    creationTime: creationTime,\n    //gas price at lowest possible denomination\n    gasPrice: globalConfig.gasPrice,\n    //high gas limit for tx\n    gasLimit: globalConfig.gasLimit,\n    //time a tx lives in mempool since creationTime\n    ttl: 28800,\n    //sender === gas payer of the transaction\n    //  set to our gas station account defined in memory-wall-gas-station.pact\n    sender: \"mw-free-gas\",\n    //nonce here doesnt matter since the tx will never have the same hash\n    nonce: \"some nonce that doesnt matter\",\n  },\n};\n\n//JSON with all necessary blockchain call data\nconst hftAPI = {\n  contractName: hftContractName,\n  gasStationName: gasStationName,\n  namespace: hftNamespace,\n  contractAddress: `${hftNamespace}.${hftContractName}`,\n  gasStationAddress: `${hftNamespace}.${gasStationName}`,\n  explorerURL: `https://explorer.chainweb.com/${networkId.slice(0, -2)}`,\n  constants: hftConstants,\n  meta: {\n    networkId: networkId,\n    chainId: chainId,\n    host: host,\n    apiHost: apiHost,\n    creationTime: creationTime,\n    //gas price at lowest possible denomination\n    gasPrice: globalConfig.gasPrice,\n    //high gas limit for tx\n    gasLimit: globalConfig.gasLimit,\n    //time a tx lives in mempool since creationTime\n    ttl: 28800,\n    //sender === gas payer of the transaction\n    //  set to our gas station account defined in memory-wall-gas-station.pact\n    sender: \"mw-free-gas\",\n    //nonce here doesnt matter since the tx will never have the same hash\n    nonce: \"some nonce that doesnt matter\",\n  },\n};\n\n\nconst gtpAPI = {\n  contractName: gtpContractName,\n  gasStationName: gasStationName,\n  namespace: gtpNamespace,\n  contractAddress: `${gtpNamespace}.${gtpContractName}`,\n  gasStationAddress: `${gtpNamespace}.${gasStationName}`,\n  explorerURL: `https://explorer.chainweb.com/${networkId.slice(0, -2)}`,\n  constants: gtpConstants,\n  meta: {\n    networkId: networkId,\n    chainId: chainId,\n    host: host,\n    creationTime: creationTime,\n    //gas price at lowest possible denomination\n    gasPrice: globalConfig.gasPrice,\n    //high gas limit for tx\n    gasLimit: globalConfig.gasLimit,\n    //time a tx lives in mempool since creationTime\n    ttl: 28800,\n    //sender === gas payer of the transaction\n    //  set to our gas station account defined in memory-wall-gas-station.pact\n    sender: \"mw-free-gas\",\n    //nonce here doesnt matter since the tx will never have the same hash\n    nonce: \"some nonce that doesnt matter\",\n  },\n};\n\nconst fqpAPI = {\n  contractName: fqpContractName,\n  gasStationName: gasStationName,\n  namespace: fqpNamespace,\n  contractAddress: `${fqpNamespace}.${fqpContractName}`,\n  gasStationAddress: `${fqpNamespace}.${gasStationName}`,\n  explorerURL: `https://explorer.chainweb.com/${networkId.slice(0, -2)}`,\n  constants: fqpConstants,\n  meta: {\n    networkId: networkId,\n    chainId: chainId,\n    host: host,\n    creationTime: creationTime,\n    //gas price at lowest possible denomination\n    gasPrice: globalConfig.gasPrice,\n    //high gas limit for tx\n    gasLimit: globalConfig.gasLimit,\n    //time a tx lives in mempool since creationTime\n    ttl: 28800,\n    //sender === gas payer of the transaction\n    //  set to our gas station account defined in memory-wall-gas-station.pact\n    sender: \"mw-free-gas\",\n    //nonce here doesnt matter since the tx will never have the same hash\n    nonce: \"some nonce that doesnt matter\",\n  },\n};\n\nconst fqrpAPI = {\n  contractName: fqrpContractName,\n  gasStationName: gasStationName,\n  namespace: fqrpNamespace,\n  contractAddress: `${fqrpNamespace}.${fqrpContractName}`,\n  gasStationAddress: `${fqrpNamespace}.${gasStationName}`,\n  explorerURL: `https://explorer.chainweb.com/${networkId.slice(0, -2)}`,\n  constants: fqrpConstants,\n  meta: {\n    networkId: networkId,\n    chainId: chainId,\n    host: host,\n    creationTime: creationTime,\n    //gas price at lowest possible denomination\n    gasPrice: globalConfig.gasPrice,\n    //high gas limit for tx\n    gasLimit: globalConfig.gasLimit,\n    //time a tx lives in mempool since creationTime\n    ttl: 28800,\n    //sender === gas payer of the transaction\n    //  set to our gas station account defined in memory-wall-gas-station.pact\n    sender: \"mw-free-gas\",\n    //nonce here doesnt matter since the tx will never have the same hash\n    nonce: \"some nonce that doesnt matter\",\n  },\n};\n\nconst keyFormatter = (str) =>\n  str.replace(new RegExp(\"[A-Z]+\",\"gm\"),\" $&\").replace(new RegExp(\"^[a-z]\",\"gm\"),k => k.toUpperCase());\n\nmodule.exports = { manifestAPI: manifestAPI,\n  hftAPI: hftAPI,\n  gtpAPI: gtpAPI,\n  fqpAPI: fqpAPI,\n  fqrpAPI: fqrpAPI,\n  globalConfig,\n  keyFormatter: keyFormatter }\n"],"sourceRoot":""}