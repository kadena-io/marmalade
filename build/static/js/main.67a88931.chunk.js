(this["webpackJsonphft-frontend"]=this["webpackJsonphft-frontend"]||[]).push([[0],{176:function(e,t,a){e.exports=a.p+"static/media/kadena_r_rev_3_whi_lor.184cc2aa.png"},200:function(e,t,a){e.exports=a(388)},229:function(e,t){},388:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(15),l=a.n(c),o=a(120),s=a(18),i=a(22),u=a(185),m=a(456),f=a(457),p=a(458),d=a(14),g=a.n(d),b=a(24),h=a(8),E=a(68),y=a(6),x=a.n(y),v=a(429),O=a(69),C=a(390),S=a(451),j=a(452),k=a(444),w=a(439),T=a(440),N=a(447),A=a(453),I=a(454),P=a(438),F=a(442),L=a(186),R=a(464),W=a(467),M=a(426),D=a(4),K=a(16),V=a(184),q=a.n(V),J=a(118),z=a.n(J),U=a(119),B=a.n(U),G=a(183),H=a.n(G),_=a(176),$=a.n(_),Q=a(42),Z=a(448),X=a(449),Y=a(450),ee=a(459),te=a(53),ae=a(441),ne=a(443),re=a(391),ce=a(437),le=a(466),oe=a(17),se=a.n(oe),ie=a(465),ue=a(445),me=a(182),fe=a.n(me),pe=a(446),de=a(460),ge=a(190),be=a(462),he=a(7),Ee=a(430),ye=a(431),xe=a(432),ve=a(433),Oe=a(434),Ce=a(435),Se=a(463),je=a(82),ke=a.n(je),we=a(121),Te=a.n(we),Ne=a(122),Ae=a.n(Ne),Ie=(a(383),a(468)),Pe=Object(M.a)((function(e){return{root:{"& p img":{width:"100%"}}}})),Fe={name:"add tag",icon:function(){return r.a.createElement(Ie.a,{size:"small",variant:"outline",color:"default",label:"Tag",style:{marginTop:"-5px"}})},execute:function(e){e.textApi.replaceSelection("[](tag)")}},Le=function(e){var t=e.value,a=e.onChange,c=Object(n.useState)("write"),l=Object(h.a)(c,2),o=l[0],s=l[1],i=Pe(),u=function(){var e=Object(b.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return alert("No attachments!"),e.abrupt("return","No Attachments");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=Object(je.getDefaultCommandMap)();m.cmdTag=Fe;var f=Object(je.getDefaultToolbarCommands)();return f.push(["cmdTag"]),r.a.createElement(ke.a,{value:t,onChange:a,commands:m,toolbarCommands:f,selectedTab:o,onTabChange:s,generateMarkdownPreview:function(e){console.log(Ke(e));var t=r.a.createElement(Me,{tags:We(e)}),a=x.a.clone(e).replaceAll(Re,""),n=Promise.resolve(r.a.createElement("div",null,t,r.a.createElement(Te.a,{remarkPlugins:[Ae.a],children:a,className:i.root})));return console.debug("react-mde-preview=".concat(n),n),n},childProps:{writeButton:{tabIndex:-1}},paste:{saveImage:u}})},Re=/\[([^\[]+)\](\(tag\))/gim,We=function(e){var t,a=[];do{(t=Re.exec(e))&&a.push(t[1])}while(t);return x.a.uniq(a.map((function(e){return e.toLocaleLowerCase()})))},Me=function(e){return e.tags.map((function(e){switch(console.log(e),e){case"bug hunt":return r.a.createElement(Ie.a,{size:"small",color:"primary",label:"Bug Hunt",style:{backgroundColor:"red"}});case"dao":return r.a.createElement(Ie.a,{size:"small",color:"primary",label:"DAO"});case"frontend":return r.a.createElement(Ie.a,{variant:"outlined",size:"small",color:"primary",label:"Frontend"});case"cold coffee":return r.a.createElement(Ie.a,{size:"small",color:"default",label:"Cold Coffee"});default:return null}}))},De=/\[(.*[^\[]+)\](\(tag\))/gim,Ke=function(e){return e.match(De).map((function(e){return e[1]}))},Ve=(Object(M.a)((function(e){return{root:{display:"flex",flexWrap:"wrap","& .MuiTextField-root":{margin:e.spacing(1),width:"25ch"}},margin:{margin:e.spacing(1)},withoutLabel:{marginTop:e.spacing(3)},textField:{width:"25ch"},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}})),function(e){return e.split("-").map((function(e){return e.replace(new RegExp("^.","gm"),(function(e){return e.toUpperCase()}))})).join(" ")}),qe=function(e){return!e||"object"!==typeof e||("timep"in e||"int"in e||"decimal"in e||"time"in e)},Je=function(e){return e&&"object"===typeof e?"time"in e?e.time:"timep"in e?e.timep:"int"in e?"string"===typeof e.int?e.int:e.int.toLocaleString():"decimal"in e?"string"===typeof e.decimal?e.decimal:e.decimal.toLocaleString():JSON.stringify(e):"boolean"===typeof e?e.toString():"string"===typeof e?e:"number"===typeof e?e.toLocaleString():JSON.stringify(e)},ze=function(e){var t=Object.assign({},e);return r.a.createElement(ge.a,Object.assign({elevation:0},t))},Ue=Object(M.a)({table:{minWidth:650}}),Be=Object(M.a)({table:{minWidth:650},root:{"& > *":{borderBottom:"unset"}}}),Ge=function e(t){var a=t.json||{},n=t.isNested||!1,c=n?Be:Ue,l=t.header||[],o=t.keyFormatter?t.keyFormatter:function(e){return e},s=t.valFormatter?t.valFormatter:function(e){return r.a.createElement("code",null,Je(e))},i=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee.a,null,r.a.createElement(ye.a,null,l.map((function(e){return r.a.createElement(xe.a,null,e)})))),r.a.createElement(ve.a,null,Object.entries(a).map((function(t){var n=Object(h.a)(t,2),c=n[0],l=n[1];return r.a.createElement(ye.a,{key:c},!1===Array.isArray(a)?r.a.createElement(xe.a,null,o(c)):r.a.createElement(r.a.Fragment,null),qe(l)?r.a.createElement(xe.a,null,s(l)):"object"===typeof l?r.a.createElement(e,{json:l,keyFormatter:o,valFormatter:s,isNested:!0}):"function"===typeof l?r.a.createElement(xe.a,null,s(l.toString())):r.a.createElement(xe.a,null,s(l)))}))))};return n?r.a.createElement(Oe.a,{className:c.table,size:"small","aria-label":"simple table"},i()):r.a.createElement(Ce.a,{component:ze},r.a.createElement(Oe.a,{className:c.table,size:"small","aria-label":"simple table"},i()))},He=function e(t){var a=x.a.isArray(t.json)?t.json:[],n=t.isNested||!1,c=n?Be:Ue,l=t.header||[],o=[];t.keyOrder?o=t.keyOrder:Array.isArray(t.json)&&a.length>0&&(o=Object.keys(a[0]));var s=t.keyFormatter?t.keyFormatter:function(e){return e},i=t.valFormatter?t.valFormatter:function(e){return r.a.createElement("code",null,Je(e))},u=t.kvFunc||{},m=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee.a,null,r.a.createElement(ye.a,null,l.map((function(e){return r.a.createElement(xe.a,{key:e},e)})))),r.a.createElement(ve.a,null,a.map((function(t){return r.a.createElement(ye.a,{key:t[o[0]]},o.map((function(a){var n=t[a];return r.a.createElement(xe.a,{key:a},x.a.has(u,a)?u[a](t):qe(n)?i(n):Array.isArray(n)?r.a.createElement(e,{json:n,keyFormatter:s,valFormatter:i,isNested:!0}):"object"===typeof n?r.a.createElement(Ge,{json:n,keyFormatter:s,valFormatter:i,isNested:!0}):i("function"===typeof n?n.toString():n))})))}))))};return n?r.a.createElement(Oe.a,{className:c.table,size:"small","aria-label":"simple table"},m()):r.a.createElement(Ce.a,{component:ze},r.a.createElement(Oe.a,{className:c.table,size:"small","aria-label":"simple table"},m()))},_e=function(e){var t=e.getVal,a=e.setVal,n=e.options,c=e.label;return console.debug("fixed multi selector",{options:n}),r.a.createElement(le.a,{multiple:!0,id:"grouped-demo",freeSolo:!0,options:n,groupBy:function(e){return e.type},getOptionLabel:function(e){return JSON.stringify(e.value)},sx:{width:300},value:t,onChange:function(e,t){return a(t)},renderInput:function(e){return r.a.createElement(ee.a,Object.assign({},e,{label:c}))}})},$e=function(e){var t=e.inputField,a=t.type,n=t.label,c=t.options,l=t.placeholder,o=t.className,s=t.onChange,i=t.value;return"select"===a?r.a.createElement(ee.a,{id:"outlined-multiline-static",select:!0,required:!0,fullWidth:!0,className:o,variant:"outlined",label:n,value:i,onChange:function(e){s(e.target.value)}},c.map((function(e){return r.a.createElement(T.a,{key:e,value:e},e)}))):"textFieldSingle"===a?r.a.createElement(ee.a,{required:!0,fullWidth:!0,value:i,className:o,placeholder:l,variant:"outlined",label:n,onChange:function(e){return s(e.target.value)}}):"textFieldMulti"===a?r.a.createElement(ee.a,{required:!0,fullWidth:!0,label:n,className:o,multiline:!0,rows:4,variant:"outlined",placeholder:l,onChange:function(e){return s(e.target.value)}}):"checkbox"===a?r.a.createElement(Se.a,{checked:i,onChange:function(e){return s(e.target.value)},color:"primary",label:n}):"markdown"===a?r.a.createElement(Le,{value:i,onChange:s}):"keySelector"===a?r.a.createElement(ft,{label:n,getVal:i,setVal:s,allOpts:c}):"fixedGroupMultiSelector"===a?r.a.createElement(_e,{label:n,getVal:i,setVal:s,options:c}):null},Qe=function(e){var t=e.inputFields,a=e.onSubmit,c=e.tx,l=e.txRes,o=e.txStatus,s=e.setTxStatus,i=ct().current,u=i.walletName,m=i.signingKey,f=Object(n.useState)(!1),p=Object(h.a)(f,2),d=p[0],g=p[1];return Object(n.useEffect)((function(){return g(!1)}),[t]),Object(n.useEffect)((function(){return g(""!==o||d)}),[o]),r.a.createElement("div",null,r.a.createElement("form",{autoComplete:"off",onSubmit:function(e){return a(e)}},t.map((function(e){return r.a.createElement($e,{inputField:e})})),r.a.createElement(ae.a,null,"pending"===o?null:r.a.createElement(F.a,{variant:"outlined",color:"default",type:"submit",disabled:d},u?d?"Complete Signing in Wallet":"Sign with ".concat(u," using key ").concat(m.substring(0,4),"...").concat(m.substring(m.length-4)):"Configure and select a wallet before proceeding"))),"pending"===o?r.a.createElement(ne.a,null):null,r.a.createElement(Ye,{tx:c,txRes:l,txStatus:o,setTxStatus:s}))},Ze=function(e){var t=e.inputFields,a=e.onSubmit,c=Object(n.useState)(!1),l=Object(h.a)(c,2),o=l[0],s=l[1];return Object(n.useEffect)((function(){return s(!1)}),[t]),r.a.createElement("div",null,r.a.createElement("form",{autoComplete:"off",onSubmit:function(e){return a(e)}},t.map((function(e){return r.a.createElement($e,{inputField:e})})),r.a.createElement(ae.a,null,o?null:r.a.createElement(F.a,{variant:"outlined",color:"default",type:"submit",disabled:o},"Execute Local Command"))))},Xe=Object(M.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}})),Ye=function(e){var t=e.tx,a=e.txRes,c=e.txStatus,l=Object(n.useState)(!0),o=Object(h.a)(l,2),s=o[0],i=o[1],u=Object(n.useState)(!1),m=Object(h.a)(u,2),f=m[0],p=m[1],d=Xe(),g="pending"===c?"info":"success"===c?"success":"timeout"===c?"warning":"error";return Object(n.useEffect)((function(){return i(!0)}),[c]),c?r.a.createElement("div",{className:d.root},r.a.createElement(k.a,{in:s},r.a.createElement(ie.a,{severity:g,action:r.a.createElement(P.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){return i(!1)}},r.a.createElement(fe.a,{fontSize:"inherit"}))},r.a.createElement(ue.a,null,r.a.createElement(pe.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center"},r.a.createElement(pe.a,{item:!0},Ve(c)),"validation-error"===c||"failure"===c?r.a.createElement(pe.a,{item:!0},r.a.createElement(N.a,{orientation:"vertical",flexItem:!0}),r.a.createElement(F.a,{size:"small",onClick:function(){return p(!0)}},"View Error")):r.a.createElement(r.a.Fragment,null))),"pending"===c?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Awaiting Confirmation"),r.a.createElement("a",{href:"".concat(he.hftAPI.explorerURL,"/tx/").concat(t.hash)},"Eventual Block Explorer Link")):"success"===c?r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{href:"".concat(he.hftAPI.explorerURL,"/tx/").concat(t.hash)},"View transaction in Block Explorer")):"failure"===c?r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{href:"".concat(he.hftAPI.explorerURL,"/tx/").concat(t.hash)},"View transaction in Block Explorer"),r.a.createElement("div",null,r.a.createElement(be.a,{open:f,onClose:function(){return p(!1)}},r.a.createElement(v.a,{maxWidth:"lg"},r.a.createElement(Ge,{json:a}))))):"timeout"===c?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"...but your tx was sent."),r.a.createElement("a",{href:"".concat(he.hftAPI.explorerURL,"/tx/").concat(t.hash)},"View transaction in Block Explorer")):"validation-error"===c?r.a.createElement(r.a.Fragment,null,r.a.createElement(de.a,null,"Transaction was not sent to Blockchain. Check your keys or metadata."),r.a.createElement("div",null,r.a.createElement(be.a,{open:f,onClose:function(){return p(!1)}},r.a.createElement(v.a,{maxWidth:"md"},r.a.createElement(ge.a,null,JSON.stringify(a)))))):r.a.createElement(r.a.Fragment,null)))):r.a.createElement(r.a.Fragment,null)},et=Object(re.a)((function(){return{formControl:{margin:"5px auto",minWidth:120},selectEmpty:{marginTop:"10px auto"},inline:{display:"inline"}}})),tt={current:{},otherWallets:{},allKeys:[],globalConfig:{},contractConfigs:{},pastPactTxs:[]},at=Object(n.createContext)(),nt=function(e,t){switch(t.type){case"updateWallet":if(!x.a.has(t,"newWallet"))throw new Error("updateWallet requires newWallet:{walletName,gasPrice,networkId,signingKey} key");var a=x.a.cloneDeep(e.current),n=x.a.cloneDeep(e.otherWallets);if(a.walletName&&(n[a.walletName]=a),!t.newWallet.walletName)throw new Error("updateWallet requires newWallet:{walletName,gasPrice,networkId,signingKey} key");n[t.newWallet.walletName]=t.newWallet;var r=x.a.filter(x.a.uniq(x.a.concat(x.a.cloneDeep(e.allKeys),t.newWallet.signingKey)),(function(e){return!!e}));return Object(Q.a)(Object(Q.a)({},e),{},{current:t.newWallet,otherWallets:n,allKeys:r});case"addKeys":if(!x.a.has(t,"newKeys"))throw new Error("addKeys requires newKeys:[] key");var c=x.a.filter(x.a.uniq(x.a.concat(x.a.cloneDeep(e.allKeys),t.newKeys)),(function(e){return!!e}));return Object(Q.a)(Object(Q.a)({},e),{},{allKeys:c});case"setContractConfig":if(!x.a.has(t,"configName"))throw new Error("addConfig requires configName:'' key");if(!x.a.has(t,"config"))throw new Error("addConfig requires config:'' key");var l=x.a.cloneDeep(e.contractConfigs);return l[t.configName]=t.config,Object(Q.a)(Object(Q.a)({},e),{},{contractConfigs:l});case"setGlobalConfig":if(!x.a.has(t,"globalConfig"))throw new Error("addConfig requires globalConfig:<object> key");return Object(Q.a)(Object(Q.a)({},e),{},{globalConfig:t.globalConfig});case"tractPactTx":if(!x.a.has(t,"newTx"))throw new Error("trackPactTx requires newTx:'' key");var o=x.a.concat(x.a.cloneDeep(e.pastPactTxs),t.newTx);return Object(Q.a)(Object(Q.a)({},e),{},{pastPactTxs:o});default:throw new Error(JSON.stringify(t))}},rt=function(e){var t=e.globalConfig,a=e.contractConfigs,c=e.children,l=Object(E.a)("pactWallet5")({}),o=Object(h.a)(l,2),s=o[0],i=o[1],u=Object(n.useReducer)(nt,x.a.size(s)?x.a.cloneDeep(s):tt),m=Object(h.a)(u,2),f=m[0],p=m[1];return Object(n.useEffect)((function(){x.a.size(f)&&!x.a.isEqual(tt,f)&&(console.debug("PactWallet.useEffect[persistedPactWallet,walletProvider,setPersistedPactWallet]",s," =to=> ",f),i(f))}),[s,f,i]),Object(n.useEffect)((function(){console.debug("PactWallet.useEffect[] fired, contratConfigs added: ",x.a.keys(a)),x.a.mapKeys(a,(function(e){return p({type:"setContractConfig",configName:e,config:a[e]})})),p({type:"setGlobalConfig",globalConfig:t})}),[]),r.a.createElement(at.Provider,{value:{wallet:f,walletDispatch:p}},c)},ct=function(){return Object(n.useContext)(at).wallet},lt={primary:"Wallet",subList:[{primary:"Config",to:{app:"wallet",ui:"config"}}]},ot=function(e){var t=e.appRoute,a=e.setAppRoute;return"config"===t.ui?r.a.createElement(Z.a,null,r.a.createElement(X.a,{title:"Wallet Configuration"}),r.a.createElement(Y.a,null,r.a.createElement(gt,null),r.a.createElement(pt,null),r.a.createElement(dt,null))):r.a.createElement(r.a.Fragment,null,a({app:"wallet",ui:"config"}))},st=function(e){return x.a.concat([se.a.lang.mkCap("Gas Cap","Gas Cap","coin.GAS",[])],e)},it=function(){var e=Object(b.a)(g.a.mark((function e(t,a,n,r,c,l,o,s){var i,u,m,f,p;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i={pactCode:"(+ 1 1)",caps:[se.a.lang.mkCap("Gas Cap","Gas Cap","coin.GAS",[])],gasLimit:1e3,gasPrice:o,chainId:"0",signingPubKey:c,networkId:l,ttl:28800,sender:r,envData:{foo:"bar"}},console.log("toSign",i),e.next=5,se.a.wallet.sign(i);case 5:if(u=e.sent,console.log("signed",u),"object"!==typeof u||!("hash"in u)){e.next=11;break}t(u),e.next=12;break;case 11:throw new Error("Signing API Failed");case 12:return e.next=14,se.a.wallet.sendSigned(u,s);case 14:m=e.sent,console.log("txReqKeys",m),a("pending"),e.prev=17,f=8,p={};case 20:if(!(f>0)){e.next=29;break}return e.next=23,new Promise((function(e){return setTimeout(e,15e3)}));case 23:return e.next=25,se.a.fetch.poll(m,s);case 25:p=e.sent;try{p[u.hash].result.status?f=-1:f-=1}catch(d){f-=1}e.next=20;break;case 29:n(p),"success"===p[u.hash].result.status?(console.log("tx status set to success"),a("success")):0===f?(console.log("tx status set to timeout"),a("timeout")):(console.log("tx status set to failure"),a("failure")),e.next=39;break;case 34:e.prev=34,e.t0=e.catch(17),console.log("tx api failure",e.t0),n(e.t0),a("failure");case 39:e.next=46;break;case 41:e.prev=41,e.t1=e.catch(0),n(e.t1.toString()),console.log("tx status set to validation error",e.t1),a("validation-error");case 46:case"end":return e.stop()}}),e,null,[[0,41],[17,34]])})));return function(t,a,n,r,c,l,o,s){return e.apply(this,arguments)}}(),ut=Object(ce.a)(),mt=function(e){var t=e.label,a=e.getVal,n=e.setVal,c=e.allOpts,l=et(),o=c?x.a.cloneDeep(c):[""];return r.a.createElement(le.a,{className:l.formControl,value:a,onChange:function(e,t){"string"===typeof t?n(t):t&&t.inputValue?n(t.inputValue):n(t)},filterOptions:function(e,t){var a=ut(e,t);return""!==t.inputValue&&a.push({inputValue:t.inputValue,title:'Add "'.concat(t.inputValue,'"')}),a},selectOnFocus:!0,fullWidth:!0,clearOnBlur:!0,handleHomeEndKeys:!0,defaultValue:a||null,options:o,getOptionLabel:function(e){return e.inputValue?e.inputValue:e},renderOption:function(e){return e.title?e.title:e},freeSolo:!0,renderInput:function(e){return r.a.createElement(ee.a,Object.assign({},e,{label:t,variant:"outlined",fullWidth:!0,className:l.formControl}))}})},ft=function(e){var t=e.label,a=e.getVal,n=e.setVal,c=e.allOpts,l=et(),o=c?x.a.cloneDeep(c):[""];return r.a.createElement(le.a,{multiple:!0,limitTags:3,className:l.formControl,value:a,onChange:function(e,t){"string"===typeof t?n(t):t&&t.inputValue?n(t.inputValue):n(t)},filterOptions:function(e,t){var a=ut(e,t);return""!==t.inputValue&&a.push({inputValue:t.inputValue,title:'Add "'.concat(t.inputValue,'"')}),a},selectOnFocus:!0,fullWidth:!0,clearOnBlur:!0,handleHomeEndKeys:!0,defaultValue:a||null,options:o,getOptionLabel:function(e){return e.inputValue?e.inputValue:e},renderOption:function(e){return e.title?e.title:e},freeSolo:!0,renderInput:function(e){return r.a.createElement(ee.a,Object.assign({},e,{label:t,variant:"outlined",fullWidth:!0,className:l.formControl}))}})},pt=function(){var e=ct().current;return r.a.createElement(v.a,{style:{paddingTop:"2em"}},r.a.createElement(te.a,{component:"h2"},"Active Wallet"),r.a.createElement(Ge,{json:e,keyFormatter:he.keyFormatter}))},dt=function(){var e=ct().otherWallets;return r.a.createElement(v.a,{style:{paddingTop:"2em"}},r.a.createElement(te.a,{component:"h2"},"All Saved PactWallets"),r.a.createElement(Ge,{json:e,keyFormatter:he.keyFormatter}))},gt=function(){var e=Object(n.useContext)(at),t=e.wallet,a=e.walletDispatch,c=Object(n.useState)(!1),l=Object(h.a)(c,2),o=l[0],s=l[1],i=Object(n.useState)(""),u=Object(h.a)(i,2),m=u[0],f=u[1],p=Object(n.useState)(""),d=Object(h.a)(p,2),g=d[0],b=d[1],E=Object(n.useState)("testnet04"),y=Object(h.a)(E,2),O=y[0],C=y[1],S=Object(n.useState)(""),j=Object(h.a)(S,2),k=j[0],w=j[1],T=et(),N=Object(n.useState)(""),A=Object(h.a)(N,2),I=A[0],P=A[1],L=Object(n.useState)({}),R=Object(h.a)(L,2),W=R[0],M=R[1],D=Object(n.useState)({}),K=Object(h.a)(D,2),V=K[0],q=K[1];Object(n.useEffect)((function(){console.debug("WalletConfig useEffect on load fired with",t),x.a.size(t.current)&&(t.current.walletName&&f(t.current.walletName),t.current.signingKey&&b(t.current.signingKey),t.current.gasPrice&&w(t.current.gasPrice),t.current.networkId&&C(t.current.networkId))}),[]),Object(n.useEffect)((function(){if(x.a.size(t.otherWallets[m])){var e=t.otherWallets[m];console.debug("PactWalletConfig updating entries",e),e.walletName&&e.signingKey&&e.gasPrice&&e.networkId&&(w(e.gasPrice),b(e.signingKey),C(e.networkId),f(e.walletName))}}),[m]),Object(n.useEffect)((function(){return s(!1)}),[m,g,k,O]);var J=[{type:"textFieldSingle",label:"Gas Price",className:T.formControl,value:k,onChange:w}];return r.a.createElement(v.a,{style:{paddingTop:"1em"}},r.a.createElement(te.a,{component:"h2"},"Add or Update Wallet"),r.a.createElement("form",{autoComplete:"off",onSubmit:function(e){return function(e){if(e.preventDefault(),o){var n="testnet04"===O?"https://api.testnet.chainweb.com/chainweb/0.0/".concat(O,"/chain/0/pact"):"https://api.chainweb.com/chainweb/0.0/".concat(O,"/chain/0/pact");it(M,P,q,g,g,O,Number.parseFloat(k),n)}else{var r={walletName:m,signingKey:g,gasPrice:k,networkId:O};a({type:"updateWallet",newWallet:r}),s(!0),console.debug("WalletConfig set. locale: ",r," while context is: ",t.current)}}(e)}},r.a.createElement(mt,{label:"Wallet Name",getVal:m,setVal:f,allOpts:x.a.keys(t.otherWallets)}),r.a.createElement(mt,{label:"Network ID",getVal:O,setVal:C,allOpts:x.a.uniq(x.a.concat(x.a.map(t.otherWallets,"networkId"),"mainnet01","testnet04"))}),J.map((function(e){return r.a.createElement($e,{inputField:e})})),r.a.createElement(mt,{label:"Select Signing Key",getVal:g,setVal:b,allOpts:t.allKeys}),r.a.createElement(ae.a,null,r.a.createElement(F.a,{variant:"outlined",color:"default",type:"submit"},o?"Test Current Settings":"Save New Settings"))),"pending"===I?r.a.createElement(ne.a,null):null,r.a.createElement(Ye,{tx:W,txRes:V,txStatus:I,setTxStatus:P}))},bt=Object(M.a)((function(e){return{root:{display:"flex"},drawer:Object(O.a)({},e.breakpoints.up("sm"),{width:240,flexShrink:0}),appBar:Object(O.a)({},e.breakpoints.up("sm"),{zIndex:e.zIndex.drawer+1}),menuButton:Object(O.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:240},content:{flexGrow:1,padding:e.spacing(3)},nested:{paddingLeft:e.spacing(4)},logo:{height:"60px"},logoDiv:{flexGrow:1}}})),ht=function e(t){var a=t.icon,n=t.primary,c=t.to,l=t.subList,o=l&&Array.isArray(l),s=r.a.useState(!0),u=Object(h.a)(s,2),m=u[0],f=u[1],p=bt(),d=Object(i.e)({app:Object(i.f)(i.c,"init"),ui:Object(i.f)(i.c,"guardians")}),g=Object(h.a)(d,2)[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(C.a,{button:!0,onClick:function(){return c?g(c):f(!m)}},a?r.a.createElement(S.a,null,a):null,r.a.createElement(j.a,{primary:n}),o?m?r.a.createElement(z.a,{onClick:function(){return f(!m)}}):r.a.createElement(B.a,{onClick:function(){return f(!m)}}):null)),o?r.a.createElement(k.a,{in:m,timeout:"auto",unmountOnExit:!0},r.a.createElement(w.a,{component:"div",disablePadding:!0,className:p.nested,dense:!0},l.map((function(t){return r.a.createElement(e,{icon:t.icon,primary:t.primary,to:t.to,subList:t.subList})})))):null)},Et=(Object(D.a)((function(e){return{root:{"&:focus":{backgroundColor:e.palette.warning.main,"& .MuiListItemIcon-root, & .MuiListItemText-primary":{color:e.palette.common.white}}}}}))(T.a),function(e){var t=e.window,a=e.entriesList,c=Object(n.useContext)(at),l=c.wallet,o=l.current,s=l.otherWallets,i=c.walletDispatch,u=bt(),m=Object(K.a)(),f=r.a.useState(!1),p=Object(h.a)(f,2),d=p[0],g=p[1],b=r.a.useState(null),E=Object(h.a)(b,2),y=E[0],v=E[1],O=Boolean(y),C=function(e){v(null),"string"===typeof e&&i({type:"updateWallet",newWallet:s[e]})},S=function(){g(!d)},j=r.a.createElement("div",null,r.a.createElement("div",{className:u.toolbar}),a.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,null),null!==e&&r.a.createElement(w.a,null,e.map((function(e){return r.a.createElement(r.a.Fragment,null,e&&r.a.createElement(ht,{icon:e.icon,primary:e.primary,to:e.to,subList:e.subList}))}))))}))),k=void 0!==t?function(){return t().document.body}:void 0;return r.a.createElement("div",{className:u.root},r.a.createElement(A.a,{position:"fixed",className:u.appBar},r.a.createElement(I.a,null,r.a.createElement(P.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:S,className:u.menuButton},r.a.createElement(H.a,null)),r.a.createElement("div",{className:u.logoDiv},r.a.createElement("img",{src:$.a,alt:"logo",className:u.logo})),r.a.createElement("div",{className:u.logoDiv},r.a.createElement("h1",null,"Marmalade BETA")),o.walletName&&r.a.createElement("div",null,r.a.createElement(F.a,{variant:"outlined",color:"secondary",onClick:function(e){v(e.currentTarget)},startIcon:r.a.createElement(q.a,{edge:"end"})},o.walletName),r.a.createElement(L.a,{id:"menu-appbar",anchorEl:y,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:O,onClose:C},x.a.keys(s).map((function(e){return r.a.createElement(T.a,{onClick:function(){return C(e)}},e)})))))),r.a.createElement("nav",{className:u.drawer,"aria-label":"mailbox folders"},r.a.createElement(R.a,{smUp:!0,implementation:"css"},r.a.createElement(W.a,{container:k,variant:"temporary",anchor:"rtl"===m.direction?"right":"left",open:d,onClose:S,classes:{paper:u.drawerPaper},ModalProps:{keepMounted:!0}},j)),r.a.createElement(R.a,{xsDown:!0,implementation:"css"},r.a.createElement(W.a,{classes:{paper:u.drawerPaper},variant:"permanent",open:!0},j))),r.a.createElement("main",{className:u.content},r.a.createElement("div",{className:u.toolbar}),e.children))}),yt=a(187),xt=a(461),vt=a(455),Ot=["children","value","index"],Ct=function(e){var t=e.children,a=e.value,n=e.index,c=Object(yt.a)(e,Ot);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"scrollable-auto-tabpanel-".concat(n),"aria-labelledby":"scrollable-auto-tab-".concat(n)},c),a===n&&r.a.createElement(de.a,{p:3},r.a.createElement(te.a,null,t)))};var St=Object(M.a)((function(e){return{root:{flexGrow:1,width:"100%",backgroundColor:e.palette.background.paper,marginTop:e.spacing(4)}}})),jt=function(e){var t=e.tabEntries,a=e.tabIdx,n=St(),c=Object(i.d)(a,Object(i.f)(i.a,0)),l=Object(h.a)(c,2),o=l[0],s=l[1];o>=x.a.size(t)&&s(0);return r.a.createElement("div",{className:n.root},r.a.createElement(A.a,{position:"static",color:"default"},r.a.createElement(xt.a,{value:o,onChange:function(e,t){s(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto","aria-label":"scrollable auto tabs example"},t.map((function(e,t){return r.a.createElement(vt.a,Object.assign({label:e.label},{id:"scrollable-auto-tab-".concat(a=t),"aria-controls":"scrollable-auto-tabpanel-".concat(a)}));var a})))),t.map((function(e,t){return r.a.createElement(Ct,{value:o,index:t},e.component)})))},kt=function(){return r.a.createElement(Ge,{json:he.hftAPI,keyFormatter:he.keyFormatter})},wt=a(72),Tt=a.n(wt),Nt=function(){var e=Object(b.a)(g.a.mark((function e(t){var a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se.a.fetch.local({pactCode:"(".concat(he.hftAPI.contractAddress,".").concat(t,")"),meta:se.a.lang.mkMeta(he.hftAPI.meta.sender,he.hftAPI.meta.chainId,he.hftAPI.meta.gasPrice,he.hftAPI.meta.gasLimit,he.hftAPI.meta.creationTime(),he.hftAPI.meta.ttl)},he.hftAPI.meta.host);case 2:return a=e.sent,n=a.result.data,console.debug("local query data: (".concat(he.hftAPI.contractAddress,".").concat(t,")"),n),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),At=function(e){var t=e.hftLedger,a=x.a.map(t,(function(e){return{id:e.id,contents:e}}));return console.debug("renderHFTLedger",{hftLedger:t,pretty:a}),r.a.createElement(He,{json:a,header:["ID","Contents"],keyOrder:["id","contents"],kvFunc:{contents:function(e){return r.a.createElement(Tt.a,{src:e.contents,name:!1,collapsed:1,enableClipboard:!1,displayDataTypes:!1,displayObjectSize:!1})}},keyFormatter:Ve})},It=function(e){var t=e.hftTokens,a=x.a.map(t,(function(e){return{id:e.id,contents:e}}));return console.debug("renderHFTLedger",{hftTokens:t,pretty:a}),r.a.createElement(He,{json:a,header:["ID","Contents"],keyOrder:["id","contents"],kvFunc:{contents:function(e){return r.a.createElement(Tt.a,{src:e.contents,name:!1,collapsed:1,enableClipboard:!1,displayDataTypes:!1,displayObjectSize:!1})}},keyFormatter:Ve})},Pt=Object(re.a)((function(){return{formControl:{margin:"5px auto",minWidth:120},selectEmpty:{marginTop:"10px auto"}}})),Ft=function(){var e=Object(b.a)(g.a.mark((function e(t,a,n,r,c,l,o,s){var i,u,m,f,p,d,b,h=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=h.length>8&&void 0!==h[8]?h[8]:{},u=h.length>9&&void 0!==h[9]?h[9]:[],e.prev=2,m={pactCode:s,caps:st(u),signingPubKey:c,networkId:l,gasPrice:o,gasLimit:he.hftAPI.meta.gasLimit,chainId:he.hftAPI.meta.chainId,ttl:he.hftAPI.meta.ttl,sender:c,envData:i},console.log("toSign",m),e.next=7,se.a.wallet.sign(m);case 7:if(f=e.sent,console.log("signed",f),"object"!==typeof f||!("hash"in f)){e.next=13;break}t(f),e.next=14;break;case 13:throw new Error("Signing API Failed");case 14:return e.prev=14,e.next=17,se.a.wallet.sendSigned(f,he.hftAPI.meta.host);case 17:p=e.sent,console.log("txReqKeys",p),a("pending"),d=8,b={};case 22:if(!(d>0)){e.next=31;break}return e.next=25,new Promise((function(e){return setTimeout(e,15e3)}));case 25:return e.next=27,se.a.fetch.poll(p,he.hftAPI.meta.host);case 27:b=e.sent;try{b[f.hash].result.status?d=-1:d-=1}catch(g){d-=1}e.next=22;break;case 31:n(b),"success"===b[f.hash].result.status?(console.log("tx status set to success"),a("success"),r()):0===d?(console.log("tx status set to timeout"),a("timeout"),r()):(console.log("tx status set to failure"),a("failure")),e.next=41;break;case 36:e.prev=36,e.t0=e.catch(14),console.log("tx api failure",e.t0),n(e.t0),a("failure");case 41:e.next=47;break;case 43:e.prev=43,e.t1=e.catch(2),console.log("tx status set to validation error",e.t1),a("validation-error");case 47:case"end":return e.stop()}}),e,null,[[2,43],[14,36]])})));return function(t,a,n,r,c,l,o,s){return e.apply(this,arguments)}}(),Lt=function(e){var t=e.refresh,a=e.mfCache,c=e.pactTxStatus,l=c.txStatus,o=c.setTxStatus,s=c.tx,i=c.setTx,u=c.txRes,m=c.setTxRes,f=ct().current,p=f.signingKey,d=f.networkId,g=f.gasPrice,b=Object(n.useState)(""),E=Object(h.a)(b,2),y=E[0],v=E[1],O=Object(n.useState)(""),C=Object(h.a)(O,2),S=C[0],j=C[1],k=Object(n.useState)(12),w=Object(h.a)(k,2),T=w[0],N=w[1],A=Object(n.useState)(""),I=Object(h.a)(A,2),P=I[0],F=I[1],L=Object(n.useState)(""),R=Object(h.a)(L,2),W=R[0],M=R[1],D=Object(n.useState)(""),K=Object(h.a)(D,2),V=K[0],q=K[1],J=Object(n.useState)(""),z=Object(h.a)(J,2),U=z[0],B=z[1],G=Pt(),H=[{type:"textFieldSingle",label:"Token Name",className:G.formControl,value:y,onChange:v},{type:"textFieldSingle",label:"Precision",className:G.formControl,value:T,onChange:N},{type:"select",label:"Manifest",className:G.formControl,options:x.a.map(x.a.filter(a,{type:"manifest"}),(function(e){return JSON.stringify(e.value)})),value:S,onChange:j},{type:"textFieldMulti",label:"Mint Keyset",className:G.formControl,placeholder:"",value:P,onChange:F},{type:"textFieldMulti",label:"Burn Keyset",className:G.formControl,placeholder:"",value:W,onChange:M},{type:"textFieldMulti",label:"Sale Keyset",className:G.formControl,placeholder:"",value:V,onChange:q},{type:"textFieldMulti",label:"Transfer Keyset",className:G.formControl,placeholder:"",value:U,onChange:B}];return r.a.createElement(Qe,{inputFields:H,onSubmit:function(e){e.preventDefault();try{Ft(i,o,m,t,p,d,Number.parseFloat(g),"(".concat(he.hftAPI.contractAddress,'.create-token "').concat(y,'" ').concat(T," (read-msg 'manifest) ").concat(he.gtpAPI.contractAddress,")"),{manifest:JSON.parse(S),"mint-guard":JSON.parse(P),"burn-guard":JSON.parse(W),"sale-guard":JSON.parse(V),"transfer-guard":JSON.parse(U)})}catch(a){console.log("create-token Submit Error",typeof a,a,{id:y,manifest:JSON.parse(S),precision:T,mintGrd:P,saleGrd:V,burnGrd:W,transferGrd:U}),m(a),o("validation-error")}},tx:s,txStatus:l,txRes:u,setTxStatus:o})},Rt=function(e){var t=e.refresh,a=e.mfCache,c=e.pactTxStatus,l=c.txStatus,o=c.setTxStatus,s=c.tx,i=c.setTx,u=c.txRes,m=c.setTxRes,f=ct().current,p=f.signingKey,d=f.networkId,g=f.gasPrice,b=Object(n.useState)(""),E=Object(h.a)(b,2),y=E[0],v=E[1],O=Object(n.useState)(""),C=Object(h.a)(O,2),S=C[0],j=C[1],k=Object(n.useState)(12),w=Object(h.a)(k,2),T=w[0],N=w[1],A=Object(n.useState)(""),I=Object(h.a)(A,2),P=I[0],F=I[1],L=Object(n.useState)("1.0"),R=Object(h.a)(L,2),W=R[0],M=R[1],D=Object(n.useState)("0.0"),K=Object(h.a)(D,2),V=K[0],q=K[1],J=Pt(),z=[{type:"textFieldSingle",label:"Token Name",className:J.formControl,value:y,onChange:v},{type:"textFieldSingle",label:"Precision",className:J.formControl,value:T,onChange:N},{type:"select",label:"Manifest",className:J.formControl,options:x.a.map(x.a.filter(a,{type:"manifest"}),(function(e){return JSON.stringify(e.value)})),value:S,onChange:j},{type:"textFieldMulti",label:"Mint Keyset",className:J.formControl,placeholder:"",value:P,onChange:F},{type:"textFieldSingle",label:"Max Supply",className:J.formControl,value:W,onChange:M},{type:"textFieldSingle",label:"Min Amount",className:J.formControl,value:V,onChange:q}];return r.a.createElement(Qe,{inputFields:z,onSubmit:function(e){e.preventDefault();try{Ft(i,o,m,t,p,d,Number.parseFloat(g),"(".concat(he.hftAPI.contractAddress,'.create-token "').concat(y,'" ').concat(T," (read-msg 'manifest) ").concat(he.fqpAPI.contractAddress,")"),{manifest:JSON.parse(S),"mint-guard":JSON.parse(P),"max-supply":Number.parseFloat(W),"min-amount":Number.parseFloat(V)})}catch(a){console.log("create-token Submit Error",typeof a,a,{id:y,manifest:JSON.parse(S),precision:T,mintGrd:P,maxSupply:W,minAmount:V}),m(a),o("validation-error")}},tx:s,txStatus:l,txRes:u,setTxStatus:o})},Wt=function(e){var t=e.hftTokens,a=e.refresh,c=e.pactTxStatus,l=c.txStatus,o=c.setTxStatus,s=c.tx,i=c.setTx,u=c.txRes,m=c.setTxRes,f=ct().current,p=f.signingKey,d=f.networkId,g=f.gasPrice,b=Object(n.useState)(""),E=Object(h.a)(b,2),y=E[0],x=E[1],v=Object(n.useState)(""),O=Object(h.a)(v,2),C=O[0],S=O[1],j=Object(n.useState)({}),k=Object(h.a)(j,2),w=k[0],T=k[1],N=Object(n.useState)(100),A=Object(h.a)(N,2),I=A[0],P=A[1],F=Pt(),L=[{type:"select",label:"Select Token",className:F.formControl,onChange:x,options:t.map((function(e){return e.id}))},{type:"textFieldSingle",label:"Account Name",className:F.formControl,value:C,onChange:S},{type:"textFieldMulti",label:"Keyset",className:F.formControl,placeholder:JSON.stringify({pred:"keys-all",keys:["8c59a322800b3650f9fc5b6742aa845bc1c35c2625dabfe5a9e9a4cada32c543"]},void 0,2),value:w,onChange:T},{type:"textFieldSingle",label:"Amount",className:F.formControl,value:I,onChange:P}];return r.a.createElement(Qe,{inputFields:L,onSubmit:function(e){e.preventDefault(),console.log(se.a.lang.mkCap("MINT Cap","Authenticates that you can mint","".concat(he.hftAPI.contractAddress,".MINT"),[y,C,Number.parseInt(I)]));try{Ft(i,o,m,a,p,d,Number.parseFloat(g),"(".concat(he.hftAPI.contractAddress,'.mint "').concat(y,'" "').concat(C,"\" (read-keyset 'ks) (read-decimal 'amount))"),{ks:JSON.parse(w),amount:I},[se.a.lang.mkCap("MINT Cap","Authenticates that you can mint","".concat(he.hftAPI.contractAddress,".MINT"),[y,C,Number.parseFloat(I)])])}catch(t){console.log("mint Submit Error",typeof t,t,y,C,w,I),m(t),o("validation-error")}},tx:s,txStatus:l,txRes:u,setTxStatus:o})},Mt=function(e){var t=e.hftTokens,a=e.hftLedger,c=e.refresh,l=e.pactTxStatus,o=l.txStatus,s=l.setTxStatus,i=l.tx,u=l.setTx,m=l.txRes,f=l.setTxRes,p=ct().current,d=p.signingKey,g=p.networkId,b=p.gasPrice,E=Object(n.useState)(""),y=Object(h.a)(E,2),v=y[0],O=y[1],C=Object(n.useState)(""),S=Object(h.a)(C,2),j=S[0],k=S[1],w=Object(n.useState)(""),T=Object(h.a)(w,2),N=T[0],A=T[1],I=Object(n.useState)({}),P=Object(h.a)(I,2),F=P[0],L=P[1],R=Object(n.useState)(0),W=Object(h.a)(R,2),M=W[0],D=W[1],K=Pt(),V=[{type:"select",label:"Select Token",className:K.formControl,onChange:O,options:t.map((function(e){return e.id}))},{type:"select",label:"Sender Account",className:K.formControl,onChange:k,options:x.a.sortedUniq(a.map((function(e){return e.account})))},{type:"textFieldSingle",label:"Receiver Account",className:K.formControl,value:N,onChange:A},{type:"textFieldMulti",label:"Receiver Account Keyset",className:K.formControl,placeholder:JSON.stringify({pred:"keys-all",keys:["8c59a322800b3650f9fc5b6742aa845bc1c35c2625dabfe5a9e9a4cada32c543"]},void 0,2),value:F,onChange:L},{type:"textFieldSingle",label:"Transfer Amount",className:K.formControl,value:M,onChange:D}];return r.a.createElement(Qe,{inputFields:V,onSubmit:function(e){e.preventDefault();try{Ft(u,s,f,c,d,g,Number.parseFloat(b),"(".concat(he.hftAPI.contractAddress,'.transfer-create "').concat(v,'" "').concat(j,'" "').concat(N,"\" (read-keyset 'ks) (read-decimal 'amount))"),{ks:JSON.parse(F),amount:M},[se.a.lang.mkCap("Transfer Cap","Authenticates that you can transfer","".concat(he.hftAPI.contractAddress,".TRANSFER"),[v,j,N,Number.parseFloat(M)])])}catch(t){console.log("transfer-create Submit Error",typeof t,t,v,j,N,F,M),f(t),s("validation-error")}},tx:i,txStatus:o,txRes:m,setTxStatus:s})},Dt=function(e){var t=e.hftTokens,a=e.hftLedger,c=e.refresh,l=e.pactTxStatus,o=l.txStatus,s=l.setTxStatus,i=l.tx,u=l.setTx,m=l.txRes,f=l.setTxRes,p=ct().current,d=p.signingKey,g=p.networkId,b=p.gasPrice,E=Object(n.useState)(""),y=Object(h.a)(E,2),v=y[0],O=y[1],C=Object(n.useState)(""),S=Object(h.a)(C,2),j=S[0],k=S[1],w=Object(n.useState)(""),T=Object(h.a)(w,2),N=T[0],A=T[1],I=Object(n.useState)(0),P=Object(h.a)(I,2),F=P[0],L=P[1],R=Pt(),W=[{type:"select",label:"Select Token",className:R.formControl,onChange:O,options:t.map((function(e){return e.id}))},{type:"select",label:"Sender Account",className:R.formControl,onChange:k,options:x.a.sortedUniq(a.map((function(e){return e.account})))},{type:"select",label:"Receiver Account",className:R.formControl,onChange:A,options:x.a.sortedUniq(a.map((function(e){return e.account})))},{type:"textFieldSingle",label:"Transfer Amount",className:R.formControl,value:F,onChange:L}];return r.a.createElement(Qe,{inputFields:W,onSubmit:function(e){e.preventDefault();try{Ft(u,s,f,c,d,g,Number.parseFloat(b),"(".concat(he.hftAPI.contractAddress,'.transfer "').concat(v,'" "').concat(j,'" "').concat(N,"\" (read-decimal 'amount))"),{amount:F},[se.a.lang.mkCap("Transfer Cap","Authenticates that you can transfer","".concat(he.hftAPI.contractAddress,".TRANSFER"),[v,j,N,Number.parseFloat(F)])])}catch(t){console.log("transfer Submit Error",typeof t,t,v,j,N,F),f(t),s("validation-error")}},tx:i,txStatus:o,txRes:m,setTxStatus:s})},Kt=function(e){var t=e.hftTokens,a=(e.hftLedger,e.refresh),c=e.pactTxStatus,l=c.txStatus,o=c.setTxStatus,s=c.tx,i=c.setTx,u=c.txRes,m=c.setTxRes,f=ct(),p=f.current,d=p.signingKey,g=p.networkId,b=p.gasPrice,E=f.allKeys,y=Object(n.useState)(""),v=Object(h.a)(y,2),O=v[0],C=v[1],S=Object(n.useState)(""),j=Object(h.a)(S,2),k=j[0],w=j[1],T=Object(n.useState)([]),N=Object(h.a)(T,2),A=N[0],I=N[1],P=Object(n.useState)("keys-all"),F=Object(h.a)(P,2),L=F[0],R=F[1],W=Pt(),M=[{type:"select",label:"Select Token",className:W.formControl,onChange:C,options:t.map((function(e){return e.id}))},{type:"textFieldSingle",label:"Account Name",className:W.formControl,value:k,onChange:w},{type:"select",label:"Select Keyset Predicate",className:W.formControl,onChange:R,options:["keys-any","keys-all","keys-2"]},{type:"keySelector",label:"Set Guard Keys",className:W.formControl,onChange:I,value:A,options:E}];return r.a.createElement(Qe,{inputFields:M,onSubmit:function(e){e.preventDefault();var t=x.a.map(A,(function(e){return e.inputValue?e.inputValue:e}));console.debug("create-account",O,k,L,A,{ks:{pred:L,keys:t}});try{Ft(i,o,m,a,d,g,Number.parseFloat(b),"(".concat(he.hftAPI.contractAddress,'.create-account "').concat(O,'" "').concat(k,"\" (read-keyset 'ks))"),{ks:{pred:L,keys:t}})}catch(n){console.log("create-account Submit Error",typeof n,n,O,k,L,A),m(n),o("validation-error")}},tx:s,txStatus:l,txRes:u,setTxStatus:o})},Vt=function(e){var t=e.hftLedger,a=e.hftTokens,n=e.tabIdx,c=e.pactTxStatus,l=e.refresh,o=l.getHftLedger;l.getHftTokens;return r.a.createElement(jt,{tabIdx:n,tabEntries:[{label:"Transfer Create",component:r.a.createElement(Mt,{pactTxStatus:c,hftTokens:a,hftLedger:t,refresh:function(){return o()}})},{label:"Transfer",component:r.a.createElement(Dt,{pactTxStatus:c,hftTokens:a,hftLedger:t,refresh:function(){return o()}})},{label:"Create Account",component:r.a.createElement(Kt,{pactTxStatus:c,hftTokens:a,hftLedger:t,refresh:function(){return o()}})}]})},qt=function(e){var t=e.hftTokens,a=e.mfCache,n=e.tabIdx,c=e.pactTxStatus,l=e.refresh,o=l.getHftLedger,s=l.getHftTokens;return r.a.createElement(jt,{tabIdx:n,tabEntries:[{label:"Create Guard Policy HFT",component:r.a.createElement(Lt,{pactTxStatus:c,mfCache:a,refresh:function(){return s()}})},{label:"Create Fixed Quote Policy HFT",component:r.a.createElement(Rt,{pactTxStatus:c,mfCache:a,refresh:function(){return s()}})},{label:"Mint HFT Token",component:r.a.createElement(Wt,{pactTxStatus:c,hftTokens:t,refresh:function(){return o()}})}]})},Jt=Object(re.a)((function(){return{formControl:{margin:"5px auto",minWidth:120},selectEmpty:{marginTop:"10px auto"}}})),zt=function(){var e=Object(b.a)(g.a.mark((function e(t,a){var n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se.a.fetch.local({pactCode:"(".concat(he.manifestAPI.contractAddress,".uri (read-string 'scheme) (read-string 'data))"),envData:{scheme:t,data:a},meta:se.a.lang.mkMeta(he.manifestAPI.meta.sender,he.manifestAPI.meta.chainId,he.manifestAPI.meta.gasPrice,he.manifestAPI.meta.gasLimit,he.manifestAPI.meta.creationTime(),he.manifestAPI.meta.ttl)},he.manifestAPI.meta.host);case 2:return n=e.sent,r=n.result.data,console.debug("local query data: (".concat(he.manifestAPI.contractAddress,".uri)"),{scheme:t,data:a},r),e.abrupt("return",{type:"uri",value:r});case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Ut=function(){var e=Object(b.a)(g.a.mark((function e(t,a){var n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se.a.fetch.local({pactCode:"(".concat(he.manifestAPI.contractAddress,".create-datum (read-msg 'uri) (read-msg 'datum))"),envData:{uri:t,datum:a},meta:se.a.lang.mkMeta(he.manifestAPI.meta.sender,he.manifestAPI.meta.chainId,he.manifestAPI.meta.gasPrice,he.manifestAPI.meta.gasLimit,he.manifestAPI.meta.creationTime(),he.manifestAPI.meta.ttl)},he.manifestAPI.meta.host);case 2:return n=e.sent,r=n.result.data,console.debug("local query data: (".concat(he.manifestAPI.contractAddress,".create-datum)"),{uri:t,datum:a},r),e.abrupt("return",{type:"datum",value:r});case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Bt=function(){var e=Object(b.a)(g.a.mark((function e(t,a){var n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se.a.fetch.local({pactCode:"(".concat(he.manifestAPI.contractAddress,".create-manifest (read-msg 'uri) (read-msg 'data))"),envData:{uri:t,data:a},meta:se.a.lang.mkMeta(he.manifestAPI.meta.sender,he.manifestAPI.meta.chainId,he.manifestAPI.meta.gasPrice,he.manifestAPI.meta.gasLimit,he.manifestAPI.meta.creationTime(),he.manifestAPI.meta.ttl)},he.manifestAPI.meta.host);case 2:return n=e.sent,r=n.result.data,console.debug("local query data: (".concat(he.manifestAPI.contractAddress,".create-manifest)"),{uri:t,data:a},r),e.abrupt("return",{type:"manifest",value:r});case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Gt=function(e){var t=e.mfCache;return console.debug("renderUri",t),r.a.createElement(He,{json:x.a.map(x.a.filter(t,{type:"uri"}),"value"),header:["Scheme","Data"],keyOrder:["scheme","data"],keyFormatter:Ve})},Ht=function(e){var t=e.mfCache,a=x.a.map(x.a.filter(t,{type:"manifest"}),(function(e){return{hash:e.value.hash,contents:e.value}}));return console.debug("renderManifest",a),r.a.createElement(He,{json:a,header:["Hash","Contents"],keyOrder:["hash","contents"],kvFunc:{contents:function(e){return r.a.createElement(Tt.a,{src:e.contents,name:!1,collapsed:2,enableClipboard:!1,displayDataTypes:!1,displayObjectSize:!1})}}})},_t=function(e){var t=e.mfCache,a=x.a.map(x.a.filter(t,{type:"datum"}),(function(e){return{hash:e.value.hash,contents:e.value}}));return console.debug("renderDatum",a),r.a.createElement(He,{json:a,header:["Hash","Contents"],keyOrder:["hash","contents"],kvFunc:{contents:function(e){return r.a.createElement(Tt.a,{src:e.contents,name:!1,collapsed:2,enableClipboard:!1,displayDataTypes:!1,displayObjectSize:!1})}},keyFormatter:Ve})},$t=function(e){var t=e.mfCache,a=e.setMfCache,c=Object(n.useState)(""),l=Object(h.a)(c,2),o=l[0],s=l[1],i=Object(n.useState)(""),u=Object(h.a)(i,2),m=u[0],f=u[1],p=Jt(),d=function(){var e=Object(b.a)(g.a.mark((function e(n){var r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,zt(o,m);case 4:r=e.sent,console.debug("create-uri result",r),a(x.a.uniq(x.a.concat([r],t))),console.debug("updated mf",t),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log("create-uri Submit Error",typeof e.t0,e.t0,o,m);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),E=[{type:"textFieldSingle",label:"Scheme",className:p.formControl,value:o,onChange:s},{type:"textFieldSingle",label:"Data",className:p.formControl,value:m,onChange:f}];return r.a.createElement(Ze,{inputFields:E,onSubmit:d,tx:"stateless tx",txStatus:"stateless tx",txRes:"stateless tx",setTxStatus:function(){return null}})},Qt=function(e){var t=e.mfCache,a=e.setMfCache,c=Object(n.useState)(""),l=Object(h.a)(c,2),o=l[0],s=l[1],i=Object(n.useState)(""),u=Object(h.a)(i,2),m=u[0],f=u[1],p=Jt(),d=function(){var e=Object(b.a)(g.a.mark((function e(n){var r,c,l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r=JSON.parse(o),c=JSON.parse(m),e.prev=3,e.next=6,Ut(r,c);case 6:l=e.sent,console.debug("create-datum result",l),a(x.a.uniq(x.a.concat([l],t))),console.debug("updated mf",t),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.log("create-datum Submit Error",typeof e.t0,e.t0,r,c);case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}(),E=[{type:"select",label:"URI",className:p.formControl,options:x.a.map(x.a.filter(t,{type:"uri"}),(function(e){return JSON.stringify(e.value)})),value:o,onChange:s},{type:"select",label:"Data",className:p.formControl,options:x.a.map(x.a.reject(t,{type:"datum"}),(function(e){return JSON.stringify(e.value)})),value:m,onChange:f}];return r.a.createElement(Ze,{inputFields:E,onSubmit:d,tx:"stateless tx",txStatus:"stateless tx",txRes:"stateless tx",setTxStatus:function(){return null}})},Zt=function(e){var t=e.mfCache,a=e.setMfCache,c=Object(n.useState)(""),l=Object(h.a)(c,2),o=l[0],s=l[1],i=Object(n.useState)([]),u=Object(h.a)(i,2),m=u[0],f=u[1],p=Jt();console.debug("CreateManifest",{mfCache:t});var d=function(){var e=Object(b.a)(g.a.mark((function e(n){var r,c,l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r=JSON.parse(o),c=x.a.map(m,(function(e){return e.value})),console.debug("create manifest submit",{uriObj:r,dataObjList:c}),e.prev=4,e.next=7,Bt(r,c);case 7:l=e.sent,console.debug("create-manifest result",l),a(x.a.uniq(x.a.concat([l],t))),console.debug("updated mf",t),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),console.log("create-manifest Submit Error",typeof e.t0,e.t0,r,c);case 16:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}(),E=[{type:"select",label:"URI",className:p.formControl,options:x.a.map(x.a.filter(t,{type:"uri"}),(function(e){return JSON.stringify(e.value)})),value:o,onChange:s},{type:"fixedGroupMultiSelector",label:"Data",className:p.formControl,options:x.a.filter(t,{type:"datum"}),value:m,onChange:f}];return r.a.createElement(Ze,{inputFields:E,onSubmit:d,tx:"stateless tx",txStatus:"stateless tx",txRes:"stateless tx",setTxStatus:function(){return null}})},Xt=function(e){var t=e.mfCache,a=e.setMfCache,n=e.tabIdx;return r.a.createElement(jt,{tabIdx:n,tabEntries:[{label:"Create URI",component:r.a.createElement($t,{mfCache:t,setMfCache:a})},{label:"Create Datum",component:r.a.createElement(Qt,{mfCache:t,setMfCache:a})},{label:"Create Manifest",component:r.a.createElement(Zt,{mfCache:t,setMfCache:a})}]})},Yt={primary:"Marmalade",subList:[{primary:"Config & State",subList:[{primary:"Config",to:{app:"hft",ui:"config"}},{primary:"Tokens",to:{app:"hft",ui:"tokens"}},{primary:"Ledger",to:{app:"hft",ui:"ledger"}},{primary:"Manifest",to:{app:"hft",ui:"manifest"}}]}]},ea=function(e){var t=e.appRoute,a=e.setAppRoute,n=e.hftLedger,c=e.hftTokens,l=e.mfCache,o=e.setMfCache,s=e.pactTxStatus,i=e.refresh;i.getHftLedger,i.getHftTokens;return"config"===t.ui?r.a.createElement(Z.a,null,r.a.createElement(X.a,{title:"Contract and UI Configuration"}),r.a.createElement(Y.a,null,r.a.createElement(kt,null))):"tokens"===t.ui?r.a.createElement(Z.a,null,r.a.createElement(X.a,{title:"Tokens State"}),r.a.createElement(Y.a,null,r.a.createElement(It,{hftTokens:c}),r.a.createElement(qt,{pactTxStatus:s,tabIdx:"hftTabT",hftTokens:c,mfCache:l,refresh:i}))):"ledger"===t.ui?r.a.createElement(Z.a,null,r.a.createElement(X.a,{title:"Ledger State"}),r.a.createElement(Y.a,null,r.a.createElement(At,{hftLedger:n}),r.a.createElement(Vt,{pactTxStatus:s,tabIdx:"hftTabL",hftTokens:c,hftLedger:n,mfCache:l,refresh:i}))):"manifest"===t.ui?r.a.createElement(r.a.Fragment,null,r.a.createElement(Z.a,null,r.a.createElement(X.a,{title:"URI Local Cache"}),r.a.createElement(Y.a,null,r.a.createElement(Gt,{mfCache:l}))),r.a.createElement(Z.a,null,r.a.createElement(X.a,{title:"Datum Local Cache"}),r.a.createElement(Y.a,null,r.a.createElement(_t,{mfCache:l}))),r.a.createElement(Z.a,null,r.a.createElement(X.a,{title:"Manifest Local Cache"}),r.a.createElement(Y.a,null,r.a.createElement(Ht,{mfCache:l}))),r.a.createElement(Z.a,null,r.a.createElement(Y.a,null,r.a.createElement(Xt,{mfCache:l,setMfCache:o,tabIdx:"mfCache"})))):r.a.createElement(r.a.Fragment,null,a({app:"wallet",ui:"config"}))},ta=function(){var e=Object(i.e)({app:Object(i.f)(i.c,"wallet"),ui:Object(i.f)(i.c,"config")}),t=Object(h.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),o=Object(h.a)(l,2),u=o[0],m=o[1],f=Object(n.useState)({}),p=Object(h.a)(f,2),d=p[0],y=p[1],x=Object(n.useState)({}),O=Object(h.a)(x,2),C={tx:d,setTx:y,txStatus:u,setTxStatus:m,txRes:O[0],setTxRes:O[1]},S=Object(E.a)("hftLedger6")({}),j=Object(h.a)(S,2),k=j[0],w=j[1],T=Object(E.a)("hftTokens6")({}),N=Object(h.a)(T,2),A=N[0],I=N[1],P=Object(E.a)("mfCache4")([]),F=Object(h.a)(P,2),L=F[0],R=F[1],W=function(){var e=Object(b.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nt("get-ledger");case 2:t=e.sent,w(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(b.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nt("get-tokens");case 2:t=e.sent,I(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D={getHftLedger:W,getHftTokens:M};return Object(n.useEffect)((function(){W(),M(),console.debug("App.useEffect[] fired")}),[]),r.a.createElement(Et,{entriesList:[[lt,Yt]]},r.a.createElement(v.a,null,r.a.createElement(s.c,null,"wallet"===a.app?r.a.createElement(ot,{appRoute:a,setAppRoute:c}):"hft"===a.app?r.a.createElement(ea,{appRoute:a,setAppRoute:c,hftLedger:k,hftTokens:A,mfCache:L,setMfCache:R,pactTxStatus:C,refresh:D}):r.a.createElement(r.a.Fragment,null,(function(){console.log("Redirecting, this didn't match:",a),c({app:"wallet",ui:"config"})})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var aa=function(){var e=r.a.useMemo((function(){return Object(u.a)({palette:{primary:{light:"#cb4584",main:"#F78D1E",dark:"#cb4584",contrastText:"#fff"},secondary:{light:"#ffffff",main:"#e3e8ed",dark:"#b1b6bb",contrastText:"#000"}}})}),[]);return r.a.createElement(r.a.StrictMode,null,r.a.createElement(m.a,{theme:e},r.a.createElement(f.a,null,r.a.createElement(p.a,null),r.a.createElement(rt,{contractConfigs:{hftAPI:he.hftAPI,manifestAPI:he.manifestAPI,gtpAPI:he.gtpAPI,fqpAPI:he.fqpAPI},globalConfig:he.globalConfig},r.a.createElement(o.a,{basename:"/marmalade"},r.a.createElement(i.b,{ReactRouterRoute:s.a},r.a.createElement(ta,null)))))))};l.a.render(r.a.createElement(aa,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},7:function(e,t){var a="memory-wall-gas-station",n="https://".concat("api.testnet.chainweb.com","/chainweb/0.0/").concat("testnet04","/chain/").concat("0","/pact"),r=function(){return Math.round((new Date).getTime()/1e3)-15},c={explorerURL:"https://explorer.chainweb.com/".concat("testnet04".slice(0,-2)),networkId:"testnet04",host:n,creationTime:r,gasPrice:1e-11,gasLimit:1e4,ttl:28800},l={contractName:"token-manifest",gasStationName:a,namespace:"kip",contractAddress:"".concat("kip",".").concat("token-manifest"),gasStationAddress:"".concat("kip",".").concat(a),explorerURL:"https://explorer.chainweb.com/".concat("testnet04".slice(0,-2)),constants:{},meta:{networkId:"testnet04",chainId:"0",host:n,creationTime:r,gasPrice:1e-9,gasLimit:1e4,ttl:28800,sender:"mw-free-gas",nonce:"some nonce that doesnt matter"}},o={contractName:"ledger",gasStationName:a,namespace:"marmalade",contractAddress:"".concat("marmalade",".").concat("ledger"),gasStationAddress:"".concat("marmalade",".").concat(a),explorerURL:"https://explorer.chainweb.com/".concat("testnet04".slice(0,-2)),constants:{},meta:{networkId:"testnet04",chainId:"0",host:n,creationTime:r,gasPrice:1e-9,gasLimit:1e4,ttl:28800,sender:"mw-free-gas",nonce:"some nonce that doesnt matter"}},s={contractName:"guard-token-policy",gasStationName:a,namespace:"marmalade",contractAddress:"".concat("marmalade",".").concat("guard-token-policy"),gasStationAddress:"".concat("marmalade",".").concat(a),explorerURL:"https://explorer.chainweb.com/".concat("testnet04".slice(0,-2)),constants:{},meta:{networkId:"testnet04",chainId:"0",host:n,creationTime:r,gasPrice:1e-9,gasLimit:1e4,ttl:28800,sender:"mw-free-gas",nonce:"some nonce that doesnt matter"}},i={contractName:"fixed-quote-policy",gasStationName:a,namespace:"marmalade",contractAddress:"".concat("marmalade",".").concat("fixed-quote-policy"),gasStationAddress:"".concat("marmalade",".").concat(a),explorerURL:"https://explorer.chainweb.com/".concat("testnet04".slice(0,-2)),constants:{},meta:{networkId:"testnet04",chainId:"0",host:n,creationTime:r,gasPrice:1e-9,gasLimit:1e4,ttl:28800,sender:"mw-free-gas",nonce:"some nonce that doesnt matter"}};e.exports={manifestAPI:l,hftAPI:o,gtpAPI:s,fqpAPI:i,globalConfig:c,keyFormatter:function(e){return e.replace(new RegExp("[A-Z]+","gm")," $&").replace(new RegExp("^[a-z]","gm"),(function(e){return e.toUpperCase()}))}}}},[[200,1,2]]]);
//# sourceMappingURL=main.67a88931.chunk.js.map